typedef unsigned char   undefined;

typedef unsigned char    byte;
typedef unsigned char    dwfenc;
typedef unsigned int    dword;
typedef unsigned long    qword;
typedef unsigned char    uchar;
typedef unsigned int    uint;
typedef unsigned long    ulong;
typedef unsigned char    undefined1;
typedef unsigned short    undefined2;
typedef unsigned int    undefined4;
typedef unsigned long    undefined8;
typedef unsigned short    ushort;
typedef unsigned short    word;
typedef struct eh_frame_hdr eh_frame_hdr, *Peh_frame_hdr;

struct eh_frame_hdr {
    byte eh_frame_hdr_version; // Exception Handler Frame Header Version
    dwfenc eh_frame_pointer_encoding; // Exception Handler Frame Pointer Encoding
    dwfenc eh_frame_desc_entry_count_encoding; // Encoding of # of Exception Handler FDEs
    dwfenc eh_frame_table_encoding; // Exception Handler Table Encoding
};

typedef struct NoteGnuPropertyElement_4 NoteGnuPropertyElement_4, *PNoteGnuPropertyElement_4;

struct NoteGnuPropertyElement_4 {
    dword prType;
    dword prDatasz;
    byte data[4];
};

typedef struct fde_table_entry fde_table_entry, *Pfde_table_entry;

struct fde_table_entry {
    dword initial_loc; // Initial Location
    dword data_loc; // Data location
};

typedef void _IO_lock_t;

typedef struct _IO_marker _IO_marker, *P_IO_marker;

typedef struct _IO_FILE _IO_FILE, *P_IO_FILE;

typedef long __off_t;

typedef long __off64_t;

typedef ulong size_t;

struct _IO_FILE {
    int _flags;
    char *_IO_read_ptr;
    char *_IO_read_end;
    char *_IO_read_base;
    char *_IO_write_base;
    char *_IO_write_ptr;
    char *_IO_write_end;
    char *_IO_buf_base;
    char *_IO_buf_end;
    char *_IO_save_base;
    char *_IO_backup_base;
    char *_IO_save_end;
    struct _IO_marker *_markers;
    struct _IO_FILE *_chain;
    int _fileno;
    int _flags2;
    __off_t _old_offset;
    ushort _cur_column;
    char _vtable_offset;
    char _shortbuf[1];
    _IO_lock_t *_lock;
    __off64_t _offset;
    void *__pad1;
    void *__pad2;
    void *__pad3;
    void *__pad4;
    size_t __pad5;
    int _mode;
    char _unused2[20];
};

struct _IO_marker {
    struct _IO_marker *_next;
    struct _IO_FILE *_sbuf;
    int _pos;
};

typedef struct stat stat, *Pstat;

typedef ulong __dev_t;

typedef ulong __ino_t;

typedef ulong __nlink_t;

typedef uint __mode_t;

typedef uint __uid_t;

typedef uint __gid_t;

typedef long __blksize_t;

typedef long __blkcnt_t;

typedef struct timespec timespec, *Ptimespec;

typedef long __time_t;

struct timespec {
    __time_t tv_sec;
    long tv_nsec;
};

struct stat {
    __dev_t st_dev;
    __ino_t st_ino;
    __nlink_t st_nlink;
    __mode_t st_mode;
    __uid_t st_uid;
    __gid_t st_gid;
    int __pad0;
    __dev_t st_rdev;
    __off_t st_size;
    __blksize_t st_blksize;
    __blkcnt_t st_blocks;
    struct timespec st_atim;
    struct timespec st_mtim;
    struct timespec st_ctim;
    long __unused[3];
};

typedef struct _IO_FILE FILE;

typedef int __pid_t;

typedef int __int32_t;

typedef long __suseconds_t;

typedef long __clock_t;

typedef struct MD5state_st MD5state_st, *PMD5state_st;

typedef struct MD5state_st MD5_CTX;

struct MD5state_st {
    uint A;
    uint B;
    uint C;
    uint D;
    uint Nl;
    uint Nh;
    uint data[16];
    uint num;
};

typedef struct dirent dirent, *Pdirent;

struct dirent {
    __ino_t d_ino;
    __off_t d_off;
    ushort d_reclen;
    uchar d_type;
    char d_name[256];
};

typedef struct glob_t glob_t, *Pglob_t;

struct glob_t {
    size_t gl_pathc;
    char **gl_pathv;
    size_t gl_offs;
    int gl_flags;
    void (*gl_closedir)(void *);
    dirent * (*gl_readdir)(void *);
    void * (*gl_opendir)(char *);
    int (*gl_lstat)(char *, struct stat *);
    int (*gl_stat)(char *, struct stat *);
};

typedef union sigval sigval, *Psigval;

union sigval {
    int sival_int;
    void *sival_ptr;
};

typedef struct siginfo siginfo, *Psiginfo;

typedef union _union_1441 _union_1441, *P_union_1441;

typedef struct _struct_1442 _struct_1442, *P_struct_1442;

typedef struct _struct_1443 _struct_1443, *P_struct_1443;

typedef struct _struct_1444 _struct_1444, *P_struct_1444;

typedef struct _struct_1445 _struct_1445, *P_struct_1445;

typedef struct _struct_1446 _struct_1446, *P_struct_1446;

typedef struct _struct_1447 _struct_1447, *P_struct_1447;

typedef union sigval sigval_t;

struct _struct_1445 {
    __pid_t si_pid;
    __uid_t si_uid;
    int si_status;
    __clock_t si_utime;
    __clock_t si_stime;
};

struct _struct_1444 {
    __pid_t si_pid;
    __uid_t si_uid;
    sigval_t si_sigval;
};

struct _struct_1443 {
    int si_tid;
    int si_overrun;
    sigval_t si_sigval;
};

struct _struct_1446 {
    void *si_addr;
};

struct _struct_1442 {
    __pid_t si_pid;
    __uid_t si_uid;
};

struct _struct_1447 {
    long si_band;
    int si_fd;
};

union _union_1441 {
    int _pad[28];
    struct _struct_1442 _kill;
    struct _struct_1443 _timer;
    struct _struct_1444 _rt;
    struct _struct_1445 _sigchld;
    struct _struct_1446 _sigfault;
    struct _struct_1447 _sigpoll;
};

struct siginfo {
    int si_signo;
    int si_errno;
    int si_code;
    union _union_1441 _sifields;
};

typedef struct siginfo siginfo_t;

typedef struct timezone timezone, *Ptimezone;

struct timezone {
    int tz_minuteswest;
    int tz_dsttime;
};

typedef struct timeval timeval, *Ptimeval;

struct timeval {
    __time_t tv_sec;
    __suseconds_t tv_usec;
};

typedef struct timezone *__timezone_ptr_t;

typedef union _union_1457 _union_1457, *P_union_1457;

typedef void (*__sighandler_t)(int);

union _union_1457 {
    __sighandler_t sa_handler;
    void (*sa_sigaction)(int, siginfo_t *, void *);
};

typedef struct sigaction sigaction, *Psigaction;

typedef struct __sigset_t __sigset_t, *P__sigset_t;

struct __sigset_t {
    ulong __val[16];
};

struct sigaction {
    union _union_1457 __sigaction_handler;
    struct __sigset_t sa_mask;
    int sa_flags;
    void (*sa_restorer)(void);
};

typedef struct __sigset_t sigset_t;

typedef void *iconv_t;

typedef enum Elf_ProgramHeaderType {
    PT_NULL=0,
    PT_LOAD=1,
    PT_DYNAMIC=2,
    PT_INTERP=3,
    PT_NOTE=4,
    PT_SHLIB=5,
    PT_PHDR=6,
    PT_TLS=7,
    PT_GNU_EH_FRAME=1685382480,
    PT_GNU_STACK=1685382481,
    PT_GNU_RELRO=1685382482
} Elf_ProgramHeaderType;

typedef struct Elf64_Rela Elf64_Rela, *PElf64_Rela;

struct Elf64_Rela {
    qword r_offset; // location to apply the relocation action
    qword r_info; // the symbol table index and the type of relocation
    qword r_addend; // a constant addend used to compute the relocatable field value
};

typedef struct Elf64_Dyn Elf64_Dyn, *PElf64_Dyn;

typedef enum Elf64_DynTag {
    DT_NULL=0,
    DT_NEEDED=1,
    DT_PLTRELSZ=2,
    DT_PLTGOT=3,
    DT_HASH=4,
    DT_STRTAB=5,
    DT_SYMTAB=6,
    DT_RELA=7,
    DT_RELASZ=8,
    DT_RELAENT=9,
    DT_STRSZ=10,
    DT_SYMENT=11,
    DT_INIT=12,
    DT_FINI=13,
    DT_SONAME=14,
    DT_RPATH=15,
    DT_SYMBOLIC=16,
    DT_REL=17,
    DT_RELSZ=18,
    DT_RELENT=19,
    DT_PLTREL=20,
    DT_DEBUG=21,
    DT_TEXTREL=22,
    DT_JMPREL=23,
    DT_BIND_NOW=24,
    DT_INIT_ARRAY=25,
    DT_FINI_ARRAY=26,
    DT_INIT_ARRAYSZ=27,
    DT_FINI_ARRAYSZ=28,
    DT_RUNPATH=29,
    DT_FLAGS=30,
    DT_PREINIT_ARRAY=32,
    DT_PREINIT_ARRAYSZ=33,
    DT_RELRSZ=35,
    DT_RELR=36,
    DT_RELRENT=37,
    DT_ANDROID_REL=1610612751,
    DT_ANDROID_RELSZ=1610612752,
    DT_ANDROID_RELA=1610612753,
    DT_ANDROID_RELASZ=1610612754,
    DT_ANDROID_RELR=1879040000,
    DT_ANDROID_RELRSZ=1879040001,
    DT_ANDROID_RELRENT=1879040003,
    DT_GNU_PRELINKED=1879047669,
    DT_GNU_CONFLICTSZ=1879047670,
    DT_GNU_LIBLISTSZ=1879047671,
    DT_CHECKSUM=1879047672,
    DT_PLTPADSZ=1879047673,
    DT_MOVEENT=1879047674,
    DT_MOVESZ=1879047675,
    DT_FEATURE_1=1879047676,
    DT_POSFLAG_1=1879047677,
    DT_SYMINSZ=1879047678,
    DT_SYMINENT=1879047679,
    DT_GNU_XHASH=1879047924,
    DT_GNU_HASH=1879047925,
    DT_TLSDESC_PLT=1879047926,
    DT_TLSDESC_GOT=1879047927,
    DT_GNU_CONFLICT=1879047928,
    DT_GNU_LIBLIST=1879047929,
    DT_CONFIG=1879047930,
    DT_DEPAUDIT=1879047931,
    DT_AUDIT=1879047932,
    DT_PLTPAD=1879047933,
    DT_MOVETAB=1879047934,
    DT_SYMINFO=1879047935,
    DT_VERSYM=1879048176,
    DT_RELACOUNT=1879048185,
    DT_RELCOUNT=1879048186,
    DT_FLAGS_1=1879048187,
    DT_VERDEF=1879048188,
    DT_VERDEFNUM=1879048189,
    DT_VERNEED=1879048190,
    DT_VERNEEDNUM=1879048191,
    DT_AUXILIARY=2147483645,
    DT_FILTER=2147483647
} Elf64_DynTag;

struct Elf64_Dyn {
    enum Elf64_DynTag d_tag;
    qword d_val;
};

typedef struct Elf64_Shdr Elf64_Shdr, *PElf64_Shdr;

typedef enum Elf_SectionHeaderType {
    SHT_NULL=0,
    SHT_PROGBITS=1,
    SHT_SYMTAB=2,
    SHT_STRTAB=3,
    SHT_RELA=4,
    SHT_HASH=5,
    SHT_DYNAMIC=6,
    SHT_NOTE=7,
    SHT_NOBITS=8,
    SHT_REL=9,
    SHT_SHLIB=10,
    SHT_DYNSYM=11,
    SHT_INIT_ARRAY=14,
    SHT_FINI_ARRAY=15,
    SHT_PREINIT_ARRAY=16,
    SHT_GROUP=17,
    SHT_SYMTAB_SHNDX=18,
    SHT_ANDROID_REL=1610612737,
    SHT_ANDROID_RELA=1610612738,
    SHT_GNU_ATTRIBUTES=1879048181,
    SHT_GNU_HASH=1879048182,
    SHT_GNU_LIBLIST=1879048183,
    SHT_CHECKSUM=1879048184,
    SHT_SUNW_move=1879048186,
    SHT_SUNW_COMDAT=1879048187,
    SHT_SUNW_syminfo=1879048188,
    SHT_GNU_verdef=1879048189,
    SHT_GNU_verneed=1879048190,
    SHT_GNU_versym=1879048191
} Elf_SectionHeaderType;

struct Elf64_Shdr {
    dword sh_name;
    enum Elf_SectionHeaderType sh_type;
    qword sh_flags;
    qword sh_addr;
    qword sh_offset;
    qword sh_size;
    dword sh_link;
    dword sh_info;
    qword sh_addralign;
    qword sh_entsize;
};

typedef struct GnuBuildId GnuBuildId, *PGnuBuildId;

struct GnuBuildId {
    dword namesz; // Length of name field
    dword descsz; // Length of description field
    dword type; // Vendor specific type
    char name[4]; // Vendor name
    byte hash[20];
};

typedef struct NoteGnuProperty_4 NoteGnuProperty_4, *PNoteGnuProperty_4;

struct NoteGnuProperty_4 {
    dword namesz; // Length of name field
    dword descsz; // Length of description field
    dword type; // Vendor specific type
    char name[4]; // Vendor name
};

typedef struct Elf64_Ehdr Elf64_Ehdr, *PElf64_Ehdr;

struct Elf64_Ehdr {
    byte e_ident_magic_num;
    char e_ident_magic_str[3];
    byte e_ident_class;
    byte e_ident_data;
    byte e_ident_version;
    byte e_ident_osabi;
    byte e_ident_abiversion;
    byte e_ident_pad[7];
    word e_type;
    word e_machine;
    dword e_version;
    qword e_entry;
    qword e_phoff;
    qword e_shoff;
    dword e_flags;
    word e_ehsize;
    word e_phentsize;
    word e_phnum;
    word e_shentsize;
    word e_shnum;
    word e_shstrndx;
};

typedef struct Elf64_Phdr Elf64_Phdr, *PElf64_Phdr;

struct Elf64_Phdr {
    enum Elf_ProgramHeaderType p_type;
    dword p_flags;
    qword p_offset;
    qword p_vaddr;
    qword p_paddr;
    qword p_filesz;
    qword p_memsz;
    qword p_align;
};

typedef struct Elf64_Sym Elf64_Sym, *PElf64_Sym;

struct Elf64_Sym {
    dword st_name;
    byte st_info;
    byte st_other;
    word st_shndx;
    qword st_value;
    qword st_size;
};

typedef struct NoteAbiTag NoteAbiTag, *PNoteAbiTag;

struct NoteAbiTag {
    dword namesz; // Length of name field
    dword descsz; // Length of description field
    dword type; // Vendor specific type
    char name[4]; // Vendor name
    dword abiType; // 0 == Linux
    dword requiredKernelVersion[3]; // Major.minor.patch
};




void _DT_INIT(void)

{
  if (true) {
    __gmon_start__();
  }
  return;
}



void FUN_00104020(void)

{
  (*(code *)(undefined *)0x0)();
  return;
}



void FUN_001047b0(void)

{
  __cxa_finalize();
  return;
}



void WavpackAppendTagItem(void)

{
  WavpackAppendTagItem();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

double log10(double __x)

{
  double dVar1;
  
  dVar1 = log10(__x);
  return dVar1;
}



void WavpackBigEndianToNative(void)

{
  WavpackBigEndianToNative();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int fileno(FILE *__stream)

{
  int iVar1;
  
  iVar1 = fileno(__stream);
  return iVar1;
}



void __stpcpy_chk(void)

{
  __stpcpy_chk();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void * memset(void *__s,int __c,size_t __n)

{
  void *pvVar1;
  
  pvVar1 = memset(__s,__c,__n);
  return pvVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

long ftell(FILE *__stream)

{
  long lVar1;
  
  lVar1 = ftell(__stream);
  return lVar1;
}



void WavpackGetBinaryTagItem(void)

{
  WavpackGetBinaryTagItem();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

char * stpcpy(char *__dest,char *__src)

{
  char *pcVar1;
  
  pcVar1 = stpcpy(__dest,__src);
  return pcVar1;
}



void __fprintf_chk(void)

{
  __fprintf_chk();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int utimes(char *__file,timeval *__tvp)

{
  int iVar1;
  
  iVar1 = utimes(__file,__tvp);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int puts(char *__s)

{
  int iVar1;
  
  iVar1 = puts(__s);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int fseek(FILE *__stream,long __off,int __whence)

{
  int iVar1;
  
  iVar1 = fseek(__stream,__off,__whence);
  return iVar1;
}



void WavpackOpenFileInput(void)

{
  WavpackOpenFileInput();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void exit(int __status)

{
                    // WARNING: Subroutine does not return
  exit(__status);
}



void __printf_chk(void)

{
  __printf_chk();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int strcasecmp(char *__s1,char *__s2)

{
  int iVar1;
  
  iVar1 = strcasecmp(__s1,__s2);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int gettimeofday(timeval *__tv,__timezone_ptr_t __tz)

{
  int iVar1;
  
  iVar1 = gettimeofday(__tv,__tz);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

char * strpbrk(char *__s,char *__accept)

{
  char *pcVar1;
  
  pcVar1 = strpbrk(__s,__accept);
  return pcVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int strncmp(char *__s1,char *__s2,size_t __n)

{
  int iVar1;
  
  iVar1 = strncmp(__s1,__s2,__n);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void * malloc(size_t __size)

{
  void *pvVar1;
  
  pvVar1 = malloc(__size);
  return pvVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

FILE * fopen(char *__filename,char *__modes)

{
  FILE *pFVar1;
  
  pFVar1 = fopen(__filename,__modes);
  return pFVar1;
}



void WavpackFreeWrapper(void)

{
  WavpackFreeWrapper();
  return;
}



void WavpackWriteTag(void)

{
  WavpackWriteTag();
  return;
}



void WavpackGetBitsPerSample(void)

{
  WavpackGetBitsPerSample();
  return;
}



void WavpackGetChannelIdentities(void)

{
  WavpackGetChannelIdentities();
  return;
}



void __memcpy_chk(void)

{
  __memcpy_chk();
  return;
}



void WavpackGetEncodedNoise(void)

{
  WavpackGetEncodedNoise();
  return;
}



void WavpackSetFileInformation(void)

{
  WavpackSetFileInformation();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

iconv_t iconv_open(char *__tocode,char *__fromcode)

{
  iconv_t pvVar1;
  
  pvVar1 = iconv_open(__tocode,__fromcode);
  return pvVar1;
}



void WavpackGetNumSamples(void)

{
  WavpackGetNumSamples();
  return;
}



void WavpackAppendBinaryTagItem(void)

{
  WavpackAppendBinaryTagItem();
  return;
}



void WavpackGetErrorMessage(void)

{
  WavpackGetErrorMessage();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int ungetc(int __c,FILE *__stream)

{
  int iVar1;
  
  iVar1 = ungetc(__c,__stream);
  return iVar1;
}



void WavpackGetTagItemIndexed(void)

{
  WavpackGetTagItemIndexed();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int fputc(int __c,FILE *__stream)

{
  int iVar1;
  
  iVar1 = fputc(__c,__stream);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void free(void *__ptr)

{
  free(__ptr);
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

size_t strlen(char *__s)

{
  size_t sVar1;
  
  sVar1 = strlen(__s);
  return sVar1;
}



void WavpackUpdateNumSamples(void)

{
  WavpackUpdateNumSamples();
  return;
}



void WavpackGetChannelLayout(void)

{
  WavpackGetChannelLayout();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int ferror(FILE *__stream)

{
  int iVar1;
  
  iVar1 = ferror(__stream);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int __xstat(int __ver,char *__filename,stat *__stat_buf)

{
  int iVar1;
  
  iVar1 = __xstat(__ver,__filename,__stat_buf);
  return iVar1;
}



void WavpackGetBytesPerSample(void)

{
  WavpackGetBytesPerSample();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int MD5_Final(uchar *md,MD5_CTX *c)

{
  int iVar1;
  
  iVar1 = MD5_Final(md,c);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int MD5_Update(MD5_CTX *c,void *data,size_t len)

{
  int iVar1;
  
  iVar1 = MD5_Update(c,data,len);
  return iVar1;
}



void WavpackGetProgress(void)

{
  WavpackGetProgress();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

ushort ** __ctype_b_loc(void)

{
  ushort **ppuVar1;
  
  ppuVar1 = __ctype_b_loc();
  return ppuVar1;
}



void __vsprintf_chk(void)

{
  __vsprintf_chk();
  return;
}



void WavpackGetNumTagItems(void)

{
  WavpackGetNumTagItems();
  return;
}



void WavpackGetAverageBitrate(void)

{
  WavpackGetAverageBitrate();
  return;
}



void WavpackNativeToBigEndian(void)

{
  WavpackNativeToBigEndian();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int fgetc(FILE *__stream)

{
  int iVar1;
  
  iVar1 = fgetc(__stream);
  return iVar1;
}



void WavpackGetLibraryVersionString(void)

{
  WavpackGetLibraryVersionString();
  return;
}



void WavpackGetBinaryTagItemIndexed(void)

{
  WavpackGetBinaryTagItemIndexed();
  return;
}



void WavpackPackInit(void)

{
  WavpackPackInit();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

size_t iconv(iconv_t __cd,char **__inbuf,size_t *__inbytesleft,char **__outbuf,
            size_t *__outbytesleft)

{
  size_t sVar1;
  
  sVar1 = iconv(__cd,__inbuf,__inbytesleft,__outbuf,__outbytesleft);
  return sVar1;
}



void WavpackFlushSamples(void)

{
  WavpackFlushSamples();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

char * strstr(char *__haystack,char *__needle)

{
  char *pcVar1;
  
  pcVar1 = strstr(__haystack,__needle);
  return pcVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int sigaction(int __sig,sigaction *__act,sigaction *__oact)

{
  int iVar1;
  
  iVar1 = sigaction(__sig,__act,__oact);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

char * strcat(char *__dest,char *__src)

{
  char *pcVar1;
  
  pcVar1 = strcat(__dest,__src);
  return pcVar1;
}



void WavpackGetFloatNormExp(void)

{
  WavpackGetFloatNormExp();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int fputs(char *__s,FILE *__stream)

{
  int iVar1;
  
  iVar1 = fputs(__s,__stream);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

long strtol(char *__nptr,char **__endptr,int __base)

{
  long lVar1;
  
  lVar1 = strtol(__nptr,__endptr,__base);
  return lVar1;
}



void WavpackGetFileExtension(void)

{
  WavpackGetFileExtension();
  return;
}



void WavpackGetNumSamples64(void)

{
  WavpackGetNumSamples64();
  return;
}



void WavpackGetChannelMask(void)

{
  WavpackGetChannelMask();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

double exp2(double __x)

{
  double dVar1;
  
  dVar1 = exp2(__x);
  return dVar1;
}



void WavpackPackSamples(void)

{
  WavpackPackSamples();
  return;
}



void WavpackUnpackSamples(void)

{
  WavpackUnpackSamples();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void * memmove(void *__dest,void *__src,size_t __n)

{
  void *pvVar1;
  
  pvVar1 = memmove(__dest,__src,__n);
  return pvVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

char * strchr(char *__s,int __c)

{
  char *pcVar1;
  
  pcVar1 = strchr(__s,__c);
  return pcVar1;
}



void WavpackGetWrapperData(void)

{
  WavpackGetWrapperData();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

size_t fread(void *__ptr,size_t __size,size_t __n,FILE *__stream)

{
  size_t sVar1;
  
  sVar1 = fread(__ptr,__size,__n,__stream);
  return sVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int __fxstat(int __ver,int __fildes,stat *__stat_buf)

{
  int iVar1;
  
  iVar1 = __fxstat(__ver,__fildes,__stat_buf);
  return iVar1;
}



void WavpackGetSampleRate(void)

{
  WavpackGetSampleRate();
  return;
}



void WavpackGetWrapperBytes(void)

{
  WavpackGetWrapperBytes();
  return;
}



void WavpackGetRatio(void)

{
  WavpackGetRatio();
  return;
}



void WavpackGetNumErrors(void)

{
  WavpackGetNumErrors();
  return;
}



void WavpackLittleEndianToNative(void)

{
  WavpackLittleEndianToNative();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

char * strdup(char *__s)

{
  char *pcVar1;
  
  pcVar1 = strdup(__s);
  return pcVar1;
}



void WavpackNativeToLittleEndian(void)

{
  WavpackNativeToLittleEndian();
  return;
}



void __stack_chk_fail(void)

{
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int strcmp(char *__s1,char *__s2)

{
  int iVar1;
  
  iVar1 = strcmp(__s1,__s2);
  return iVar1;
}



void WavpackGetFileFormat(void)

{
  WavpackGetFileFormat();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

char * strcpy(char *__dest,char *__src)

{
  char *pcVar1;
  
  pcVar1 = strcpy(__dest,__src);
  return pcVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int MD5_Init(MD5_CTX *c)

{
  int iVar1;
  
  iVar1 = MD5_Init(c);
  return iVar1;
}



void WavpackSetConfiguration64(void)

{
  WavpackSetConfiguration64();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int glob(char *__pattern,int __flags,__errfunc *__errfunc,glob_t *__pglob)

{
  int iVar1;
  
  iVar1 = glob(__pattern,__flags,__errfunc,__pglob);
  return iVar1;
}



void WavpackLossyBlocks(void)

{
  WavpackLossyBlocks();
  return;
}



void WavpackGetMD5Sum(void)

{
  WavpackGetMD5Sum();
  return;
}



void WavpackAddWrapper(void)

{
  WavpackAddWrapper();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

__int32_t ** __ctype_tolower_loc(void)

{
  __int32_t **pp_Var1;
  
  pp_Var1 = __ctype_tolower_loc();
  return pp_Var1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int memcmp(void *__s1,void *__s2,size_t __n)

{
  int iVar1;
  
  iVar1 = memcmp(__s1,__s2,__n);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void * calloc(size_t __nmemb,size_t __size)

{
  void *pvVar1;
  
  pvVar1 = calloc(__nmemb,__size);
  return pvVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void globfree(glob_t *__pglob)

{
  globfree(__pglob);
  return;
}



void WavpackGetTagItem(void)

{
  WavpackGetTagItem();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int fclose(FILE *__stream)

{
  int iVar1;
  
  iVar1 = fclose(__stream);
  return iVar1;
}



void WavpackGetNumChannels(void)

{
  WavpackGetNumChannels();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int remove(char *__filename)

{
  int iVar1;
  
  iVar1 = remove(__filename);
  return iVar1;
}



void WavpackOpenFileOutput(void)

{
  WavpackOpenFileOutput();
  return;
}



void WavpackDeleteTagItem(void)

{
  WavpackDeleteTagItem();
  return;
}



void WavpackSetChannelLayout(void)

{
  WavpackSetChannelLayout();
  return;
}



void __sprintf_chk(void)

{
  __sprintf_chk();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int ftruncate(int __fd,__off_t __length)

{
  int iVar1;
  
  iVar1 = ftruncate(__fd,__length);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int sigemptyset(sigset_t *__set)

{
  int iVar1;
  
  iVar1 = sigemptyset(__set);
  return iVar1;
}



void WavpackGetQualifyMode(void)

{
  WavpackGetQualifyMode();
  return;
}



void WavpackGetNumBinaryTagItems(void)

{
  WavpackGetNumBinaryTagItems();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

size_t fwrite(void *__ptr,size_t __size,size_t __n,FILE *__s)

{
  size_t sVar1;
  
  sVar1 = fwrite(__ptr,__size,__n,__s);
  return sVar1;
}



void WavpackCloseFile(void)

{
  WavpackCloseFile();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void * realloc(void *__ptr,size_t __size)

{
  void *pvVar1;
  
  pvVar1 = realloc(__ptr,__size);
  return pvVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

char * setlocale(int __category,char *__locale)

{
  char *pcVar1;
  
  pcVar1 = setlocale(__category,__locale);
  return pcVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

double floor(double __x)

{
  double dVar1;
  
  dVar1 = floor(__x);
  return dVar1;
}



void WavpackStoreMD5Sum(void)

{
  WavpackStoreMD5Sum();
  return;
}



void WavpackGetMode(void)

{
  WavpackGetMode();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void * memcpy(void *__dest,void *__src,size_t __n)

{
  void *pvVar1;
  
  pvVar1 = memcpy(__dest,__src,__n);
  return pvVar1;
}



void WavpackGetSampleIndex64(void)

{
  WavpackGetSampleIndex64();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int iconv_close(iconv_t __cd)

{
  int iVar1;
  
  iVar1 = iconv_close(__cd);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int rename(char *__old,char *__new)

{
  int iVar1;
  
  iVar1 = rename(__old,__new);
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

double strtod(char *__nptr,char **__endptr)

{
  double dVar1;
  
  dVar1 = strtod(__nptr,__endptr);
  return dVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int fflush(FILE *__stream)

{
  int iVar1;
  
  iVar1 = fflush(__stream);
  return iVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool FUN_00104f40(int param_1,char **param_2)

{
  float fVar1;
  char **ppcVar2;
  long *plVar3;
  ushort *puVar4;
  ushort uVar5;
  __time_t _Var6;
  __suseconds_t _Var7;
  __time_t _Var8;
  __suseconds_t _Var9;
  undefined uVar10;
  char cVar11;
  byte bVar12;
  uint uVar13;
  uint uVar14;
  undefined4 uVar15;
  int iVar16;
  int iVar17;
  int iVar18;
  long lVar19;
  char *pcVar20;
  size_t sVar21;
  undefined8 uVar22;
  FILE *pFVar23;
  undefined8 *puVar24;
  char *pcVar25;
  void *pvVar26;
  char *pcVar27;
  undefined *puVar28;
  iconv_t __cd;
  size_t sVar29;
  uint *puVar30;
  void *pvVar31;
  float *pfVar32;
  long lVar33;
  float *pfVar34;
  undefined4 *puVar35;
  uint *puVar36;
  undefined8 *puVar37;
  ushort **ppuVar38;
  ulong uVar39;
  long lVar40;
  float *pfVar41;
  uint uVar42;
  uint uVar43;
  uint *puVar44;
  uint3 uVar45;
  uint uVar46;
  long lVar47;
  byte *pbVar48;
  int iVar49;
  int iVar50;
  uchar *puVar51;
  int iVar52;
  uint *puVar53;
  size_t *psVar54;
  byte **ppbVar55;
  byte *pbVar56;
  char *pcVar57;
  char **ppcVar58;
  byte *pbVar59;
  char *pcVar60;
  uint uVar61;
  long in_FS_OFFSET;
  bool bVar62;
  bool bVar63;
  bool bVar64;
  bool bVar65;
  byte bVar66;
  double dVar67;
  double dVar68;
  double dVar69;
  undefined8 *local_2358;
  undefined8 local_2350;
  uint *local_2340;
  float *local_2330;
  double local_2318;
  double local_2310;
  uint *local_22f0;
  void *local_22e0;
  uint *local_22c0;
  int local_22b8;
  uint *local_22a8;
  double local_2280;
  __timezone_ptr_t local_2278;
  double local_2258;
  timezone local_2250;
  timeval local_2248;
  timeval local_2238;
  size_t local_2228;
  FILE *local_2220;
  byte *local_2208;
  FILE *local_2200;
  float local_21e8;
  float fStack_21e4;
  undefined8 uStack_21e0;
  byte local_21d8;
  byte bStack_21d7;
  undefined2 uStack_21d6;
  ushort uStack_21d4;
  byte bStack_21d2;
  byte bStack_21d1;
  uint uStack_21d0;
  uint uStack_21cc;
  int local_21c8;
  int iStack_21c4;
  undefined4 uStack_21c0;
  uint uStack_21bc;
  uint local_21b8;
  undefined4 uStack_21b4;
  undefined8 uStack_21b0;
  undefined8 local_21a8;
  undefined8 uStack_21a0;
  undefined8 local_2198;
  undefined8 local_2188;
  undefined8 uStack_2180;
  ulong local_2178;
  undefined8 uStack_2170;
  undefined8 local_2168;
  undefined8 uStack_2160;
  undefined8 local_2158;
  undefined8 uStack_2150;
  undefined8 local_2148;
  undefined8 uStack_2140;
  undefined8 local_2138;
  MD5_CTX local_2128;
  undefined8 local_20c8;
  undefined8 uStack_20c0;
  undefined8 local_20b8 [2];
  undefined local_20a8 [16];
  undefined local_2098 [80];
  uint local_2048 [6];
  undefined local_2030 [8176];
  long local_40;
  
  bVar66 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar19 = FUN_00112df0(*param_2);
  if (lVar19 == 0) {
LAB_00105031:
    if (DAT_0011d0d8 != 0) goto LAB_00104fc1;
    pfVar32 = &local_21e8;
    for (lVar19 = 0x16; lVar19 != 0; lVar19 = lVar19 + -1) {
      *pfVar32 = 0.0;
      pfVar32 = pfVar32 + (ulong)bVar66 * -2 + 1;
    }
    if (param_1 == 1) goto LAB_00107d28;
LAB_0010505d:
    local_2330 = &local_21e8;
    iVar49 = 0;
    local_2358 = (undefined8 *)0x0;
    ppcVar58 = param_2 + (ulong)(param_1 - 2) + 1;
    bVar64 = false;
    local_2340 = (uint *)0x0;
    iVar52 = 0;
    do {
      while( true ) {
        pcVar20 = param_2[1];
        param_2 = param_2 + 1;
        if (*pcVar20 != '-') break;
        if (pcVar20[1] == '-') {
          if (pcVar20[2] != '\0') {
            pbVar59 = (byte *)(pcVar20 + 2);
            pbVar56 = pbVar59;
            do {
              bVar65 = false;
              bVar63 = *pbVar56 == 0;
              local_2208 = pbVar56;
              if (bVar63) break;
              local_2208 = pbVar56 + 1;
              bVar65 = *pbVar56 < 0x3d;
              bVar63 = *pbVar56 == 0x3d;
              pbVar56 = local_2208;
            } while (!bVar63);
            lVar19 = 5;
            pbVar56 = pbVar59;
            pbVar48 = &DAT_001152fd;
            do {
              if (lVar19 == 0) break;
              lVar19 = lVar19 + -1;
              bVar65 = *pbVar56 < *pbVar48;
              bVar63 = *pbVar56 == *pbVar48;
              pbVar56 = pbVar56 + (ulong)bVar66 * -2 + 1;
              pbVar48 = pbVar48 + (ulong)bVar66 * -2 + 1;
            } while (bVar63);
            bVar62 = false;
            bVar65 = (!bVar65 && !bVar63) == bVar65;
            if (bVar65) {
              puts(
                  " Usage:\n    WAVPACK [-options] infile[.wav]|infile.ext|- [...] [-o outfile[.wv]|outpath|-]\n\n    The default operation is lossless. Multiple input files may be specified\n    and the source file type is automatically determined (see accepted formats\n    below). Raw PCM data may also be used (see --raw-pcm option).\n\n All Utilities:             WAVPACK:  create or transcode WavPack files\n                            WVUNPACK: unpack or verify existing WavPack files\n                            WVGAIN:   apply ReplayGain to WavPack files\n                            WVTAG:    apply or edit metadata tags on WavPack files\n\n Input Formats:             .wav (default, includes bwf/rf64 varients)\n                            .wv  (transcode operation, tags copied)\n                            .caf (Core Audio Format)\n                            .w64 (Sony Wave64)\n                            .dff (Philips DSDIFF)\n                            .dsf (Sony DSD stream)\n\n Options:\n    -a                      Adobe Audition (CoolEdit) mode for 32-bit floats\n    --allow-huge-tags       allow tag data up to 16 MB (embedding > 1 MB is not\n                             recommended for portable devices and may not work\n                             with some programs including WavPack pre-4.70)\n    -bn                     enable hybrid compression\n                              n = 2.0 to 23.9 bits/sample, or\n                              n = 24-9600 kbits/second (kbps)\n                              add -c to create correction file (.wvc)\n    --blocksize=n           specify block size in samples (max = 131072 and\n                               min = 16 with --merge-blocks, otherwise 128)\n    -c                      hybrid lossless mode (use with -b to create\n                             correction file (.wvc) in hybrid mode)\n    -cc                     maximum hybrid lossless compression (but degrades\n                             decode speed and may result in lower quality)\n    --channel-order=<list>  specify (comma separated) channel order if ..." /* TRUNCATED STRING LITERAL */
                  );
              bVar64 = false;
            }
            else {
              lVar19 = 8;
              pbVar56 = pbVar59;
              pbVar48 = (byte *)"version";
              do {
                if (lVar19 == 0) break;
                lVar19 = lVar19 + -1;
                bVar62 = *pbVar56 < *pbVar48;
                bVar65 = *pbVar56 == *pbVar48;
                pbVar56 = pbVar56 + (ulong)bVar66 * -2 + 1;
                pbVar48 = pbVar48 + (ulong)bVar66 * -2 + 1;
              } while (bVar65);
              bVar63 = false;
              bVar65 = (!bVar62 && !bVar65) == bVar62;
              if (!bVar65) {
                lVar19 = 0xe;
                pbVar56 = pbVar59;
                pbVar48 = (byte *)"optimize-mono";
                do {
                  if (lVar19 == 0) break;
                  lVar19 = lVar19 + -1;
                  bVar63 = *pbVar56 < *pbVar48;
                  bVar65 = *pbVar56 == *pbVar48;
                  pbVar56 = pbVar56 + (ulong)bVar66 * -2 + 1;
                  pbVar48 = pbVar48 + (ulong)bVar66 * -2 + 1;
                } while (bVar65);
                if ((!bVar63 && !bVar65) == bVar63) {
                  FUN_00112fa0("warning: --optimize-mono deprecated, now enabled by default");
                  iVar16 = DAT_0011d094;
                  uVar14 = local_21b8;
                }
                else {
                  iVar16 = strcmp((char *)pbVar59,"dns");
                  if (iVar16 == 0) {
                    FUN_00112fa0("warning: --dns deprecated, use --use-dns");
                    iVar52 = iVar52 + 1;
                    iVar16 = DAT_0011d094;
                    uVar14 = local_21b8;
                  }
                  else {
                    iVar16 = strcmp((char *)pbVar59,"use-dns");
                    if (iVar16 == 0) {
                      bStack_21d2 = bStack_21d2 | 2;
                      iVar16 = DAT_0011d094;
                      uVar14 = local_21b8;
                    }
                    else {
                      iVar16 = strcmp((char *)pbVar59,"cross-decorr");
                      if (iVar16 == 0) {
                        uStack_21d4 = uStack_21d4 | 0x20;
                        iVar16 = DAT_0011d094;
                        uVar14 = local_21b8;
                      }
                      else {
                        iVar16 = strcmp((char *)pbVar59,"merge-blocks");
                        if (iVar16 == 0) {
                          bStack_21d1 = bStack_21d1 | 0x10;
                          iVar16 = DAT_0011d094;
                          uVar14 = local_21b8;
                        }
                        else {
                          iVar16 = strcmp((char *)pbVar59,"pair-unassigned-chans");
                          if (iVar16 == 0) {
                            bStack_21d1 = bStack_21d1 | 0x20;
                            iVar16 = DAT_0011d094;
                            uVar14 = local_21b8;
                          }
                          else {
                            iVar16 = strcmp((char *)pbVar59,"import-id3");
                            if (iVar16 == 0) {
                              DAT_0011d0a0 = 1;
                              iVar16 = DAT_0011d094;
                              uVar14 = local_21b8;
                            }
                            else {
                              iVar16 = strcmp((char *)pbVar59,"no-utf8-convert");
                              if (iVar16 == 0) {
                                DAT_0011d0b4 = 1;
                                iVar16 = DAT_0011d094;
                                uVar14 = local_21b8;
                              }
                              else {
                                iVar16 = strcmp((char *)pbVar59,"allow-huge-tags");
                                if (iVar16 == 0) {
                                  DAT_0011d0ac = 1;
                                  iVar16 = DAT_0011d094;
                                  uVar14 = local_21b8;
                                }
                                else {
                                  iVar16 = strcmp((char *)pbVar59,"write-binary-tag");
                                  if (iVar16 == 0) {
                                    iVar49 = 2;
                                    iVar16 = DAT_0011d094;
                                    uVar14 = local_21b8;
                                  }
                                  else {
                                    iVar16 = strncmp((char *)pbVar59,"raw-pcm-skip",0xc);
                                    if (iVar16 == 0) {
                                      lVar19 = strtol((char *)local_2208,(char **)&local_2208,10);
                                      iVar16 = (int)lVar19;
                                      DAT_0011d09c = iVar16;
                                      if (*local_2208 == 0x2c) {
                                        local_2208 = local_2208 + 1;
                                        lVar19 = strtol((char *)local_2208,(char **)&local_2208,10);
                                        DAT_0011d098 = (int)lVar19;
                                      }
                                      if (((*local_2208 != 0) || (iVar16 < 0)) || (DAT_0011d098 < 0)
                                         ) {
                                        FUN_00112fa0("syntax error in raw-pcm-skip specification!");
                                        iVar52 = iVar52 + 1;
                                      }
                                      FUN_00112fa0("raw_pcm_skip = %d, %d bytes",DAT_0011d09c,
                                                   DAT_0011d098);
                                      iVar16 = DAT_0011d094;
                                      uVar14 = local_21b8;
                                    }
                                    else {
                                      iVar16 = strncmp((char *)pbVar59,"raw-pcm",7);
                                      if (iVar16 == 0) {
                                        lVar19 = 0;
                                        iVar17 = 0;
                                        local_2128.A = 0xac44;
                                        local_2128.B = 0x10;
                                        local_2128.C = 2;
                                        bVar63 = false;
                                        bVar65 = false;
                                        while( true ) {
                                          pbVar56 = local_2208;
                                          bVar12 = *local_2208;
                                          bVar62 = false;
                                          if (bVar12 == 0) break;
                                          if (lVar19 == 3) {
                                            iVar16 = strcasecmp((char *)local_2208,"be");
                                            if (iVar16 == 0) {
                                              pbVar56 = pbVar56 + 2;
                                              bVar62 = true;
                                              local_2208 = pbVar56;
LAB_00109357:
                                              if (*pbVar56 == 0) break;
                                            }
                                            else {
                                              iVar16 = strcasecmp((char *)pbVar56,"le");
                                              if (iVar16 == 0) {
                                                pbVar56 = pbVar56 + 2;
                                                bVar62 = false;
                                                local_2208 = pbVar56;
                                                goto LAB_00109357;
                                              }
                                            }
                                            FUN_00112fa0("syntax error in raw PCM specification!");
                                            iVar52 = iVar52 + 1;
                                            iVar16 = DAT_0011d094;
                                            uVar14 = local_21b8;
                                            goto LAB_00105106;
                                          }
                                          ppuVar38 = __ctype_b_loc();
                                          if ((*(byte *)((long)*ppuVar38 +
                                                        (long)(char)bVar12 * 2 + 1) & 8) != 0) {
                                            lVar47 = strtol((char *)pbVar56,(char **)&local_2208,10)
                                            ;
                                            local_2128.data[lVar19 + -6] = (uint)lVar47;
                                            pbVar56 = local_2208;
                                          }
                                          if (lVar19 == 1) {
                                            bVar12 = *pbVar56 & 0xdf;
                                            if (bVar12 == 0x46) {
                                              pbVar56 = pbVar56 + 1;
                                              iVar17 = 1;
                                              local_2208 = pbVar56;
                                            }
                                            else if (bVar12 == 0x55) {
                                              pbVar56 = pbVar56 + 1;
                                              bVar65 = true;
                                              local_2208 = pbVar56;
                                            }
                                            else if (bVar12 == 0x53) {
                                              pbVar56 = pbVar56 + 1;
                                              bVar63 = true;
                                              local_2208 = pbVar56;
                                            }
                                          }
                                          lVar19 = lVar19 + 1;
                                          if (*pbVar56 != 0x2c) goto LAB_00109357;
                                          local_2208 = pbVar56 + 1;
                                        }
                                        if ((((local_2128.A - 1 < 1000000000) &&
                                             (local_2128.B - 1 < 0x20)) &&
                                            ((local_2128.B == 0x20 || (iVar17 == 0)))) &&
                                           (local_2128.C - 1 < 0x100)) {
                                          uVar13 = CONCAT22(uStack_21d6,
                                                            CONCAT11(bStack_21d7,local_21d8));
                                          uVar14 = local_21b8;
                                          iVar16 = DAT_0011d094;
                                          if (local_2128.B == 1) {
                                            uStack_21bc = (int)local_2128.A >> 3;
                                            uStack_21cc = local_2128.C;
                                            local_21d8 = (byte)(uVar13 | 0x1020);
                                            bStack_21d7 = (byte)((uVar13 | 0x1020) >> 8);
                                            uStack_21e0 = 0x100000008;
                                          }
                                          else {
                                            uStack_21bc = local_2128.A;
                                            uStack_21e0 = CONCAT44((int)(local_2128.B + 7) >> 3,
                                                                   local_2128.B);
                                            uStack_21cc = local_2128.C;
                                            local_21c8 = iVar17;
                                            if (iVar17 != 0) {
                                              local_21c8 = 0x7f;
                                            }
                                            bStack_21d7 = bStack_21d7 | 0x10;
                                            if ((int)local_2128.B < 9) {
                                              if (bVar63) {
                                                local_21d8 = (byte)(uVar13 | 0x1002);
                                                bStack_21d7 = (byte)((uVar13 | 0x1002) >> 8);
                                              }
                                            }
                                            else {
                                              if (bVar65) {
                                                local_21d8 = (byte)(uVar13 | 0x1004);
                                                bStack_21d7 = (byte)((uVar13 | 0x1004) >> 8);
                                              }
                                              if (bVar62) {
                                                local_21d8 = local_21d8 | 1;
                                              }
                                            }
                                          }
                                        }
                                        else {
                                          FUN_00112fa0(
                                                  "argument range error in raw PCM specification!");
                                          iVar52 = iVar52 + 1;
                                          iVar16 = DAT_0011d094;
                                          uVar14 = local_21b8;
                                        }
                                      }
                                      else {
                                        iVar16 = strncmp((char *)pbVar59,"blocksize",9);
                                        if (iVar16 == 0) {
                                          lVar19 = strtol((char *)local_2208,(char **)0x0,10);
                                          iStack_21c4 = (int)lVar19;
                                          iVar16 = DAT_0011d094;
                                          uVar14 = local_21b8;
                                          if (0x1fff0 < iStack_21c4 - 0x10U) {
                                            FUN_00112fa0("invalid blocksize!");
                                            iVar52 = iVar52 + 1;
                                            iVar16 = DAT_0011d094;
                                            uVar14 = local_21b8;
                                          }
                                        }
                                        else {
                                          iVar16 = strncmp((char *)pbVar59,"channel-order",0xd);
                                          if (iVar16 == 0) {
                                            pbVar59 = &DAT_0011d080;
                                            pbVar56 = local_2208;
                                            uVar14 = 0;
                                            do {
                                              iVar16 = (int)pbVar59 + -0x11d080;
                                              if (*pbVar56 == 0) goto LAB_00105106;
                                              if (*pbVar56 == 0x2e) {
                                                local_2208 = pbVar56 + 1;
                                                if (((pbVar56[1] == 0x2e) &&
                                                    (local_2208 = pbVar56 + 2, pbVar56[2] == 0x2e))
                                                   && (pbVar59 = pbVar56 + 3, local_2208 = pbVar59,
                                                      pbVar56[3] == 0)) {
                                                  bStack_21d7 = bStack_21d7 | 4;
                                                  goto LAB_0010917b;
                                                }
LAB_001090f8:
                                                FUN_00112fa0(
                                                  "syntax error in channel order specification!");
                                                iVar52 = iVar52 + 1;
                                                iVar16 = DAT_0011d094;
                                                uVar14 = local_21b8;
                                                goto LAB_00105106;
                                              }
                                              ppuVar38 = __ctype_b_loc();
                                              lVar19 = 0;
                                              puVar4 = *ppuVar38;
                                              pbVar48 = pbVar56;
                                              while( true ) {
                                                lVar47 = (long)(int)lVar19;
                                                if ((*(byte *)((long)puVar4 +
                                                              (long)(char)*pbVar48 * 2 + 1) & 4) ==
                                                    0) break;
                                                if (lVar19 == 5) {
                                                  lVar47 = 5;
                                                  goto LAB_00109084;
                                                }
                                                local_2208 = pbVar48 + 1;
                                                *(byte *)((long)local_2048 + lVar19) = *pbVar48;
                                                lVar19 = lVar19 + 1;
                                                pbVar48 = local_2208;
                                              }
                                              if ((int)lVar19 == 0) goto LAB_001090f8;
LAB_00109084:
                                              *(undefined *)((long)local_2048 + lVar47) = 0;
                                              uVar39 = 0;
                                              while (iVar16 = strcasecmp((char *)local_2048,
                                                                         (&PTR_DAT_0011c220)[uVar39]
                                                                        ), iVar16 != 0) {
                                                uVar39 = uVar39 + 1;
                                                if (uVar39 == 0x12) goto LAB_001090d8;
                                              }
                                              *pbVar59 = (byte)uVar39;
                                              uVar13 = uVar14 | (uint)(1L << ((byte)uVar39 & 0x3f));
                                              if ((uVar14 >> (uVar39 & 0x3f) & 1) != 0) {
LAB_001090d8:
                                                FUN_00112fa0("unknown or repeated channel spec: %s!"
                                                             ,local_2048);
                                                goto LAB_001090f8;
                                              }
                                              pbVar56 = pbVar48;
                                              if ((*pbVar48 != 0) &&
                                                 (pbVar56 = pbVar48 + 1, local_2208 = pbVar56,
                                                 *pbVar48 != 0x2c)) goto LAB_001090f8;
                                              pbVar59 = pbVar59 + 1;
                                              uVar14 = uVar13;
                                            } while (pbVar59 != &DAT_0011d092);
                                            iVar16 = 0x12;
                                            pbVar59 = pbVar56;
LAB_0010917b:
                                            if (*pbVar59 != 0) {
                                              FUN_00112fa0("too many channels specified!");
                                              iVar52 = iVar52 + 1;
                                              iVar16 = DAT_0011d094;
                                              uVar14 = local_21b8;
                                            }
                                          }
                                          else {
                                            iVar16 = strncmp((char *)pbVar59,"pre-quantize-round",
                                                             0x12);
                                            if (iVar16 == 0) {
                                              lVar19 = strtol((char *)local_2208,(char **)0x0,10);
                                              DAT_0011d0a8 = (uint)lVar19;
                                              DAT_0011d0a4 = DAT_0011d0a8;
                                            }
                                            else {
                                              iVar16 = strncmp((char *)pbVar59,"pre-quantize",0xc);
                                              if (iVar16 != 0) {
                                                FUN_00112fa0("unknown option: %s !",pbVar59);
                                                iVar52 = iVar52 + 1;
                                                iVar16 = DAT_0011d094;
                                                uVar14 = local_21b8;
                                                goto LAB_00105106;
                                              }
                                              lVar19 = strtol((char *)local_2208,(char **)0x0,10);
                                              DAT_0011d0a8 = (uint)lVar19;
                                            }
                                            iVar16 = DAT_0011d094;
                                            uVar14 = local_21b8;
                                            if (0x1c < DAT_0011d0a8 - 4) {
                                              FUN_00112fa0("invalid quantize bits!");
                                              iVar52 = iVar52 + 1;
                                              iVar16 = DAT_0011d094;
                                              uVar14 = local_21b8;
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
                goto LAB_00105106;
              }
              __printf_chk(1,"wavpack %s\n","5.1.0");
              uVar22 = WavpackGetLibraryVersionString();
              __printf_chk(1,"libwavpack %s\n",uVar22);
              bVar64 = false;
            }
            goto LAB_00106250;
          }
        }
        else if (pcVar20[1] == '\0') break;
        *param_2 = pcVar20 + 1;
        cVar11 = pcVar20[1];
        while (iVar16 = DAT_0011d094, uVar14 = local_21b8, cVar11 != '\0') {
          if (false) {
switchD_00105322_caseD_45:
            FUN_00112fa0("illegal option: %c !",(int)cVar11);
            iVar52 = iVar52 + 1;
            goto LAB_00105340;
          }
          switch(cVar11) {
          case 'A':
          case 'a':
            bStack_21d7 = bStack_21d7 | 1;
            break;
          case 'B':
          case 'b':
            uStack_21d4 = uStack_21d4 | 8;
            *param_2 = pcVar20 + 2;
            dVar68 = strtod(pcVar20 + 2,param_2);
            *param_2 = *param_2 + -1;
            local_21e8 = (float)dVar68;
            if ((local_21e8 < 2.0) || (9600.0 < local_21e8)) {
              FUN_00112fa0("hybrid spec must be 2.0 to 9600!");
              iVar52 = iVar52 + 1;
            }
            if (24.0 <= local_21e8) {
              uStack_21d4 = uStack_21d4 | 0x2000;
            }
            break;
          case 'C':
          case 'c':
            uVar14 = CONCAT13(bStack_21d1,CONCAT12(bStack_21d2,uStack_21d4));
            uVar13 = uVar14 | 0x100000;
            if ((bStack_21d2 & 8) == 0) {
              uVar13 = uVar14 | 0x80000;
            }
            uStack_21d4 = (ushort)uVar13;
            bStack_21d2 = (byte)(uVar13 >> 0x10);
            bStack_21d1 = (byte)(uVar13 >> 0x18);
            break;
          case 'D':
          case 'd':
            DAT_0011d0b8 = 1;
            break;
          default:
            goto switchD_00105322_caseD_45;
          case 'F':
          case 'f':
            uStack_21d4 = uStack_21d4 | 0x200;
            break;
          case 'H':
          case 'h':
            uVar5 = 0x1000;
            if ((uStack_21d4 & 0x800) == 0) {
              uVar5 = 0x800;
            }
            uStack_21d4 = uStack_21d4 | uVar5;
            break;
          case 'I':
          case 'i':
            bStack_21d7 = bStack_21d7 | 8;
            break;
          case 'J':
          case 'j':
            *param_2 = pcVar20 + 2;
            lVar19 = strtol(pcVar20 + 2,param_2,10);
            if (lVar19 == 0) {
              uVar14 = CONCAT13(bStack_21d1,CONCAT12(bStack_21d2,uStack_21d4)) & 0xffffffef;
              bStack_21d2 = (byte)(uVar14 >> 0x10) | 1;
              uStack_21d4 = (ushort)uVar14;
              bStack_21d1 = (byte)(uVar14 >> 0x18);
            }
            else if (lVar19 == 1) {
              uVar14 = CONCAT13(bStack_21d1,CONCAT12(bStack_21d2,uStack_21d4)) | 0x10010;
              uStack_21d4 = (ushort)uVar14;
              bStack_21d2 = (byte)(uVar14 >> 0x10);
            }
            else {
              FUN_00112fa0("-j0 or -j1 only!");
              iVar52 = iVar52 + 1;
            }
            goto LAB_001053b2;
          case 'M':
          case 'm':
            bStack_21d1 = bStack_21d1 | 8;
            break;
          case 'N':
          case 'n':
            bStack_21d2 = bStack_21d2 | 0x80;
            break;
          case 'O':
          case 'o':
            bVar64 = true;
            break;
          case 'Q':
          case 'q':
            DAT_0011d0c0 = 1;
            break;
          case 'R':
          case 'r':
            bStack_21d7 = bStack_21d7 | 2;
            break;
          case 'S':
          case 's':
            *param_2 = pcVar20 + 2;
            dVar68 = strtod(pcVar20 + 2,param_2);
            fStack_21e4 = (float)dVar68;
            if ((false) || (fStack_21e4 != 0.0)) {
              if ((fStack_21e4 < -1.0) || (1.0 < fStack_21e4)) {
                FUN_00112fa0("-s-1.00 to -s1.00 only!");
                iVar52 = iVar52 + 1;
              }
              else {
                uStack_21d4 = uStack_21d4 | 0x8040;
              }
            }
            else {
              uVar14 = CONCAT13(bStack_21d1,CONCAT12(bStack_21d2,uStack_21d4)) & 0xffffffbf;
              uStack_21d4 = (ushort)uVar14 | 0x8000;
              bStack_21d2 = (byte)(uVar14 >> 0x10);
              bStack_21d1 = (byte)(uVar14 >> 0x18);
            }
            goto LAB_001053b2;
          case 'T':
          case 't':
            DAT_0011d0c4 = 1;
            break;
          case 'V':
          case 'v':
            DAT_0011d0bc = 1;
            break;
          case 'W':
          case 'w':
            iVar49 = iVar49 + 1;
            if (iVar49 == 2) {
              FUN_00112fa0("warning: -ww deprecated, use --write-binary-tag");
              iVar52 = iVar52 + 1;
            }
            break;
          case 'X':
          case 'x':
            *param_2 = pcVar20 + 2;
            lVar19 = strtol(pcVar20 + 2,param_2,10);
            uStack_21d0 = (uint)lVar19;
            if (uStack_21d0 < 7) {
              bStack_21d1 = bStack_21d1 | 2;
            }
            else {
              FUN_00112fa0("extra mode only goes from 1 to 6!");
              iVar52 = iVar52 + 1;
            }
LAB_001053b2:
            *param_2 = *param_2 + -1;
            break;
          case 'Y':
          case 'y':
            DAT_0011d0d0 = 1;
            break;
          case 'Z':
          case 'z':
            *param_2 = pcVar20 + 2;
            lVar19 = strtol(pcVar20 + 2,param_2,10);
            *param_2 = *param_2 + -1;
            DAT_0011d0b0 = (int)lVar19;
          }
LAB_00105340:
          pcVar20 = *param_2;
          *param_2 = pcVar20 + 1;
          cVar11 = pcVar20[1];
        }
LAB_00105106:
        local_21b8 = uVar14;
        DAT_0011d094 = iVar16;
        if (param_2 == ppcVar58) goto LAB_0010516d;
      }
      if (iVar49 != 0) {
        iVar16 = strcasecmp(pcVar20,"encoder");
        if (iVar16 == 0) {
          pcVar27 = (char *)malloc(0x50);
          __sprintf_chk(pcVar27,1,0x50,"%s=WavPack %s",pcVar20,"5.1.0");
          *param_2 = pcVar27;
        }
        else {
          iVar16 = strcasecmp(pcVar20,"settings");
          pcVar27 = pcVar20;
          if (iVar16 == 0) {
            FUN_00109920(local_2048,local_2330);
            puVar53 = local_2048;
            do {
              puVar36 = puVar53;
              uVar13 = *puVar36 + 0xfefefeff & ~*puVar36;
              uVar14 = uVar13 & 0x80808080;
              puVar53 = puVar36 + 1;
            } while (uVar14 == 0);
            bVar65 = (uVar13 & 0x8080) == 0;
            if (bVar65) {
              uVar14 = uVar14 >> 0x10;
            }
            if (bVar65) {
              puVar53 = (uint *)((long)puVar36 + 6);
            }
            pcVar27 = (char *)malloc((long)puVar53 +
                                     (-(long)local_2048 - (ulong)CARRY1((byte)uVar14,(byte)uVar14))
                                     + 0xd);
            __sprintf_chk(pcVar27,1,0xffffffffffffffff,"%s=%s",*param_2,local_2048);
            *param_2 = pcVar27;
          }
        }
        pcVar20 = strchr(pcVar27,0x3d);
        if ((pcVar20 == (char *)0x0) || (pcVar20 <= pcVar27)) {
          iVar49 = 0;
          FUN_00112fa0("error in tag spec: %s !",pcVar27);
          iVar52 = iVar52 + 1;
          iVar16 = DAT_0011d094;
          uVar14 = local_21b8;
        }
        else {
          DAT_0011d06c = DAT_0011d06c + 1;
          lVar19 = (long)(int)DAT_0011d06c;
          DAT_0011d060 = realloc(DAT_0011d060,lVar19 * 0x20);
          plVar3 = (long *)((long)DAT_0011d060 + (lVar19 * 0x20 - 0x20U));
          pvVar31 = malloc((size_t)(pcVar20 + (1 - (long)*param_2)));
          *plVar3 = (long)pvVar31;
          sVar21 = (long)pcVar20 - (long)*param_2;
          memcpy(pvVar31,*param_2,sVar21);
          *(undefined *)(*plVar3 + sVar21) = 0;
          sVar21 = strlen(pcVar20 + 1);
          *(int *)(plVar3 + 3) = (int)sVar21;
          pcVar27 = (char *)malloc((long)((int)sVar21 + 1));
          plVar3[1] = (long)pcVar27;
          strcpy(pcVar27,pcVar20 + 1);
          bVar65 = iVar49 == 2;
          plVar3[2] = 0;
          iVar49 = 0;
          *(uint *)((long)plVar3 + 0x1c) = (uint)bVar65;
          iVar16 = DAT_0011d094;
          uVar14 = local_21b8;
        }
        goto LAB_00105106;
      }
      if (!bVar64) {
        iVar49 = DAT_0011d0cc + 1;
        local_2358 = (undefined8 *)realloc(local_2358,(long)iVar49 * 8);
        sVar21 = strlen(pcVar20);
        pvVar31 = malloc(sVar21 + 10);
        local_2358[(long)iVar49 + -1] = pvVar31;
        pcVar20 = (char *)memcpy(pvVar31,pcVar20,sVar21 + 1);
        if ((*pcVar20 != '-') && (*pcVar20 != '@')) {
          lVar19 = FUN_00112c30(pcVar20);
          iVar49 = DAT_0011d0cc;
          if (lVar19 == 0) {
            pcVar20 = ".wav";
            if ((bStack_21d7 & 0x10) != 0) {
              pcVar20 = ".raw";
            }
            strcat((char *)local_2358[DAT_0011d0cc],pcVar20);
            iVar49 = iVar49 + 1;
          }
          else {
            iVar49 = DAT_0011d0cc + 1;
          }
        }
        DAT_0011d0cc = iVar49;
        iVar49 = 0;
        iVar16 = DAT_0011d094;
        uVar14 = local_21b8;
        goto LAB_00105106;
      }
      sVar21 = strlen(pcVar20);
      local_2340 = (uint *)malloc(sVar21 + 0x1000);
      memcpy(local_2340,pcVar20,sVar21 + 1);
      bVar64 = false;
    } while (param_2 != ppcVar58);
LAB_0010516d:
    FUN_001130c0();
    if (bVar64) {
      FUN_00112fa0("no output filename or path specified with -o option!");
      iVar52 = iVar52 + 1;
    }
    if (iVar49 != 0) {
      pcVar20 = "-w";
      if (iVar49 != 1) {
        pcVar20 = "--write-binary-tag";
      }
      FUN_00112fa0("no tag specified with %s option!",pcVar20);
      iVar52 = iVar52 + 1;
    }
  }
  else {
    pcVar20 = (char *)FUN_00112df0(*param_2);
    pcVar20 = strstr(pcVar20,"ebug");
    if (pcVar20 == (char *)0x0) {
      pcVar20 = (char *)FUN_00112df0(*param_2);
      pcVar20 = strstr(pcVar20,"DEBUG");
      if (pcVar20 == (char *)0x0) goto LAB_00105031;
    }
    DAT_0011d0d8 = 1;
LAB_00104fc1:
    if (param_1 != 1) {
      ppcVar58 = param_2;
      iVar52 = 1;
      do {
        ppcVar2 = ppcVar58 + 1;
        iVar49 = iVar52 + 1;
        ppcVar58 = ppcVar58 + 1;
        FUN_00112fa0("arg %d: %s",iVar52,*ppcVar2);
        iVar52 = iVar49;
      } while (param_1 != iVar49);
      pfVar32 = &local_21e8;
      for (lVar19 = 0x16; lVar19 != 0; lVar19 = lVar19 + -1) {
        *pfVar32 = 0.0;
        pfVar32 = pfVar32 + (ulong)bVar66 * -2 + 1;
      }
      goto LAB_0010505d;
    }
    pfVar32 = &local_21e8;
    for (lVar19 = 0x16; lVar19 != 0; lVar19 = lVar19 + -1) {
      *pfVar32 = 0.0;
      pfVar32 = pfVar32 + (ulong)bVar66 * -2 + 1;
    }
LAB_00107d28:
    FUN_001130c0();
    local_2358 = (undefined8 *)0x0;
    local_2340 = (uint *)0x0;
    iVar52 = 0;
  }
  local_2330 = &local_21e8;
  if ((~CONCAT13(bStack_21d1,CONCAT12(bStack_21d2,uStack_21d4)) & 0xa00) == 0) {
    FUN_00112fa0("high and fast modes are mutually exclusive!");
    iVar52 = iVar52 + 1;
  }
  if ((bStack_21d7 & 8) == 0) {
    if ((DAT_0011d0bc != 0) && (local_2340 != (uint *)0x0)) {
LAB_00105919:
      if (*(char *)local_2340 == '-') {
        FUN_00112fa0("can\'t verify output file when using stdout!");
        iVar52 = iVar52 + 1;
      }
    }
LAB_001051ff:
    uVar14 = CONCAT13(bStack_21d1,CONCAT12(bStack_21d2,uStack_21d4));
    if ((uStack_21d4 & 8) == 0) goto LAB_001061a5;
    if ((((bStack_21d2 & 8) != 0) && (local_2340 != (uint *)0x0)) && (*(char *)local_2340 == '-')) {
      FUN_00112fa0("can\'t create correction file when using stdout!");
      iVar52 = iVar52 + 1;
      uVar14 = CONCAT13(bStack_21d1,CONCAT12(bStack_21d2,uStack_21d4));
    }
LAB_00105228:
    if ((uVar14 & 0x10000000) != 0) {
      FUN_00112fa0("--merge-blocks option is for lossless mode only!");
      uVar14 = CONCAT13(bStack_21d1,CONCAT12(bStack_21d2,uStack_21d4));
      iVar52 = iVar52 + 1;
      if ((CONCAT12(bStack_21d2,uStack_21d4) & 0x28000) == 0x28000) goto LAB_00107426;
      goto LAB_001061b0;
    }
    if ((uVar14 & 0x28000) == 0x28000) {
LAB_00107426:
      FUN_00112fa0("-s and --use-dns options are mutually exclusive!");
      iVar52 = iVar52 + 1;
      uVar14 = (uint)bStack_21d1 << 0x18;
      goto LAB_001061b0;
    }
LAB_00105243:
    if ((iStack_21c4 == 0) || (0x7f < iStack_21c4)) goto LAB_00105257;
    FUN_00112fa0("minimum blocksize is 128 when --merge-blocks is not specified!");
LAB_001061dc:
    iVar52 = iVar52 + 1;
    pcVar20 = (char *)WavpackGetLibraryVersionString();
    iVar49 = strcmp(pcVar20,"5.1.0");
    if (iVar49 != 0) goto LAB_00105c1b;
    if (0 < (int)DAT_0011d06c) goto LAB_00105c5d;
LAB_00106220:
    fwrite("\ntype \'wavpack\' for short help or \'wavpack --help\' for full help\n",1,0x41,stderr);
    fflush(stderr);
    bVar64 = true;
    goto LAB_00106250;
  }
  if (local_2340 != (uint *)0x0) {
    if (*(char *)local_2340 == '-') {
      FUN_00112fa0("can\'t ignore length in header when using stdout!");
      iVar52 = iVar52 + 1;
    }
    if (DAT_0011d0bc != 0) goto LAB_00105919;
    goto LAB_001051ff;
  }
  uVar14 = CONCAT13(bStack_21d1,CONCAT12(bStack_21d2,uStack_21d4));
  if ((uStack_21d4 & 8) != 0) goto LAB_00105228;
LAB_001061a5:
  if ((uVar14 & 0x8a8000) != 0) {
    FUN_00112fa0("-c, -n, -s, and --use-dns options are for hybrid mode (-b) only!");
    iVar52 = iVar52 + 1;
    uVar14 = (uint)bStack_21d1 << 0x18;
  }
LAB_001061b0:
  if ((uVar14 & 0x10000000) == 0) goto LAB_00105243;
  if (iStack_21c4 == 0) {
    FUN_00112fa0("--merge-blocks only makes sense when --blocksize is specified!");
    goto LAB_001061dc;
  }
LAB_00105257:
  pcVar20 = (char *)WavpackGetLibraryVersionString();
  iVar49 = strcmp(pcVar20,"5.1.0");
  if (iVar49 == 0) {
    if (iVar52 != 0 || DAT_0011d0c0 != 0) goto LAB_00105c50;
    uVar22 = WavpackGetLibraryVersionString();
    __fprintf_chk(stderr,1,
                  "\n WAVPACK  Hybrid Lossless Audio Compressor  %s Version %s\n Copyright (c) 1998 - 2019 David Bryant.  All Rights Reserved.\n\n"
                  ,"Linux",uVar22);
    fflush(stderr);
    if (0 < (int)DAT_0011d06c) {
      iVar52 = 0;
      goto LAB_00105c5d;
    }
  }
  else {
LAB_00105c1b:
    uVar22 = WavpackGetLibraryVersionString();
    __fprintf_chk(stderr,1,
                  "\n WARNING: WAVPACK using libwavpack version %s, expected %s (see README)\n\n",
                  uVar22,"5.1.0");
    fflush(stderr);
LAB_00105c50:
    if (0 < (int)DAT_0011d06c) {
LAB_00105c5d:
      lVar19 = 0;
      pvVar31 = DAT_0011d060;
      do {
        lVar47 = lVar19 * 0x20;
        puVar37 = (undefined8 *)((long)pvVar31 + lVar47);
        if (*(char *)puVar37[1] == '@') {
          pcVar20 = (char *)puVar37[1] + 1;
          lVar40 = FUN_0010df30(pcVar20);
          if (lVar40 == 0) {
            if (DAT_0011d0cc == 0) {
LAB_00106105:
              if (local_2340 != (uint *)0x0) {
LAB_00106111:
                lVar40 = FUN_00112df0(local_2340);
                if ((lVar40 != 0) && (*(char *)local_2340 != '-')) {
                  uVar39 = 0xffffffffffffffff;
                  puVar53 = local_2340;
                  do {
                    if (uVar39 == 0) break;
                    uVar39 = uVar39 - 1;
                    cVar11 = *(char *)puVar53;
                    puVar53 = (uint *)((long)puVar53 + (ulong)bVar66 * -2 + 1);
                  } while (cVar11 != '\0');
                  pvVar31 = malloc(~uVar39 + 0xfff);
                  memcpy(pvVar31,local_2340,~uVar39);
                  pcVar27 = (char *)FUN_00112df0(pvVar31);
                  strcpy(pcVar27,pcVar20);
                  lVar40 = FUN_0010df30(pvVar31);
                  free(pvVar31);
                  goto LAB_00106188;
                }
              }
            }
            else {
              pcVar27 = (char *)*local_2358;
              lVar40 = FUN_00112df0(pcVar27);
              if ((lVar40 == 0) || (*pcVar27 == '-')) goto LAB_00106105;
              uVar39 = 0xffffffffffffffff;
              pcVar25 = pcVar27;
              do {
                if (uVar39 == 0) break;
                uVar39 = uVar39 - 1;
                cVar11 = *pcVar25;
                pcVar25 = pcVar25 + (ulong)bVar66 * -2 + 1;
              } while (cVar11 != '\0');
              pvVar31 = malloc(~uVar39 + 0xfff);
              memcpy(pvVar31,pcVar27,~uVar39);
              pcVar27 = (char *)FUN_00112df0(pvVar31);
              strcpy(pcVar27,pcVar20);
              lVar40 = FUN_0010df30(pvVar31);
              free(pvVar31);
              if (lVar40 != 0) goto LAB_00105db0;
              if (local_2340 != (uint *)0x0) goto LAB_00106111;
LAB_00106188:
              if (lVar40 != 0) goto LAB_00105db0;
            }
          }
          else {
LAB_00105db0:
            uVar15 = FUN_00113230(lVar40);
            *(undefined4 *)((long)DAT_0011d060 + lVar47 + 0x18) = uVar15;
            lVar33 = FUN_00112c30(pcVar20);
            if (lVar33 != 0) {
              pcVar20 = (char *)FUN_00112c30(pcVar20);
              pvVar31 = DAT_0011d060;
              pcVar20 = strdup(pcVar20);
              *(char **)((long)pvVar31 + lVar47 + 0x10) = pcVar20;
            }
            pvVar31 = DAT_0011d060;
            iVar49 = *(int *)((long)DAT_0011d060 + lVar47 + 0x18);
            if (iVar49 < (int)((-(uint)(DAT_0011d0ac == 0) & 0xff100000) + 0x1000000)) {
              pvVar26 = calloc((long)(iVar49 + 2),1);
              iVar49 = FUN_00113150(lVar40,pvVar26,*(undefined4 *)((long)pvVar31 + lVar47 + 0x18));
              if ((iVar49 != 0) && (*(int *)((long)DAT_0011d060 + lVar47 + 0x18) == (int)local_2208)
                 ) {
                FUN_001132f0(lVar40);
                pvVar31 = DAT_0011d060;
                free(*(void **)((long)DAT_0011d060 + lVar47 + 8));
                *(void **)((long)pvVar31 + lVar47 + 8) = pvVar26;
                goto LAB_00105cfd;
              }
              free(pvVar26);
              FUN_001132f0(lVar40);
            }
            else {
              FUN_001132f0(lVar40);
            }
          }
          FUN_00112fa0("error in tag spec: %s !",*(undefined8 *)((long)DAT_0011d060 + lVar47 + 8));
          iVar52 = iVar52 + 1;
LAB_00105cfd:
          pvVar31 = DAT_0011d060;
          puVar37 = (undefined8 *)((long)DAT_0011d060 + lVar47);
          if (*(int *)((long)puVar37 + 0x1c) == 0) goto LAB_00105c78;
          sVar21 = strlen((char *)*puVar37);
          iVar49 = (int)sVar21;
          if ((char *)puVar37[2] == (char *)0x0) {
            lVar47 = 0;
            iVar16 = iVar49;
          }
          else {
            sVar21 = strlen((char *)puVar37[2]);
            lVar47 = (long)(int)sVar21;
            iVar16 = (int)sVar21 + iVar49;
          }
          pvVar26 = realloc((void *)puVar37[1],(long)(*(int *)(puVar37 + 3) + iVar16 + 1));
          puVar37[1] = pvVar26;
          memmove((void *)(lVar47 + 1 + (long)iVar49 + (long)pvVar26),pvVar26,
                  (long)*(int *)(puVar37 + 3));
          strcpy((char *)puVar37[1],(char *)*puVar37);
          if ((char *)puVar37[2] != (char *)0x0) {
            strcat((char *)puVar37[1],(char *)puVar37[2]);
          }
          iVar49 = iVar16 + 1 + *(int *)(puVar37 + 3);
          *(int *)(puVar37 + 3) = iVar49;
        }
        else {
          if (*(int *)((long)puVar37 + 0x1c) != 0) {
            FUN_00112fa0("binary tags must be from files: %s !");
            iVar52 = iVar52 + 1;
            goto LAB_00105cfd;
          }
LAB_00105c78:
          if (*(int *)(puVar37 + 3) == 0) {
            iVar49 = *(int *)((long)DAT_0011d060 + lVar47 + 0x18);
            pvVar31 = DAT_0011d060;
          }
          else {
            pcVar20 = (char *)realloc((void *)puVar37[1],(long)(*(int *)(puVar37 + 3) * 2 + 1));
            iVar49 = DAT_0011d0b4;
            puVar37[1] = pcVar20;
            if (iVar49 == 0) {
              iVar49 = *(int *)(puVar37 + 3) * 2;
              sVar21 = (size_t)(iVar49 + 1);
              pvVar31 = calloc(sVar21,1);
              local_2208 = (byte *)(long)iVar49;
              local_2228 = 0;
              local_2248.tv_sec = (__time_t)pvVar31;
              local_2238.tv_sec = (__time_t)pcVar20;
              if ((((iVar49 + 1 < 4) || (*pcVar20 != -0x11)) || (pcVar20[1] != -0x45)) ||
                 (pcVar20[2] != -0x41)) {
                pcVar27 = setlocale(0,"");
                if ((*(char *)local_2238.tv_sec == -1) && (*(char *)(local_2238.tv_sec + 1) == -2))
                {
                  sVar29 = local_2228;
                  if (*(short *)(local_2238.tv_sec + 2) != 0) {
                    do {
                      sVar29 = sVar29 + 2;
                    } while (*(short *)(local_2238.tv_sec + sVar29 + (2 - local_2228)) != 0);
                  }
                  local_2228 = sVar29;
                  local_2238.tv_sec = (__time_t)(local_2238.tv_sec + 2);
                  __cd = iconv_open("UTF-8","UTF-16LE");
                }
                else {
                  uVar39 = 0xffffffffffffffff;
                  pcVar25 = pcVar20;
                  do {
                    if (uVar39 == 0) break;
                    uVar39 = uVar39 - 1;
                    cVar11 = *pcVar25;
                    pcVar25 = pcVar25 + (ulong)bVar66 * -2 + 1;
                  } while (cVar11 != '\0');
                  local_2228 = ~uVar39 - 1;
                  __cd = iconv_open("UTF-8","");
                }
                if (__cd == (iconv_t)0xffffffffffffffff) {
                  setlocale(0,pcVar27);
                }
                else {
                  sVar29 = iconv(__cd,(char **)&local_2238,&local_2228,(char **)&local_2248,
                                 (size_t *)&local_2208);
                  iconv_close(__cd);
                  setlocale(0,pcVar27);
                  if ((int)sVar29 != -1) {
                    memmove(pcVar20,pvVar31,sVar21);
                  }
                }
                free(pvVar31);
              }
              else {
                memmove(pcVar20,pcVar20 + 3,(long)(iVar49 + -2));
                pcVar20[sVar21 - 3] = '\0';
              }
            }
            pvVar31 = DAT_0011d060;
            iVar49 = *(int *)((long)DAT_0011d060 + lVar47 + 0x18);
            pcVar20 = *(char **)((long)DAT_0011d060 + lVar47 + 8);
            if (((2 < iVar49) && (*pcVar20 == -0x11)) &&
               ((pcVar20[1] == -0x45 && (pcVar20[2] == -0x41)))) {
              iVar49 = iVar49 + -3;
              *(int *)((long)DAT_0011d060 + lVar47 + 0x18) = iVar49;
              memmove(pcVar20,pcVar20 + 3,(long)iVar49);
              *(undefined *)
               (*(long *)((long)pvVar31 + lVar47 + 8) +
               (long)*(int *)((long)pvVar31 + lVar47 + 0x18)) = 0;
              pcVar20 = *(char **)((long)pvVar31 + lVar47 + 8);
            }
            sVar21 = strlen(pcVar20);
            iVar49 = (int)sVar21;
            *(int *)((long)pvVar31 + lVar47 + 0x18) = iVar49;
          }
        }
        _DAT_0011d068 = iVar49 + _DAT_0011d068;
        if ((int)((-(uint)(DAT_0011d0ac == 0) & 0xff100000) + 0x1000000) < _DAT_0011d068) {
          FUN_00112fa0("total APEv2 tag size exceeds %d MB !",
                       (-(uint)(DAT_0011d0ac == 0) & 0xfffffff1) + 0x10);
          goto LAB_00106220;
        }
        lVar19 = lVar19 + 1;
      } while ((int)lVar19 < (int)DAT_0011d06c);
    }
    if (iVar52 != 0) goto LAB_00106220;
  }
  pcVar20 = (char *)0x0;
  if (DAT_0011d0cc == 0) {
    puts(
        " Usage:   WAVPACK [-options] infile[.wav]|infile.ext|- [...] [-o outfile[.wv]|outpath|-]\n             (default is lossless; multiple input files allowed)\n\n Utils:   WAVPACK:  create or transcode WavPack files\n          WVUNPACK: unpack or verify existing WavPack files\n          WVGAIN:   apply ReplayGain to WavPack files\n          WVTAG:    apply or edit metadata tags on WavPack files\n\n Formats: .wav (default, bwf/rf64 okay)  .wv (transcode, with tags)\n          .w64 (Sony Wave64)             .caf (Core Audio Format)\n          .dff (Philips DSDIFF)          .dsf (Sony DSD stream)\n\n Options: -bn = enable hybrid compression, n = 2.0 to 23.9 bits/sample, or\n                                           n = 24-9600 kbits/second (kbps)\n          -c  = create correction file (.wvc) for hybrid mode (=lossless)\n          -f  = fast mode (fast, but some compromise in compression ratio)\n          -h  = high quality (better compression ratio, but slower)\n          -v  = verify output file integrity after write (no pipes)\n          -x  = extra encode processing (no decoding speed penalty)\n          --help = complete help\n\n Web:     Visit www.wavpack.com for latest version and info"
        );
    bVar64 = true;
    goto LAB_00106250;
  }
  DAT_0011d0c8 = 0;
  if (DAT_0011d0cc < 1) {
    if ((local_2340 != (uint *)0x0) && (*(char *)local_2340 == '@')) goto LAB_00107847;
LAB_00105ece:
    if (DAT_0011d0bc == 0) {
      DAT_0011d070 = 100.0;
    }
    else if ((bStack_21d1 & 2) == 0) {
      DAT_0011d070 = 50.0;
    }
    else if (uStack_21d0 == 0) {
      DAT_0011d070 = 66.7;
    }
    else {
      DAT_0011d070 = (1.0 - 1.0 / (double)((1 << ((byte)uStack_21d0 & 0x1f)) + 1)) * 100.0;
    }
    if (local_2340 == (uint *)0x0) {
      bVar64 = false;
      bVar65 = true;
    }
    else {
      if (*(char *)local_2340 != '-') {
        lVar19 = FUN_00112cb0(local_2340);
        if ((1 < DAT_0011d0cc) && (lVar19 == 0)) {
          FUN_00112fa0("%s is not a valid output path",local_2340);
          free(local_2340);
          goto LAB_001083f4;
        }
        bVar64 = true;
        bVar65 = true;
        if (lVar19 != 0) goto LAB_00105f30;
      }
      lVar19 = FUN_00112c30(local_2340);
      bVar64 = false;
      bVar65 = lVar19 == 0;
    }
LAB_00105f30:
    iVar52 = 0;
    DAT_0011d0c8 = 0;
    if (0 < DAT_0011d0cc) {
      do {
        iVar49 = FUN_00113140();
        puVar53 = local_2340;
        if (iVar49 != 0) break;
        if (bVar64) {
          pcVar27 = (char *)FUN_00112df0(local_2358[DAT_0011d0c8]);
          strcat((char *)local_2340,pcVar27);
          lVar19 = FUN_00112c30(local_2340);
joined_r0x0010728e:
          puVar53 = local_2340;
          if (lVar19 != 0) {
            puVar28 = (undefined *)FUN_00112c30(local_2340);
            *puVar28 = 0;
          }
        }
        else if (local_2340 == (uint *)0x0) {
          uVar39 = 0xffffffffffffffff;
          pcVar27 = (char *)local_2358[DAT_0011d0c8];
          pcVar25 = pcVar27;
          do {
            if (uVar39 == 0) break;
            uVar39 = uVar39 - 1;
            cVar11 = *pcVar25;
            pcVar25 = pcVar25 + (ulong)bVar66 * -2 + 1;
          } while (cVar11 != '\0');
          local_2340 = (uint *)malloc(~uVar39 + 9);
          memcpy(local_2340,pcVar27,~uVar39);
          lVar19 = FUN_00112c30(local_2340);
          goto joined_r0x0010728e;
        }
        if ((bVar65) && (puVar36 = puVar53, *(char *)puVar53 != '-')) {
          do {
            puVar30 = puVar36;
            uVar13 = *puVar30 + 0xfefefeff & ~*puVar30;
            uVar14 = uVar13 & 0x80808080;
            puVar36 = puVar30 + 1;
          } while (uVar14 == 0);
          bVar63 = (uVar13 & 0x8080) == 0;
          if (bVar63) {
            uVar14 = uVar14 >> 0x10;
          }
          if (bVar63) {
            puVar36 = (uint *)((long)puVar30 + 6);
          }
          *(undefined4 *)((long)puVar36 + (-3 - (ulong)CARRY1((byte)uVar14,(byte)uVar14))) =
               0x76772e;
        }
        puVar36 = puVar53;
        if ((bStack_21d2 & 8) == 0) {
          puVar30 = (uint *)0x0;
        }
        else {
          do {
            puVar30 = puVar36;
            uVar13 = *puVar30 + 0xfefefeff & ~*puVar30;
            uVar14 = uVar13 & 0x80808080;
            puVar36 = puVar30 + 1;
          } while (uVar14 == 0);
          bVar63 = (uVar13 & 0x8080) == 0;
          if (bVar63) {
            uVar14 = uVar14 >> 0x10;
          }
          if (bVar63) {
            puVar36 = (uint *)((long)puVar30 + 6);
          }
          lVar19 = (-3 - (ulong)CARRY1((byte)uVar14,(byte)uVar14)) - (long)puVar53;
          puVar30 = (uint *)malloc((long)puVar36 + lVar19 + 10);
          memcpy(puVar30,puVar53,(long)puVar36 + lVar19 + 1);
          lVar19 = FUN_00112c30(puVar30);
          puVar36 = puVar30;
          if (lVar19 != 0) {
            puVar28 = (undefined *)FUN_00112c30(puVar30);
            *puVar28 = 0;
          }
          do {
            puVar44 = puVar36;
            uVar13 = *puVar44 + 0xfefefeff & ~*puVar44;
            uVar14 = uVar13 & 0x80808080;
            puVar36 = puVar44 + 1;
          } while (uVar14 == 0);
          bVar63 = (uVar13 & 0x8080) == 0;
          if (bVar63) {
            uVar14 = uVar14 >> 0x10;
          }
          if (bVar63) {
            puVar36 = (uint *)((long)puVar44 + 6);
          }
          puVar35 = (undefined4 *)((long)puVar36 + (-3 - (ulong)CARRY1((byte)uVar14,(byte)uVar14)));
          *puVar35 = 0x6376772e;
          *(undefined *)(puVar35 + 1) = 0;
        }
        uVar22 = local_2358[DAT_0011d0c8];
        if ((1 < DAT_0011d0cc) && (DAT_0011d0c0 == 0)) {
          __fprintf_chk(stderr,1,"\n%s:\n",uVar22);
          fflush(stderr);
          uVar22 = local_2358[DAT_0011d0c8];
        }
        lVar19 = FUN_00112c30(uVar22);
        if (lVar19 == 0) {
LAB_00106021:
          iVar49 = FUN_0010ac40(local_2358[DAT_0011d0c8],puVar53,puVar30,local_2330);
          if (iVar49 != 0) {
LAB_00106720:
            iVar52 = iVar52 + 1;
            if (iVar49 == 2) {
              local_2340 = puVar53;
              if (1 < DAT_0011d0cc) goto LAB_00106740;
              goto LAB_0010676a;
            }
          }
        }
        else {
          pcVar27 = (char *)FUN_00112c30(local_2358[DAT_0011d0c8]);
          iVar49 = strcasecmp(pcVar27,".wv");
          if (iVar49 != 0) goto LAB_00106021;
          local_2188 = CONCAT44(fStack_21e4,local_21e8);
          local_22f0 = (uint *)local_2358[DAT_0011d0c8];
          local_2178 = CONCAT17(bStack_21d1,
                                CONCAT16(bStack_21d2,
                                         CONCAT24(uStack_21d4,
                                                  CONCAT22(uStack_21d6,
                                                           CONCAT11(bStack_21d7,local_21d8)))));
          uStack_2170 = CONCAT44(uStack_21cc,uStack_21d0);
          uStack_2180 = uStack_21e0;
          local_2168 = CONCAT44(iStack_21c4,local_21c8);
          uStack_2160 = CONCAT44(uStack_21bc,uStack_21c0);
          uVar45 = CONCAT12(bStack_21d2,uStack_21d4) & 0x80008;
          local_2158 = CONCAT44(uStack_21b4,local_21b8);
          local_2138 = local_2198;
          iVar49 = 0x507;
          uStack_2150 = uStack_21b0;
          local_2148 = local_21a8;
          uStack_2140 = uStack_21a0;
          if ((bStack_21d7 & 2) != 0) {
            iVar49 = (-(uint)(DAT_0011d0a0 == 0) & 0xfffffffc) + 0x507;
          }
          lVar19 = WavpackOpenFileInput(local_22f0,local_2098,iVar49,0);
          if (lVar19 != 0) {
            uVar14 = WavpackGetMode(lVar19);
            uVar13 = uVar14 & 2;
            if ((uVar13 == 0) && (uVar45 != 8)) {
              pcVar27 = "can\'t transcode lossy file %s to lossless...not allowed!";
LAB_0010749a:
              FUN_00112fa0(pcVar27,local_22f0);
              WavpackCloseFile(lVar19);
              iVar52 = iVar52 + 1;
              goto LAB_0010604a;
            }
            lVar47 = WavpackGetNumSamples64(lVar19);
            if (lVar47 == -1) {
              pcVar27 = "can\'t transcode file %s of unknown length!";
              goto LAB_0010749a;
            }
            psVar54 = &local_2228;
            for (lVar40 = 6; lVar40 != 0; lVar40 = lVar40 + -1) {
              *(undefined4 *)psVar54 = 0;
              psVar54 = (size_t *)((long)psVar54 + (ulong)bVar66 * -8 + 4);
            }
            ppbVar55 = &local_2208;
            for (lVar40 = 6; lVar40 != 0; lVar40 = lVar40 + -1) {
              *(undefined4 *)ppbVar55 = 0;
              ppbVar55 = (byte **)((long)ppbVar55 + (ulong)bVar66 * -8 + 4);
            }
            if (puVar30 != (uint *)0x0) {
              local_2350 = WavpackOpenFileOutput(FUN_0010ab80);
              if ((*(char *)puVar53 != '-') &&
                 (local_2220 = fopen((char *)puVar53,"rb"), local_2220 != (FILE *)0x0)) {
                FUN_001132f0(local_2220);
                if (DAT_0011d0d0 == 0) goto LAB_00107c90;
LAB_00106941:
                uVar39 = 0xffffffffffffffff;
                puVar36 = puVar53;
                do {
                  if (uVar39 == 0) break;
                  uVar39 = uVar39 - 1;
                  cVar11 = *(char *)puVar36;
                  puVar36 = (uint *)((long)puVar36 + (ulong)bVar66 * -2 + 1);
                } while (cVar11 != '\0');
                local_22c0 = (uint *)malloc(~uVar39 + 0xf);
                uVar39 = 0xffffffffffffffff;
                puVar36 = puVar53;
                do {
                  if (uVar39 == 0) break;
                  uVar39 = uVar39 - 1;
                  cVar11 = *(char *)puVar36;
                  puVar36 = (uint *)((long)puVar36 + (ulong)bVar66 * -2 + 1);
                } while (cVar11 != '\0');
                local_22a8 = (uint *)malloc(~uVar39 + 0xf);
                goto LAB_00106980;
              }
LAB_00106934:
              if ((DAT_0011d0d0 != 0) ||
                 (local_2200 = fopen((char *)puVar30,"rb"), local_2200 == (FILE *)0x0))
              goto LAB_00106941;
              FUN_001132f0(local_2200);
              uVar39 = 0xffffffffffffffff;
              puVar36 = puVar30;
              do {
                if (uVar39 == 0) break;
                uVar39 = uVar39 - 1;
                cVar11 = *(char *)puVar36;
                puVar36 = (uint *)((long)puVar36 + (ulong)bVar66 * -2 + 1);
              } while (cVar11 != '\0');
              if (0x1e < ~uVar39 - 1) {
                FUN_00112df0(puVar30);
              }
              __fprintf_chk(stderr,1,"overwrite %s (yes/no/all)? ");
              fflush(stderr);
              if (DAT_0011d0b0 != 0) {
                FUN_00113390("overwrite?");
              }
              cVar11 = FUN_00112e30();
              if (cVar11 == 'a') {
                DAT_0011d0d0 = 1;
                goto LAB_00106941;
              }
              if (cVar11 != 'n') goto LAB_00106941;
LAB_001077d3:
              WavpackCloseFile(lVar19);
LAB_001077db:
              WavpackCloseFile(local_2350);
              iVar52 = iVar52 + 1;
              goto LAB_0010604a;
            }
            local_2350 = WavpackOpenFileOutput(FUN_0010ab80,&local_2228,0);
            if ((*(char *)puVar53 == '-') ||
               (local_2220 = fopen((char *)puVar53,"rb"), local_2220 == (FILE *)0x0)) {
              gettimeofday(&local_2248,&local_2250);
              local_22a8 = (uint *)0x0;
              if (*(char *)puVar53 != '-') {
                local_22c0 = (uint *)0x0;
                local_22b8 = 0;
                puVar36 = puVar53;
                goto LAB_00106a8b;
              }
              local_22b8 = 0;
              local_22c0 = (uint *)0x0;
LAB_0010760b:
              local_2220 = stdout;
            }
            else {
              FUN_001132f0(local_2220);
              if (DAT_0011d0d0 == 0) {
LAB_00107c90:
                uVar39 = 0xffffffffffffffff;
                puVar36 = puVar53;
                do {
                  if (uVar39 == 0) break;
                  uVar39 = uVar39 - 1;
                  cVar11 = *(char *)puVar36;
                  puVar36 = (uint *)((long)puVar36 + (ulong)bVar66 * -2 + 1);
                } while (cVar11 != '\0');
                if (uVar45 == 8) {
                  if (0x1e < ~uVar39 - 1) {
                    FUN_00112df0(puVar53);
                  }
                  __fprintf_chk(stderr,1,"overwrite %s with lossy transcode (yes/no/all)? ");
                }
                else {
                  if (0x1e < ~uVar39 - 1) {
                    FUN_00112df0(puVar53);
                  }
                  __fprintf_chk(stderr,1,"overwrite %s (yes/no/all)? ");
                }
                fflush(stderr);
                if (DAT_0011d0b0 != 0) {
                  FUN_00113390("overwrite?");
                }
                cVar11 = FUN_00112e30();
                if (cVar11 == 'a') {
                  DAT_0011d0d0 = 1;
                  if (puVar30 != (uint *)0x0) goto LAB_00106941;
                }
                else {
                  if (cVar11 == 'n') goto LAB_001077d3;
                  if (puVar30 != (uint *)0x0) goto LAB_00106934;
                }
              }
              uVar39 = 0xffffffffffffffff;
              puVar36 = puVar53;
              do {
                if (uVar39 == 0) break;
                uVar39 = uVar39 - 1;
                cVar11 = *(char *)puVar36;
                puVar36 = (uint *)((long)puVar36 + (ulong)bVar66 * -2 + 1);
              } while (cVar11 != '\0');
              local_22c0 = (uint *)malloc(~uVar39 + 0xf);
              local_22a8 = (uint *)0x0;
LAB_00106980:
              uVar46 = 0;
LAB_00106997:
              strcpy((char *)local_22c0,(char *)puVar53);
              lVar40 = FUN_00112c30(local_22c0);
              if (lVar40 == 0) {
                if (uVar46 == 0) {
                  uVar46 = 1;
                  strcat((char *)local_22c0,".tmp");
                }
                else {
                  uVar39 = 0xffffffffffffffff;
                  pcVar20 = (char *)(ulong)uVar46;
                  puVar36 = local_22c0;
                  do {
                    if (uVar39 == 0) break;
                    uVar39 = uVar39 - 1;
                    cVar11 = *(char *)puVar36;
                    puVar36 = (uint *)((long)puVar36 + (ulong)bVar66 * -2 + 1);
                  } while (cVar11 != '\0');
                  __sprintf_chk((long)local_22c0 + (~uVar39 - 1),1,0xffffffffffffffff,".tmp%d",
                                pcVar20);
                  uVar46 = uVar46 + 1;
                }
              }
              else {
                if (uVar46 == 0) {
                  puVar35 = (undefined4 *)FUN_00112c30(local_22c0);
                  *puVar35 = 0x706d742e;
                  *(undefined *)(puVar35 + 1) = 0;
                }
                else {
                  uVar22 = FUN_00112c30(local_22c0);
                  pcVar20 = (char *)(ulong)uVar46;
                  __sprintf_chk(uVar22,1,0xffffffffffffffff,".tmp%d",pcVar20);
                }
                pcVar27 = (char *)FUN_00112c30(puVar53);
                strcat((char *)local_22c0,pcVar27);
                uVar46 = uVar46 + 1;
              }
              pFVar23 = fopen((char *)local_22c0,"rb");
              if (pFVar23 != (FILE *)0x0) {
                fclose(pFVar23);
                goto LAB_00106997;
              }
              if (puVar30 != (uint *)0x0) {
                pcVar27 = stpcpy((char *)local_22a8,(char *)local_22c0);
                pcVar27[0] = 'c';
                pcVar27[1] = '\0';
                pFVar23 = fopen((char *)local_22a8,"rb");
                if (pFVar23 == (FILE *)0x0) goto LAB_00106a43;
                fclose(pFVar23);
                goto LAB_00106997;
              }
LAB_00106a43:
              gettimeofday(&local_2248,&local_2250);
              if (*(char *)puVar53 == '-') {
                local_22b8 = 1;
                goto LAB_0010760b;
              }
              local_22b8 = 1;
              puVar36 = local_22c0;
LAB_00106a8b:
              local_2220 = fopen((char *)puVar36,"w+b");
              if (local_2220 == (FILE *)0x0) {
                FUN_00112fa0("can\'t create file %s!",puVar36);
                goto LAB_001077d3;
              }
            }
            local_2278 = &local_2250;
            if (DAT_0011d0c0 == 0) {
              if (*(char *)puVar53 == '-') {
                puVar36 = (uint *)"stdin";
                if (*(char *)local_22f0 != '-') {
                  uVar39 = 0xffffffffffffffff;
                  puVar36 = local_22f0;
                  do {
                    if (uVar39 == 0) break;
                    uVar39 = uVar39 - 1;
                    cVar11 = *(char *)puVar36;
                    puVar36 = (uint *)((long)puVar36 + (ulong)bVar66 * -2 + 1);
                  } while (cVar11 != '\0');
                  puVar36 = local_22f0;
                  if (0x1e < ~uVar39 - 1) {
                    puVar36 = (uint *)FUN_00112df0(local_22f0);
                  }
                }
                __fprintf_chk(stderr,1,"packing %s to stdout,",puVar36);
              }
              else if (puVar30 == (uint *)0x0) {
                uVar39 = 0xffffffffffffffff;
                puVar36 = puVar53;
                do {
                  if (uVar39 == 0) break;
                  uVar39 = uVar39 - 1;
                  cVar11 = *(char *)puVar36;
                  puVar36 = (uint *)((long)puVar36 + (ulong)bVar66 * -2 + 1);
                } while (cVar11 != '\0');
                puVar36 = puVar53;
                if (0x1e < ~uVar39 - 1) {
                  puVar36 = (uint *)FUN_00112df0(puVar53);
                }
                __fprintf_chk(stderr,1,"creating %s,",puVar36);
              }
              else {
                pcVar20 = (char *)FUN_00112c30(puVar30);
                uVar39 = 0xffffffffffffffff;
                puVar36 = puVar53;
                do {
                  if (uVar39 == 0) break;
                  uVar39 = uVar39 - 1;
                  cVar11 = *(char *)puVar36;
                  puVar36 = (uint *)((long)puVar36 + (ulong)bVar66 * -2 + 1);
                } while (cVar11 != '\0');
                puVar36 = puVar53;
                if (0x1e < ~uVar39 - 1) {
                  puVar36 = (uint *)FUN_00112df0(puVar53);
                }
                __fprintf_chk(stderr,1,"creating %s (+%s),",puVar36,pcVar20);
              }
              fflush(stderr);
            }
            uVar10 = WavpackGetFileFormat(lVar19);
            uVar22 = WavpackGetFileExtension(lVar19);
            WavpackSetFileInformation(local_2350,uVar22,uVar10);
            iVar49 = WavpackGetWrapperBytes(lVar19);
            if (iVar49 != 0) {
              if ((local_2178 & 0x200) != 0) {
LAB_00106b82:
                WavpackFreeWrapper(lVar19);
                goto LAB_00106b8a;
              }
              uVar15 = WavpackGetWrapperBytes(lVar19);
              uVar22 = WavpackGetWrapperData(lVar19);
              iVar49 = WavpackAddWrapper(local_2350,uVar22,uVar15);
              if (iVar49 != 0) goto LAB_00106b82;
LAB_001074bd:
              uVar22 = WavpackGetErrorMessage(local_2350);
              FUN_00112fa0("%s",uVar22);
              WavpackCloseFile(lVar19);
              FUN_001132f0(local_2220);
              if (local_22b8 == 0) {
                local_22c0 = puVar53;
              }
              FUN_00113360(local_22c0);
              WavpackCloseFile(local_2350);
              iVar52 = iVar52 + 1;
              goto LAB_0010604a;
            }
LAB_00106b8a:
            uVar15 = WavpackGetBytesPerSample(lVar19);
            uStack_2180._4_4_ = uVar15;
            uVar15 = WavpackGetBitsPerSample(lVar19);
            uStack_2180 = CONCAT44(uStack_2180._4_4_,uVar15);
            uVar15 = WavpackGetChannelMask(lVar19);
            local_2158 = CONCAT44(local_2158._4_4_,uVar15);
            uVar15 = WavpackGetNumChannels(lVar19);
            uStack_2170 = CONCAT44(uVar15,(undefined4)uStack_2170);
            uVar15 = WavpackGetSampleRate(lVar19);
            uStack_2160 = CONCAT44(uVar15,(undefined4)uStack_2160);
            uVar46 = WavpackGetQualifyMode(lVar19);
            local_2178 = CONCAT44(local_2178._4_4_,(uint)local_2178 | uVar46);
            pvVar31 = malloc((long)(uStack_2170._4_4_ + 1));
            WavpackGetChannelIdentities(lVar19,pvVar31);
            if ((uVar14 & 8) != 0) {
              uVar15 = WavpackGetFloatNormExp(lVar19);
              local_2168 = CONCAT44(local_2168._4_4_,uVar15);
            }
            if ((uVar14 & 0x800) != 0) {
              local_2178 = local_2178 | 0x800000000000000;
            }
            iVar49 = WavpackSetConfiguration64(local_2350,&local_2188,lVar47,pvVar31);
            if (iVar49 == 0) goto LAB_001074bd;
            free(pvVar31);
            if ((local_2178 & 8) == 0) {
              uVar15 = WavpackGetChannelLayout(lVar19,0);
              WavpackSetChannelLayout(local_2350,uVar15,0);
            }
            else {
              uVar15 = WavpackGetChannelLayout(lVar19,0);
              if ((char)uVar15 != '\0') {
                WavpackGetChannelLayout(lVar19,local_2048);
                WavpackSetChannelLayout(local_2350,uVar15,local_2048);
              }
            }
            if (puVar30 != (uint *)0x0) {
              if (local_22b8 == 0) {
                local_2200 = fopen((char *)puVar30,"w+b");
                if (local_2200 == (FILE *)0x0) {
                  FUN_00112fa0("can\'t create correction file!");
                  WavpackCloseFile(lVar19);
                  FUN_001132f0(local_2220);
                  local_22c0 = puVar53;
                  goto LAB_00107992;
                }
              }
              else {
                local_2200 = fopen((char *)local_22a8,"w+b");
                if (local_2200 == (FILE *)0x0) {
                  FUN_00112fa0("can\'t create correction file!");
                  WavpackCloseFile(lVar19);
                  FUN_001132f0(local_2220);
LAB_00107992:
                  FUN_00113360(local_22c0);
                  WavpackCloseFile(local_2350);
                  iVar52 = iVar52 + 1;
                  goto LAB_0010604a;
                }
              }
            }
            iVar49 = WavpackGetBytesPerSample(lVar19);
            iVar16 = WavpackGetNumChannels(lVar19);
            uVar46 = WavpackGetQualifyMode(lVar19);
            if ((uVar46 & 0x40) == 0) {
              uVar61 = 0x10000;
              while( true ) {
                iVar17 = WavpackGetNumChannels(local_2350);
                uVar39 = (ulong)uVar61;
                if ((long)iVar17 * uVar39 * 4 < 0x200001) break;
                uVar61 = uVar61 >> 1;
              }
            }
            else {
              uVar61 = 0x1000;
              uVar39 = 0x1000;
            }
            iVar17 = WavpackGetNumChannels(local_2350);
            pvVar31 = malloc((ulong)(iVar17 * iVar49 * uVar61));
            MD5_Init(&local_2128);
            sVar21 = (size_t)iVar16;
            if (((uVar46 & 8) == 0) ||
               (bVar12 = WavpackGetChannelLayout(lVar19,0), iVar16 < (int)(uint)bVar12)) {
              local_22e0 = (void *)0x0;
            }
            else {
              local_22e0 = malloc(sVar21);
              for (lVar40 = 0; (int)lVar40 < iVar16; lVar40 = lVar40 + 1) {
                *(char *)((long)local_22e0 + lVar40) = (char)lVar40;
              }
              WavpackGetChannelLayout(lVar19,local_22e0);
            }
            WavpackPackInit(local_2350);
            iVar17 = WavpackGetNumChannels(local_2350);
            pfVar32 = (float *)malloc(uVar39 * (long)iVar17 * 4);
            uVar43 = DAT_0011d0a8;
            if (DAT_0011d0a8 == 0) {
LAB_00107627:
              local_2310 = 1.0;
              local_2318 = 1.0;
            }
            else if ((int)DAT_0011d0a8 < iVar49 * 8) {
              uVar43 = -1 << ((char)(iVar49 * 8) - (char)DAT_0011d0a8 & 0x1fU);
              uVar39 = WavpackGetMode(lVar19);
              if ((uVar39 & 8) == 0) goto LAB_00107627;
              iVar17 = WavpackGetFloatNormExp(lVar19);
              uVar42 = DAT_0011d0a8;
              local_2318 = exp2((double)(int)((DAT_0011d0a8 + 0x7e) - iVar17));
              local_2310 = exp2((double)(int)((iVar17 + -0x7e) - uVar42));
            }
            else {
              uVar43 = 0;
              local_2310 = 1.0;
              local_2318 = 1.0;
            }
            lVar40 = 1 - (long)(iVar16 << 0xc);
            local_2280 = -1.0;
            dVar68 = local_2280;
            while (local_2280 = dVar68, iVar17 = WavpackUnpackSamples(lVar19,pfVar32,uVar61),
                  iVar17 != 0) {
              if (uVar43 != 0) {
                uVar42 = iVar16 * iVar17;
                uVar39 = WavpackGetMode(lVar19);
                if ((uVar39 & 8) == 0) {
                  if (DAT_0011d0a4 == 0) {
                    if (uVar42 != 0) {
LAB_001072ae:
                      lVar33 = 0;
                      do {
                        pfVar32[lVar33] = (float)((uint)pfVar32[lVar33] & uVar43);
                        lVar33 = lVar33 + 1;
                      } while ((uint)lVar33 < uVar42);
                    }
                  }
                  else if (uVar42 != 0) {
                    pfVar34 = pfVar32;
                    do {
                      fVar1 = (float)(((int)uVar43 >> 1 ^ uVar43) + (int)*pfVar34);
                      pcVar20 = (char *)0x0;
                      if (((int)*pfVar34 < 0) ||
                         (0 < (int)fVar1 << (('\x04' - (char)iVar49) * '\b' & 0x1fU))) {
                        *pfVar34 = fVar1;
                      }
                      pfVar34 = pfVar34 + 1;
                    } while (pfVar32 + (ulong)(uVar42 - 1) + 1 != pfVar34);
                    goto LAB_001072ae;
                  }
                }
                else if (uVar42 != 0) {
                  pfVar34 = pfVar32;
                  do {
                    dVar68 = (double)*pfVar34 * local_2318 + 0.5;
                    if (ABS(dVar68) < 4503599627370496.0) {
                      dVar68 = (double)((ulong)dVar68 & 0x8000000000000000 |
                                       (ulong)((double)(long)dVar68 -
                                              (double)(-(ulong)(dVar68 < (double)(long)dVar68) &
                                                      0x3ff0000000000000)));
                    }
                    pfVar41 = pfVar34 + 1;
                    *pfVar34 = (float)(dVar68 * local_2310);
                    pfVar34 = pfVar41;
                  } while (pfVar32 + (ulong)(uVar42 - 1) + 1 != pfVar41);
                }
              }
              iVar18 = WavpackPackSamples(local_2350,pfVar32,iVar17);
              if (iVar18 == 0) {
                iVar49 = 2;
                uVar22 = WavpackGetErrorMessage(local_2350);
                FUN_00112fa0("%s",uVar22);
                free(pfVar32);
                goto LAB_00106699;
              }
              if (local_22e0 != (void *)0x0) {
                FUN_001096d0(pfVar32,local_22e0,iVar16);
              }
              if ((uVar46 & 0x30) == 0) {
                pcVar20 = (char *)(ulong)(uint)(iVar16 * iVar17);
                FUN_00109ef0(pvVar31,pfVar32,uVar46,iVar49,pcVar20);
              }
              else if ((uVar46 & 0x40) == 0) {
                pcVar20 = (char *)0x0;
                if (iVar16 * iVar17 != 0) {
                  uVar39 = 0;
                  do {
                    *(char *)((long)pvVar31 + uVar39) = SUB41(pfVar32[uVar39],0);
                    bVar63 = iVar16 * iVar17 - 1 != uVar39;
                    uVar39 = uVar39 + 1;
                  } while (bVar63);
                }
              }
              else {
                pvVar26 = pvVar31;
                pfVar34 = pfVar32;
                if (iVar16 != 0) {
                  do {
                    lVar33 = 0;
                    pfVar41 = pfVar34;
                    do {
                      while (iVar17 <= (int)lVar33) {
                        *(undefined *)((long)pvVar26 + lVar33) = 0;
                        lVar33 = lVar33 + 1;
                        pfVar41 = pfVar41 + sVar21;
                        if (lVar33 == 0x1000) goto LAB_00106f7c;
                      }
                      uVar10 = SUB41(*pfVar41,0);
                      if ((uVar46 & 0x10) != 0) {
                        uVar10 = (&DAT_00118240)[(uint)*pfVar41 & 0xff];
                      }
                      *(undefined *)((long)pvVar26 + lVar33) = uVar10;
                      lVar33 = lVar33 + 1;
                      pfVar41 = pfVar41 + sVar21;
                    } while (lVar33 != 0x1000);
LAB_00106f7c:
                    pvVar26 = (void *)((long)pvVar26 + 0x1000);
                    pcVar20 = (char *)(sVar21 * 0x4000 + lVar40 * 4);
                    pfVar34 = pfVar34 + lVar40 + sVar21 * 0x1000;
                  } while ((void *)(((ulong)(iVar16 - 1) + 1) * 0x1000 + (long)pvVar31) != pvVar26);
                }
                iVar17 = 0x1000;
              }
              MD5_Update(&local_2128,pvVar31,(long)(iVar17 * iVar49 * iVar16));
              iVar17 = FUN_00113140();
              if (iVar17 != 0) {
                iVar49 = 1;
                fputc(10,stderr);
                fflush(stderr);
                free(pfVar32);
                goto LAB_00106699;
              }
              dVar67 = (double)WavpackGetProgress(local_2350);
              dVar68 = local_2280;
              if ((false) || (dVar67 != -1.0)) {
                dVar67 = (double)WavpackGetProgress(local_2350);
                dVar67 = floor(dVar67 * DAT_0011d070 + 0.5);
                if ((false) || (dVar67 != local_2280)) {
                  dVar68 = (double)WavpackGetProgress(local_2350);
                  dVar68 = floor(dVar68 * DAT_0011d070 + 0.5);
                  if (DAT_0011d0b0 != 0) {
                    FUN_0010a390(dVar68 / 100.0);
                  }
                  if (DAT_0011d0c0 == 0) {
                    pcVar20 = (char *)CONCAT44((int)((ulong)pcVar20 >> 0x20),(int)dVar68);
                    if ((false) || (puVar28 = &DAT_00119241, local_2280 != -1.0)) {
                      puVar28 = &DAT_00115044;
                    }
                    __fprintf_chk(stderr,1,"%s%3d%% done...",puVar28,pcVar20);
                    fflush(stderr);
                  }
                }
              }
            }
            if (local_22e0 != (void *)0x0) {
              free(local_22e0);
            }
            free(pfVar32);
            iVar49 = WavpackFlushSamples(local_2350);
            if (iVar49 == 0) goto LAB_00106679;
            MD5_Final((uchar *)&local_20c8,&local_2128);
            free(pvVar31);
            local_2318._0_4_ = WavpackGetNumErrors(lVar19);
            if (local_2318._0_4_ != 0) {
              uVar15 = WavpackGetNumErrors(lVar19);
              FUN_00112fa0("missing data or crc errors detected in %d block(s)!",uVar15);
              local_2318._0_4_ = 1;
            }
            lVar40 = WavpackGetNumSamples64(local_2350);
            if (lVar47 != lVar40) {
              FUN_00112fa0("incorrect number of samples read from source file!");
              if ((uVar13 != 0) && (local_2318._0_4_ = 1, DAT_0011d0a8 == 0)) goto LAB_00107dd7;
LAB_00108e3b:
              iVar49 = 1;
              goto LAB_00106699;
            }
            if ((uVar13 != 0) && (DAT_0011d0a8 == 0)) {
LAB_00107dd7:
              iVar49 = WavpackGetMD5Sum(lVar19,local_2048);
              if ((iVar49 == 0) || (iVar49 = memcmp(local_2048,&local_20c8,0x10), iVar49 == 0))
              goto LAB_00107a70;
              iVar49 = 1;
              FUN_00112fa0("MD5 signature in source should match, but does not!");
              goto LAB_00106699;
            }
LAB_00107a70:
            if (local_2318._0_4_ != 0) goto LAB_00108e3b;
            iVar49 = WavpackGetMD5Sum(lVar19,local_20b8);
            if (iVar49 == 0) {
              if ((local_2178 & 0x800000000000000) != 0) {
                local_20b8[0] = local_20c8;
                local_20b8[1] = uStack_20c0;
                WavpackStoreMD5Sum(local_2350,&local_20c8);
              }
            }
            else {
              if ((uVar13 != 0) && (DAT_0011d0a8 != 0)) {
                local_20b8[0] = local_20c8;
                local_20b8[1] = uStack_20c0;
              }
              WavpackStoreMD5Sum(local_2350,local_20b8);
            }
            iVar49 = WavpackGetWrapperBytes(lVar19);
            local_2340._0_4_ = 0;
            if (iVar49 == 0) {
LAB_00107ae6:
              iVar49 = WavpackFlushSamples(local_2350);
              if (iVar49 == 0) {
LAB_00106679:
                iVar49 = 2;
                uVar22 = WavpackGetErrorMessage(local_2350);
                FUN_00112fa0("%s",uVar22);
                goto LAB_00106699;
              }
              uVar13 = uVar14 & 0x10 | DAT_0011d06c | (uint)local_2340;
              if (uVar13 != 0) {
                iVar49 = WavpackGetNumBinaryTagItems(lVar19);
                iVar16 = WavpackGetNumTagItems(lVar19);
                iVar17 = 1;
                for (iVar18 = 0; iVar50 = 0, iVar18 < iVar16; iVar18 = iVar18 + 1) {
                  if (iVar17 == 0) {
                    iVar17 = 0;
                    break;
                  }
                  iVar17 = WavpackGetTagItemIndexed(lVar19,iVar18,0,0);
                  pcVar27 = (char *)malloc((long)(iVar17 + 1));
                  WavpackGetTagItemIndexed(lVar19,iVar18,pcVar27);
                  iVar17 = strcasecmp(pcVar27,"encoder");
                  if (iVar17 == 0) {
                    pcVar25 = (char *)malloc(0x50);
                    pcVar20 = (char *)0x0;
                    __sprintf_chk(pcVar25,1,0x50,"WavPack %s","5.1.0");
LAB_00107eb5:
                    lVar47 = -1;
                    pcVar57 = pcVar25;
                    do {
                      if (lVar47 == 0) break;
                      lVar47 = lVar47 + -1;
                      cVar11 = *pcVar57;
                      pcVar57 = pcVar57 + (ulong)bVar66 * -2 + 1;
                    } while (cVar11 != '\0');
                  }
                  else {
                    iVar17 = strcasecmp(pcVar27,"settings");
                    if (iVar17 == 0) {
                      pcVar25 = (char *)malloc(0x100);
                      FUN_00109920(pcVar25,&local_2188);
                      goto LAB_00107eb5;
                    }
                    iVar17 = WavpackGetTagItem(lVar19,pcVar27,0,0);
                    pcVar25 = (char *)malloc((long)(iVar17 + 1));
                    WavpackGetTagItem(lVar19,pcVar27,pcVar25,iVar17 + 1);
                  }
                  iVar17 = WavpackAppendTagItem(local_2350,pcVar27,pcVar25);
                  free(pcVar25);
                  free(pcVar27);
                }
                while ((iVar50 < iVar49 && (iVar17 != 0))) {
                  iVar16 = WavpackGetBinaryTagItemIndexed(lVar19,iVar50,0,0);
                  pvVar31 = malloc((long)(iVar16 + 1));
                  WavpackGetBinaryTagItemIndexed(lVar19,iVar50,pvVar31,iVar16 + 1);
                  iVar16 = WavpackGetBinaryTagItem(lVar19,pvVar31,0,0);
                  pvVar26 = malloc((long)iVar16);
                  WavpackGetBinaryTagItem(lVar19,pvVar31,pvVar26,iVar16);
                  iVar17 = WavpackAppendBinaryTagItem(local_2350,pvVar31,pvVar26);
                  free(pvVar26);
                  free(pvVar31);
                  iVar50 = iVar50 + 1;
                }
                for (lVar47 = 0; (int)lVar47 < (int)DAT_0011d06c; lVar47 = lVar47 + 1) {
                  if (iVar17 == 0) goto LAB_00106679;
                  puVar37 = (undefined8 *)(lVar47 * 0x20 + (long)DAT_0011d060);
                  if (*(int *)(puVar37 + 3) == 0) {
                    WavpackDeleteTagItem(local_2350,*puVar37);
                  }
                  else if (*(int *)((long)puVar37 + 0x1c) == 0) {
                    iVar17 = WavpackAppendTagItem();
                  }
                  else {
                    iVar17 = WavpackAppendBinaryTagItem(local_2350,*puVar37,puVar37[1]);
                  }
                }
                if ((iVar17 == 0) ||
                   (iVar49 = WavpackWriteTag(local_2350), uVar13 = (uint)local_2340, iVar49 == 0))
                goto LAB_00106679;
              }
              WavpackCloseFile(lVar19);
              iVar49 = FUN_001132f0(local_2220);
              if (iVar49 == 0) {
                iVar49 = 1;
                FUN_00112fa0("can\'t close WavPack file!");
                goto LAB_001066b6;
              }
              if ((puVar30 == (uint *)0x0) || (iVar49 = FUN_001132f0(local_2200), iVar49 != 0)) {
                puVar36 = local_22c0;
                if (DAT_0011d0bc == 0) {
                  if (DAT_0011d0c4 != 0) {
                    if (local_22b8 == 0) {
                      puVar36 = puVar53;
                    }
LAB_00108457:
                    iVar49 = FUN_00112b70(local_22f0,puVar36);
                    if (iVar49 == 0) {
LAB_0010848c:
                      FUN_00112fa0("failure copying time stamp!");
                    }
                    else if (puVar30 != (uint *)0x0) {
                      puVar36 = local_22a8;
                      if (local_22b8 == 0) {
                        puVar36 = puVar30;
                      }
                      iVar49 = FUN_00112b70(local_22f0,puVar36);
                      if (iVar49 == 0) goto LAB_0010848c;
                    }
                  }
LAB_0010849a:
                  if (DAT_0011d0b8 != 0) {
                    iVar49 = strcasecmp((char *)local_22f0,(char *)puVar53);
                    if (iVar49 != 0) {
                      iVar49 = FUN_00113360(local_22f0);
                      if (DAT_0011d0c0 == 0) {
                        pcVar27 = "can\'t delete";
                        if (iVar49 != 0) {
                          pcVar27 = "deleted";
                        }
                      }
                      else {
                        if (iVar49 != 0) goto LAB_001084b8;
                        pcVar27 = "can\'t delete";
                      }
                      FUN_00112fa0("%s source file %s",pcVar27,local_22f0);
                    }
LAB_001084b8:
                    if ((uVar14 & 1) != 0) {
                      uVar22 = __stpcpy_chk(local_2048,local_22f0,0x1000);
                      __memcpy_chk(uVar22,"c",2);
                      if ((puVar30 == (uint *)0x0) ||
                         (iVar49 = strcasecmp((char *)local_2048,(char *)puVar30), iVar49 != 0)) {
                        iVar49 = FUN_00113360(local_2048);
                        if (DAT_0011d0c0 == 0) {
                          pcVar27 = "can\'t delete";
                          if (iVar49 != 0) {
                            pcVar27 = "deleted";
                          }
                        }
                        else {
                          if (iVar49 != 0) goto LAB_001084c6;
                          pcVar27 = "can\'t delete";
                        }
                        FUN_00112fa0("%s source file %s",pcVar27,local_2048);
                      }
                    }
                  }
LAB_001084c6:
                  if (local_22b8 != 0) {
                    iVar49 = rename((char *)local_22c0,(char *)puVar53);
                    if (iVar49 != 0) {
                      FUN_00112fa0("can not rename temp file %s to %s!",local_22c0,puVar53);
                      iVar49 = local_22b8;
                    }
                    if (puVar30 == (uint *)0x0) {
                      free(local_22c0);
                    }
                    else {
                      iVar16 = rename((char *)local_22a8,(char *)puVar30);
                      if (iVar16 != 0) {
                        FUN_00112fa0("can not rename temp file %s to %s!",local_22a8,puVar30);
                        iVar49 = local_22b8;
                      }
                      free(local_22c0);
                      free(local_22a8);
                    }
                    if (iVar49 != 0) goto LAB_001077db;
                  }
                  gettimeofday(&local_2238,local_2278);
                  _Var9 = local_2238.tv_usec;
                  _Var8 = local_2238.tv_sec;
                  _Var7 = local_2248.tv_usec;
                  _Var6 = local_2248.tv_sec;
                  if (((local_2178 & 0x80000000000000) != 0) &&
                     (dVar68 = (double)WavpackGetEncodedNoise(local_2350,0), 0.0 < dVar68)) {
                    iVar49 = WavpackGetBitsPerSample(local_2350);
                    dVar68 = 0.5;
                    while (iVar49 = iVar49 + -1, iVar49 != -1) {
                      dVar68 = dVar68 + dVar68;
                    }
                    dVar68 = dVar68 * (dVar68 - 1.0) * 0.5;
                    dVar67 = (double)WavpackGetEncodedNoise(local_2350,&local_2258);
                    dVar69 = log10(local_2258 / dVar68);
                    uVar14 = WavpackGetNumSamples(local_2350);
                    dVar68 = log10((dVar67 / (double)uVar14) / dVar68);
                    FUN_00112fa0(dVar68 * 10.0,dVar69 * 10.0,
                                 "ave noise = %.2f dB, peak noise = %.2f dB");
                  }
                  if (DAT_0011d0c0 == 0) {
                    local_20a8 = (undefined  [16])0x0;
                    if (uVar13 != 0) {
                      FUN_00112fa0("successfully imported %d items from ID3v2 tag",uVar13);
                    }
                    if ((bStack_21d1 & 8) != 0) {
                      lVar47 = 0;
                      puVar28 = local_2030;
                      pcVar20 = "original md5 signature: 00000000000000000000000000000000";
                      puVar36 = local_2048;
                      for (lVar19 = 0x39; lVar19 != 0; lVar19 = lVar19 + -1) {
                        *(char *)puVar36 = *pcVar20;
                        pcVar20 = pcVar20 + (ulong)bVar66 * -2 + 1;
                        puVar36 = (uint *)((long)puVar36 + (ulong)bVar66 * -2 + 1);
                      }
                      do {
                        pcVar20 = (char *)(ulong)*(byte *)((long)local_20b8 + lVar47);
                        lVar47 = lVar47 + 1;
                        __sprintf_chk(puVar28,1,0xffffffffffffffff,&DAT_00115061,pcVar20);
                        puVar28 = puVar28 + 2;
                      } while (lVar47 != 0x10);
                      FUN_00112fa0(local_2048);
                    }
                    if (*(char *)puVar53 == '-') {
                      if (*(char *)local_22f0 == '-') {
                        pcVar25 = "packed";
                        local_22f0 = (uint *)0x1150c3;
                        pcVar27 = "";
                      }
                      else {
                        uVar39 = 0xffffffffffffffff;
                        pcVar25 = "packed";
                        puVar36 = local_22f0;
                        do {
                          if (uVar39 == 0) break;
                          uVar39 = uVar39 - 1;
                          cVar11 = *(char *)puVar36;
                          puVar36 = (uint *)((long)puVar36 + (ulong)bVar66 * -2 + 1);
                        } while (cVar11 != '\0');
                        pcVar27 = "";
                        if (0x1e < ~uVar39 - 1) {
                          local_22f0 = (uint *)FUN_00112df0(local_22f0);
                        }
                      }
                    }
                    else {
                      uVar39 = 0xffffffffffffffff;
                      puVar36 = puVar53;
                      do {
                        if (uVar39 == 0) break;
                        uVar39 = uVar39 - 1;
                        cVar11 = *(char *)puVar36;
                        puVar36 = (uint *)((long)puVar36 + (ulong)bVar66 * -2 + 1);
                      } while (cVar11 != '\0');
                      local_22f0 = puVar53;
                      if (0x1e < ~uVar39 - 1) {
                        local_22f0 = (uint *)FUN_00112df0(puVar53);
                      }
                      pcVar27 = "";
                      if ((int)local_2208 != 0) {
                        pcVar27 = " (+.wvc)";
                      }
                      pcVar25 = "created";
                      if (DAT_0011d0bc != 0) {
                        pcVar25 = "created (and verified)";
                      }
                    }
                    iVar49 = WavpackLossyBlocks(local_2350);
                    if (iVar49 == 0) {
                      dVar68 = (double)WavpackGetRatio(local_2350);
                      if ((false) || (pcVar20 = "lossless", dVar68 != 0.0)) {
                        dVar68 = (double)WavpackGetRatio(local_2350);
                        __sprintf_chk(100.0 - dVar68 * 100.0,local_20a8,1,0x10,", %.2f%%");
                        pcVar20 = "lossless";
                      }
                    }
                    else {
                      dVar68 = (double)WavpackGetAverageBitrate(local_2350,1);
                      if ((false) || (pcVar20 = "lossy", dVar68 != 0.0)) {
                        uVar15 = (undefined4)((ulong)pcVar20 >> 0x20);
                        dVar68 = (double)WavpackGetAverageBitrate(local_2350,1);
                        __sprintf_chk(local_20a8,1,0x10,", %d kbps",
                                      CONCAT44(uVar15,(int)(dVar68 / 1000.0)));
                        pcVar20 = "lossy";
                      }
                    }
                    FUN_00112fa0(((double)_Var9 / 1000000.0 + (double)_Var8) -
                                 ((double)_Var7 / 1000000.0 + (double)_Var6),
                                 "%s %s%s in %.2f secs (%s%s)",pcVar25,local_22f0,pcVar27,pcVar20,
                                 local_20a8);
                  }
                  WavpackCloseFile(local_2350);
                  goto LAB_0010604a;
                }
                iVar49 = WavpackLossyBlocks(local_2350);
                puVar51 = (uchar *)0x0;
                if (iVar49 == 0) {
                  puVar51 = (uchar *)&local_20c8;
                }
                if (local_22b8 != 0) {
                  iVar49 = FUN_0010a420(local_22c0,puVar51);
                  if (iVar49 != 0) goto LAB_00108ad3;
joined_r0x001088da:
                  if (DAT_0011d0c4 != 0) goto LAB_00108457;
                  goto LAB_0010849a;
                }
                iVar49 = FUN_0010a420(puVar53,puVar51);
                puVar36 = puVar53;
                if (iVar49 == 0) goto joined_r0x001088da;
                goto LAB_001066f0;
              }
              FUN_00112fa0("can\'t close correction file!");
              iVar49 = local_22b8;
              if (local_22b8 == 0) {
                FUN_00113360(puVar53);
                FUN_00113360(puVar30);
                goto LAB_001077db;
              }
LAB_00108ad3:
              FUN_00113360(local_22c0);
joined_r0x00108ae3:
              if (puVar30 != (uint *)0x0) {
LAB_00106705:
                FUN_00113360(local_22a8);
              }
            }
            else {
              pcVar27 = (char *)WavpackGetWrapperData(lVar19);
              iVar49 = WavpackGetWrapperBytes(lVar19);
              if (((local_2178 & 0x200) == 0) &&
                 (iVar16 = WavpackAddWrapper(local_2350,pcVar27,iVar49), iVar16 == 0)) {
                iVar49 = 1;
                uVar22 = WavpackGetErrorMessage(local_2350);
                FUN_00112fa0("%s",uVar22);
                WavpackFreeWrapper(lVar19);
              }
              else {
                if ((DAT_0011d0a0 == 0) ||
                   ((iVar49 < 0xb || (iVar16 = strncmp(pcVar27,"ID3",3), iVar16 != 0)))) {
                  WavpackFreeWrapper(lVar19);
                  local_2340._0_4_ = 0;
                  goto LAB_00107ae6;
                }
                pcVar20 = (char *)&local_2238;
                local_2340._0_4_ = FUN_00114170(0,pcVar27,iVar49,local_2048,pcVar20);
                if ((DAT_0011d0ac == 0) && (0x100000 < (int)local_2238.tv_sec)) {
                  FUN_00112fa0("imported tag items exceed 1 MB, use --allow-huge-tags to override");
                }
                else if ((int)local_2238.tv_sec < 0x1000001) {
                  if (0 < (int)(uint)local_2340) {
                    pcVar20 = (char *)0x0;
                    local_2340._0_4_ = FUN_00114170(local_2350,pcVar27,iVar49,local_2048,0);
                  }
                  if (-1 < (int)(uint)local_2340) {
                    WavpackFreeWrapper(lVar19);
                    goto LAB_00107ae6;
                  }
                  FUN_00112fa0("ID3v2 import: %s",local_2048);
                }
                else {
                  FUN_00112fa0("imported tag items exceed 16 MB");
                }
                iVar49 = 1;
                WavpackFreeWrapper(lVar19);
              }
LAB_00106699:
              WavpackCloseFile(lVar19);
              iVar16 = FUN_001132f0(local_2220);
              if (iVar16 == 0) {
                FUN_00112fa0("can\'t close WavPack file!");
              }
LAB_001066b6:
              if (puVar30 != (uint *)0x0) {
                iVar16 = FUN_001132f0(local_2200);
                if (iVar16 == 0) {
                  FUN_00112fa0("can\'t close correction file!");
                  if (local_22b8 == 0) {
LAB_001066f0:
                    FUN_00113360(puVar53);
                    local_22a8 = puVar30;
                    goto joined_r0x00108ae3;
                  }
                }
                else if (local_22b8 == 0) {
                  FUN_00113360(puVar53);
                  local_22a8 = puVar30;
                  goto LAB_00106705;
                }
                FUN_00113360(local_22c0);
                goto LAB_00106705;
              }
              if (local_22b8 == 0) {
                FUN_00113360(puVar53);
              }
              else {
                FUN_00113360(local_22c0);
              }
            }
            WavpackCloseFile(local_2350);
            goto LAB_00106720;
          }
          FUN_00112fa0(local_2098);
          iVar52 = iVar52 + 1;
        }
LAB_0010604a:
        if (bVar64) {
          puVar28 = (undefined *)FUN_00112df0(puVar53);
          *puVar28 = 0;
        }
        else if (*(char *)puVar53 != '-') {
          free(puVar53);
          puVar53 = (uint *)0x0;
        }
        if (puVar30 != (uint *)0x0) {
          free(puVar30);
        }
        iVar49 = DAT_0011d0c8 + 1;
        free((void *)local_2358[DAT_0011d0c8]);
        local_2340 = puVar53;
        DAT_0011d0c8 = iVar49;
      } while (iVar49 < DAT_0011d0cc);
      local_2340 = puVar53;
      if (1 < DAT_0011d0cc) {
        if (iVar52 == 0) {
          if (DAT_0011d0c0 == 0) {
            __fprintf_chk(stderr,1,"\n **** %d files successfully processed ****\n",DAT_0011d0cc);
            fflush(stderr);
          }
        }
        else {
LAB_00106740:
          __fprintf_chk(stderr,1,"\n **** warning: errors occurred in %d of %d files! ****\n",iVar52
                       );
          fflush(stderr);
        }
      }
    }
LAB_0010676a:
    free(local_2358);
  }
  else {
    do {
      pcVar27 = (char *)local_2358[DAT_0011d0c8];
      if (*pcVar27 == '@') {
        pFVar23 = fopen(pcVar27 + 1,"rb");
        iVar52 = DAT_0011d0cc + -1;
        if (DAT_0011d0c8 < iVar52) {
          puVar37 = local_2358 + DAT_0011d0c8;
          do {
            puVar24 = puVar37 + 1;
            *puVar37 = puVar37[1];
            puVar37 = puVar24;
          } while (local_2358 +
                   (long)DAT_0011d0c8 + 1 + (ulong)(uint)((DAT_0011d0cc + -2) - DAT_0011d0c8) !=
                   puVar24);
        }
        DAT_0011d0c8 = DAT_0011d0c8 + -1;
        DAT_0011d0cc = iVar52;
        if (pFVar23 == (FILE *)0x0) {
          FUN_00112fa0("file %s not found!",pcVar27 + 1);
          free(pcVar27);
          bVar64 = true;
          goto LAB_00106250;
        }
        iVar52 = 0;
        pcVar25 = (char *)0x0;
        do {
          pcVar25 = (char *)realloc(pcVar25,(long)(iVar52 + 0x400));
          pcVar57 = pcVar25 + iVar52;
          pcVar57[0] = '\0';
          pcVar57[1] = '\0';
          pcVar57[2] = '\0';
          pcVar57[3] = '\0';
          pcVar57[4] = '\0';
          pcVar57[5] = '\0';
          pcVar57[6] = '\0';
          pcVar57[7] = '\0';
          pcVar57[0x3f8] = '\0';
          pcVar57[0x3f9] = '\0';
          pcVar57[0x3fa] = '\0';
          pcVar57[0x3fb] = '\0';
          pcVar57[0x3fc] = '\0';
          pcVar57[0x3fd] = '\0';
          pcVar57[0x3fe] = '\0';
          pcVar57[0x3ff] = '\0';
          puVar37 = (undefined8 *)((ulong)(pcVar57 + 8) & 0xfffffffffffffff8);
          for (uVar39 = (ulong)(((int)pcVar57 -
                                (int)(undefined8 *)((ulong)(pcVar57 + 8) & 0xfffffffffffffff8)) +
                                0x400U >> 3); uVar39 != 0; uVar39 = uVar39 - 1) {
            *puVar37 = 0;
            puVar37 = puVar37 + (ulong)bVar66 * -2 + 1;
          }
          sVar21 = fread(pcVar57,1,0x400,pFVar23);
          iVar52 = iVar52 + (int)sVar21;
          pcVar57 = pcVar25;
        } while (0x3ff < (int)sVar21);
        do {
          cVar11 = *pcVar57;
          pcVar60 = pcVar57 + 1;
          if (cVar11 == '\0') break;
          if ((cVar11 == '\n') || (cVar11 == '\r')) {
            do {
              do {
                cVar11 = *pcVar60;
                pcVar60 = pcVar60 + 1;
              } while (cVar11 == '\n');
            } while (cVar11 == '\r');
            if (cVar11 == '\0') break;
          }
          pvVar31 = malloc(0x1000);
          lVar19 = 1;
          do {
            *(char *)((long)pvVar31 + lVar19 + -1) = cVar11;
            iVar52 = DAT_0011d0cc;
            cVar11 = pcVar60[lVar19 + -1];
            lVar47 = (long)(int)lVar19;
            pcVar57 = pcVar60 + lVar19;
            if (((cVar11 == '\n') || (cVar11 == '\r')) || (cVar11 == '\0')) goto LAB_00105b78;
            lVar19 = lVar19 + 1;
          } while (lVar19 != 0x1001);
          lVar47 = 0x1000;
LAB_00105b78:
          *(undefined *)((long)pvVar31 + lVar47) = 0;
          DAT_0011d0cc = DAT_0011d0cc + 1;
          lVar19 = (long)DAT_0011d0cc;
          local_2358 = (undefined8 *)realloc(local_2358,lVar19 * 8);
          iVar49 = DAT_0011d0c8 + 1;
          if (iVar49 < iVar52) {
            puVar37 = local_2358 + lVar19 + -1;
            do {
              puVar24 = puVar37 + -1;
              *puVar37 = puVar37[-1];
              puVar37 = puVar24;
            } while (local_2358 + ((lVar19 + -2) - (ulong)(uint)((iVar52 + -2) - DAT_0011d0c8)) !=
                     puVar24);
          }
          DAT_0011d0c8 = iVar49;
          local_2358[iVar49] = pvVar31;
        } while (cVar11 != '\0');
        fclose(pFVar23);
        free(pcVar25);
        free(pcVar27);
      }
      DAT_0011d0c8 = DAT_0011d0c8 + 1;
    } while (DAT_0011d0c8 < DAT_0011d0cc);
    if ((local_2340 != (uint *)0x0) && (*(char *)local_2340 == '@')) {
LAB_00107847:
      pFVar23 = fopen((char *)((long)local_2340 + 1),"rb");
      if (pFVar23 == (FILE *)0x0) {
        FUN_00112fa0("file %s not found!",(char *)((long)local_2340 + 1));
        free(local_2340);
      }
      else {
        puVar53 = local_2048;
        for (lVar19 = 0x400; lVar19 != 0; lVar19 = lVar19 + -1) {
          puVar53[0] = 0;
          puVar53[1] = 0;
          puVar53 = puVar53 + (ulong)bVar66 * -4 + 2;
        }
        fread(local_2048,1,0x1fff,pFVar23);
        puVar53 = local_2048;
        do {
          do {
            puVar36 = puVar53;
            uVar14 = (uint)*(char *)puVar36;
            uVar39 = (ulong)uVar14;
            puVar53 = (uint *)((long)puVar36 + 1);
          } while (uVar14 == 0xd);
        } while (uVar14 == 10);
        if (uVar14 != 0) {
          lVar19 = 1;
          pcVar20 = (char *)0x0;
          do {
            *(char *)((long)local_2340 + lVar19 + -1) = (char)uVar39;
            uVar39 = (ulong)(uint)(int)(char)*(byte *)((long)puVar36 + lVar19);
            lVar47 = (long)(int)lVar19;
            if ((*(byte *)((long)puVar36 + lVar19) < 0xe) &&
               ((0x2401UL >> (uVar39 & 0x3f) & 1) != 0)) goto LAB_001078f3;
            lVar19 = lVar19 + 1;
          } while (lVar19 != 0x1001);
          lVar47 = 0x1000;
LAB_001078f3:
          *(char *)((long)local_2340 + lVar47) = '\0';
          fclose(pFVar23);
          goto LAB_00105ec1;
        }
        FUN_00112fa0("output spec file is empty!");
        free(local_2340);
        fclose(pFVar23);
      }
LAB_001083f4:
      bVar64 = true;
      goto LAB_00106250;
    }
LAB_00105ec1:
    if (DAT_0011d0cc != 0) goto LAB_00105ece;
    FUN_00112fa0("nothing to do!");
    iVar52 = 1;
  }
  if (local_2340 != (uint *)0x0) {
    free(local_2340);
  }
  if (DAT_0011d0b0 != 0) {
    FUN_00113390("WavPack Completed");
  }
  bVar64 = iVar52 != 0;
LAB_00106250:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return bVar64;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



void processEntry entry(undefined8 param_1,undefined8 param_2)

{
  undefined auStack_8 [8];
  
  __libc_start_main(FUN_00104f40,param_2,&stack0x00000008,FUN_00114280,FUN_001142f0,param_1,
                    auStack_8);
  do {
                    // WARNING: Do nothing block with infinite loop
  } while( true );
}



void FUN_00109610(void)

{
  if ((false) && (true)) {
    _ITM_deregisterTMCloneTable();
    return;
  }
  return;
}



void FUN_00109640(void)

{
  if ((false) && (true)) {
    _ITM_registerTMCloneTable();
    return;
  }
  return;
}



void _FINI_0(void)

{
  if (DAT_0011d050 == '\0') {
    if (true) {
      FUN_001047b0(PTR_LOOP_0011d008);
    }
    FUN_00109610();
    DAT_0011d050 = 1;
    return;
  }
  return;
}



void _INIT_0(void)

{
  FUN_00109640();
  return;
}



void FUN_001096d0(void *param_1,long param_2,int param_3,int param_4)

{
  ulong uVar1;
  undefined *__src;
  size_t __size;
  int iVar2;
  long in_FS_OFFSET;
  bool bVar3;
  undefined local_88 [72];
  long local_40;
  
  iVar2 = param_4 + -1;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_3 < 0x11) {
    if (param_4 == 0) goto LAB_0010977b;
    __src = local_88;
    __size = (long)param_3 * 4;
LAB_0010971e:
    do {
      uVar1 = 0;
      if (0 < param_3) {
        do {
          *(undefined4 *)(__src + uVar1 * 4) =
               *(undefined4 *)((long)param_1 + (ulong)*(byte *)(param_2 + uVar1) * 4);
          bVar3 = uVar1 != param_3 - 1;
          uVar1 = uVar1 + 1;
        } while (bVar3);
      }
      iVar2 = iVar2 + -1;
      memcpy(param_1,__src,__size);
      param_1 = (void *)((long)param_1 + __size);
    } while (iVar2 != -1);
    if (param_3 < 0x11) goto LAB_0010977b;
  }
  else {
    __size = (long)param_3 * 4;
    __src = (undefined *)malloc(__size);
    if (param_4 != 0) goto LAB_0010971e;
  }
  free(__src);
LAB_0010977b:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return;
}



void FUN_001097d0(void *param_1,byte *param_2,int param_3,int param_4,int param_5)

{
  byte bVar1;
  ulong uVar2;
  undefined *__src;
  int iVar3;
  int iVar4;
  byte *pbVar5;
  void *pvVar6;
  long in_FS_OFFSET;
  bool bVar7;
  size_t local_90;
  undefined local_88 [72];
  long local_40;
  
  iVar4 = param_4 + -1;
  iVar3 = param_3 * param_5;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (iVar3 < 0x41) {
    if (param_4 == 0) goto LAB_001098d2;
    __src = local_88;
LAB_0010982b:
    local_90 = (size_t)iVar3;
    do {
      pvVar6 = param_1;
      if (0 < param_3) {
        pbVar5 = param_2;
        do {
          bVar1 = *pbVar5;
          if (param_5 != 0) {
            uVar2 = 0;
            do {
              __src[uVar2 + (long)(int)((uint)bVar1 * param_5)] =
                   *(undefined *)((long)pvVar6 + uVar2);
              bVar7 = uVar2 != param_5 - 1;
              uVar2 = uVar2 + 1;
            } while (bVar7);
            pvVar6 = (void *)((long)pvVar6 + (ulong)(param_5 - 1) + 1);
          }
          pbVar5 = pbVar5 + 1;
        } while (pbVar5 != param_2 + (ulong)(param_3 - 1) + 1);
      }
      iVar4 = iVar4 + -1;
      memcpy(param_1,__src,local_90);
      param_1 = pvVar6;
    } while (iVar4 != -1);
    if (iVar3 < 0x41) goto LAB_001098d2;
  }
  else {
    __src = (undefined *)malloc((long)iVar3);
    if (param_4 != 0) goto LAB_0010982b;
  }
  free(__src);
LAB_001098d2:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return;
}



void FUN_00109920(uint *param_1,float *param_2)

{
  float fVar1;
  uint uVar2;
  uint uVar3;
  uint *puVar4;
  undefined2 *puVar5;
  uint *puVar6;
  undefined8 *puVar7;
  char *pcVar8;
  bool bVar9;
  
  *(undefined2 *)param_1 = 0x2d;
  fVar1 = param_2[5];
  if (((uint)fVar1 & 0x200) == 0) {
    if (((uint)fVar1 & 0x1000) == 0) {
      if (((uint)fVar1 & 0x800) != 0) {
        *(undefined2 *)((long)param_1 + 1) = 0x68;
        fVar1 = param_2[5];
      }
    }
    else {
      *(undefined *)((long)param_1 + 3) = 0;
      *(undefined2 *)((long)param_1 + 1) = 0x6868;
      fVar1 = param_2[5];
    }
  }
  else {
    *(undefined2 *)((long)param_1 + 1) = 0x66;
    fVar1 = param_2[5];
  }
  puVar4 = param_1;
  if (((uint)fVar1 & 8) != 0) {
    do {
      puVar6 = puVar4;
      uVar2 = *puVar6 + 0xfefefeff & ~*puVar6;
      uVar3 = uVar2 & 0x80808080;
      puVar4 = puVar6 + 1;
    } while (uVar3 == 0);
    bVar9 = (uVar2 & 0x8080) == 0;
    if (bVar9) {
      uVar3 = uVar3 >> 0x10;
    }
    if (bVar9) {
      puVar4 = (uint *)((long)puVar6 + 6);
    }
    __sprintf_chk((double)*param_2,(long)puVar4 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3)),1,
                  0xffffffffffffffff,&DAT_00115004);
    fVar1 = param_2[5];
    puVar4 = param_1;
    if (((uint)fVar1 & 0x100000) == 0) {
      if (((uint)fVar1 & 0x80000) != 0) {
        do {
          puVar6 = puVar4;
          uVar2 = *puVar6 + 0xfefefeff & ~*puVar6;
          uVar3 = uVar2 & 0x80808080;
          puVar4 = puVar6 + 1;
        } while (uVar3 == 0);
        bVar9 = (uVar2 & 0x8080) == 0;
        if (bVar9) {
          uVar3 = uVar3 >> 0x10;
        }
        if (bVar9) {
          puVar4 = (uint *)((long)puVar6 + 6);
        }
        *(undefined2 *)((long)puVar4 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3))) = 99;
        fVar1 = param_2[5];
      }
    }
    else {
      do {
        puVar6 = puVar4;
        uVar2 = *puVar6 + 0xfefefeff & ~*puVar6;
        uVar3 = uVar2 & 0x80808080;
        puVar4 = puVar6 + 1;
      } while (uVar3 == 0);
      bVar9 = (uVar2 & 0x8080) == 0;
      if (bVar9) {
        uVar3 = uVar3 >> 0x10;
      }
      if (bVar9) {
        puVar4 = (uint *)((long)puVar6 + 6);
      }
      puVar5 = (undefined2 *)((long)puVar4 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3)));
      *puVar5 = 0x6363;
      *(undefined *)(puVar5 + 1) = 0;
      fVar1 = param_2[5];
    }
  }
  if (((uint)fVar1 & 0x2000000) != 0) {
    fVar1 = param_2[6];
    puVar4 = param_1;
    if (fVar1 == 0.0) {
      fVar1 = 1.4013e-45;
    }
    do {
      puVar6 = puVar4;
      uVar2 = *puVar6 + 0xfefefeff & ~*puVar6;
      uVar3 = uVar2 & 0x80808080;
      puVar4 = puVar6 + 1;
    } while (uVar3 == 0);
    bVar9 = (uVar2 & 0x8080) == 0;
    if (bVar9) {
      uVar3 = uVar3 >> 0x10;
    }
    if (bVar9) {
      puVar4 = (uint *)((long)puVar6 + 6);
    }
    __sprintf_chk((long)puVar4 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3)),1,0xffffffffffffffff,
                  &DAT_00115008,fVar1);
    fVar1 = param_2[5];
  }
  puVar4 = param_1;
  if (((uint)fVar1 & 0x10000) != 0) {
    do {
      puVar6 = puVar4;
      uVar2 = *puVar6 + 0xfefefeff & ~*puVar6;
      uVar3 = uVar2 & 0x80808080;
      puVar4 = puVar6 + 1;
    } while (uVar3 == 0);
    bVar9 = (uVar2 & 0x8080) == 0;
    if (bVar9) {
      uVar3 = uVar3 >> 0x10;
    }
    if (bVar9) {
      puVar4 = (uint *)((long)puVar6 + 6);
    }
    puVar5 = (undefined2 *)((long)puVar4 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3)));
    if (((uint)fVar1 & 0x10) == 0) {
      *(undefined *)(puVar5 + 1) = 0;
      *puVar5 = 0x306a;
      fVar1 = param_2[5];
    }
    else {
      *(undefined *)(puVar5 + 1) = 0;
      *puVar5 = 0x316a;
      fVar1 = param_2[5];
    }
  }
  puVar4 = param_1;
  if (((uint)fVar1 & 0x8000) != 0) {
    do {
      puVar6 = puVar4;
      uVar2 = *puVar6 + 0xfefefeff & ~*puVar6;
      uVar3 = uVar2 & 0x80808080;
      puVar4 = puVar6 + 1;
    } while (uVar3 == 0);
    bVar9 = (uVar2 & 0x8080) == 0;
    if (bVar9) {
      uVar3 = uVar3 >> 0x10;
    }
    if (bVar9) {
      puVar4 = (uint *)((long)puVar6 + 6);
    }
    __sprintf_chk((double)param_2[1],(long)puVar4 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3)),1,
                  0xffffffffffffffff,&DAT_0011500c);
  }
  if (DAT_0011d0a8 != 0) {
    pcVar8 = "-round";
    puVar4 = param_1;
    if (DAT_0011d0a4 == 0) {
      pcVar8 = "";
    }
    do {
      puVar6 = puVar4;
      uVar2 = *puVar6 + 0xfefefeff & ~*puVar6;
      uVar3 = uVar2 & 0x80808080;
      puVar4 = puVar6 + 1;
    } while (uVar3 == 0);
    bVar9 = (uVar2 & 0x8080) == 0;
    if (bVar9) {
      uVar3 = uVar3 >> 0x10;
    }
    if (bVar9) {
      puVar4 = (uint *)((long)puVar6 + 6);
    }
    __sprintf_chk((long)puVar4 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3)),1,0xffffffffffffffff,
                  " --pre-quantize%s=%d",pcVar8);
  }
  puVar4 = param_1;
  if (param_2[9] != 0.0) {
    do {
      puVar6 = puVar4;
      uVar2 = *puVar6 + 0xfefefeff & ~*puVar6;
      uVar3 = uVar2 & 0x80808080;
      puVar4 = puVar6 + 1;
    } while (uVar3 == 0);
    bVar9 = (uVar2 & 0x8080) == 0;
    if (bVar9) {
      uVar3 = uVar3 >> 0x10;
    }
    if (bVar9) {
      puVar4 = (uint *)((long)puVar6 + 6);
    }
    __sprintf_chk((long)puVar4 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3)),1,0xffffffffffffffff,
                  " --blocksize=%d");
  }
  fVar1 = param_2[5];
  puVar4 = param_1;
  if (((uint)fVar1 & 0x20000) != 0) {
    do {
      puVar6 = puVar4;
      uVar2 = *puVar6 + 0xfefefeff & ~*puVar6;
      uVar3 = uVar2 & 0x80808080;
      puVar4 = puVar6 + 1;
    } while (uVar3 == 0);
    bVar9 = (uVar2 & 0x8080) == 0;
    if (bVar9) {
      uVar3 = uVar3 >> 0x10;
    }
    if (bVar9) {
      puVar4 = (uint *)((long)puVar6 + 6);
    }
    puVar7 = (undefined8 *)((long)puVar4 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3)));
    *puVar7 = 0x642d6573752d2d20;
    *(undefined2 *)(puVar7 + 1) = 0x736e;
    *(undefined *)((long)puVar7 + 10) = 0;
    fVar1 = param_2[5];
  }
  puVar4 = param_1;
  if (((uint)fVar1 & 0x20) != 0) {
    do {
      puVar6 = puVar4;
      uVar2 = *puVar6 + 0xfefefeff & ~*puVar6;
      uVar3 = uVar2 & 0x80808080;
      puVar4 = puVar6 + 1;
    } while (uVar3 == 0);
    bVar9 = (uVar2 & 0x8080) == 0;
    if (bVar9) {
      uVar3 = uVar3 >> 0x10;
    }
    if (bVar9) {
      puVar4 = (uint *)((long)puVar6 + 6);
    }
    puVar7 = (undefined8 *)((long)puVar4 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3)));
    *puVar7 = 0x73736f72632d2d20;
    puVar7[1] = 0x72726f6365642d;
    fVar1 = param_2[5];
  }
  puVar4 = param_1;
  if (((uint)fVar1 & 0x10000000) != 0) {
    do {
      puVar6 = puVar4;
      uVar2 = *puVar6 + 0xfefefeff & ~*puVar6;
      uVar3 = uVar2 & 0x80808080;
      puVar4 = puVar6 + 1;
    } while (uVar3 == 0);
    bVar9 = (uVar2 & 0x8080) == 0;
    if (bVar9) {
      uVar3 = uVar3 >> 0x10;
    }
    if (bVar9) {
      puVar4 = (uint *)((long)puVar6 + 6);
    }
    puVar7 = (undefined8 *)((long)puVar4 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3)));
    *puVar7 = 0x656772656d2d2d20;
    puVar7[1] = 0x736b636f6c622d;
    fVar1 = param_2[5];
  }
  puVar4 = param_1;
  if (((uint)fVar1 & 0x20000000) != 0) {
    do {
      puVar6 = puVar4;
      uVar2 = *puVar6 + 0xfefefeff & ~*puVar6;
      uVar3 = uVar2 & 0x80808080;
      puVar4 = puVar6 + 1;
    } while (uVar3 == 0);
    bVar9 = (uVar2 & 0x8080) == 0;
    if (bVar9) {
      uVar3 = uVar3 >> 0x10;
    }
    if (bVar9) {
      puVar4 = (uint *)((long)puVar6 + 6);
    }
    puVar7 = (undefined8 *)((long)puVar4 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3)));
    puVar7[2] = 0x736e6168632d6465;
    *(undefined *)(puVar7 + 3) = 0;
    *puVar7 = 0x2d726961702d2d20;
    puVar7[1] = 0x6e67697373616e75;
  }
  if (DAT_0011d0ac == 0) {
    return;
  }
  do {
    puVar4 = param_1;
    uVar2 = *puVar4 + 0xfefefeff & ~*puVar4;
    uVar3 = uVar2 & 0x80808080;
    param_1 = puVar4 + 1;
  } while (uVar3 == 0);
  bVar9 = (uVar2 & 0x8080) == 0;
  if (bVar9) {
    uVar3 = uVar3 >> 0x10;
  }
  puVar6 = puVar4 + 1;
  if (bVar9) {
    puVar6 = (uint *)((long)puVar4 + 6);
  }
  puVar7 = (undefined8 *)((long)puVar6 + (-3 - (ulong)CARRY1((byte)uVar3,(byte)uVar3)));
  *(undefined2 *)(puVar7 + 2) = 0x7367;
  *(undefined *)((long)puVar7 + 0x12) = 0;
  *puVar7 = 0x776f6c6c612d2d20;
  puVar7[1] = 0x61742d656775682d;
  return;
}



undefined * FUN_00109ef0(undefined *param_1,int *param_2,uint param_3,int param_4,int param_5)

{
  int *piVar1;
  int iVar2;
  undefined *puVar3;
  ulong uVar4;
  ulong uVar5;
  bool bVar6;
  
  if ((param_3 & 1) == 0) {
    if ((param_3 & 4) == 0) {
      if (param_4 != 1) {
        if (param_4 != 3) {
          if (param_4 < 4) {
            if (param_4 != 2) {
              return param_1;
            }
            uVar5 = (ulong)(param_5 - 1);
            uVar4 = 0;
            if (param_5 == 0) {
              return param_1;
            }
            do {
              iVar2 = param_2[uVar4];
              param_1[uVar4 * 2] = (char)iVar2;
              param_1[uVar4 * 2 + 1] = (char)((uint)iVar2 >> 8);
              bVar6 = uVar4 != uVar5;
              uVar4 = uVar4 + 1;
            } while (bVar6);
            goto LAB_0010a016;
          }
          if (param_4 != 4) {
            return param_1;
          }
          uVar4 = (ulong)(param_5 - 1);
          if (param_5 == 0) {
            return param_1;
          }
          piVar1 = param_2 + uVar4 + 1;
          puVar3 = param_1;
          do {
            iVar2 = *param_2;
            param_2 = param_2 + 1;
            *puVar3 = (char)iVar2;
            puVar3[1] = (char)((uint)iVar2 >> 8);
            puVar3[2] = (char)((uint)iVar2 >> 0x10);
            puVar3[3] = (char)((uint)iVar2 >> 0x18);
            puVar3 = puVar3 + 4;
          } while (param_2 != piVar1);
          goto LAB_00109fcf;
        }
        if (param_5 == 0) {
          return param_1;
        }
        uVar4 = (ulong)(param_5 - 1);
        piVar1 = param_2 + uVar4 + 1;
        puVar3 = param_1;
        do {
          iVar2 = *param_2;
          param_2 = param_2 + 1;
          *puVar3 = (char)iVar2;
          puVar3[1] = (char)((uint)iVar2 >> 8);
          puVar3[2] = (char)((uint)iVar2 >> 0x10);
          puVar3 = puVar3 + 3;
        } while (param_2 != piVar1);
LAB_0010a1ab:
        return param_1 + uVar4 * 3 + 3;
      }
      if ((param_3 & 2) != 0) {
        uVar5 = (ulong)(param_5 - 1);
        uVar4 = 0;
        if (param_5 == 0) {
          return param_1;
        }
        do {
          param_1[uVar4] = (char)param_2[uVar4];
          bVar6 = uVar4 != uVar5;
          uVar4 = uVar4 + 1;
        } while (bVar6);
        goto LAB_00109f35;
      }
    }
    else {
      if (param_4 == 3) {
        if (param_5 == 0) {
          return param_1;
        }
        uVar4 = (ulong)(param_5 - 1);
        piVar1 = param_2 + uVar4 + 1;
        puVar3 = param_1;
        do {
          iVar2 = *param_2;
          param_2 = param_2 + 1;
          iVar2 = iVar2 + 0x800000;
          *puVar3 = (char)iVar2;
          puVar3[1] = (char)((uint)iVar2 >> 8);
          puVar3[2] = (char)((uint)iVar2 >> 0x10);
          puVar3 = puVar3 + 3;
        } while (param_2 != piVar1);
        goto LAB_0010a1ab;
      }
      if (3 < param_4) {
        if (param_4 != 4) {
          return param_1;
        }
        uVar4 = (ulong)(param_5 - 1);
        if (param_5 == 0) {
          return param_1;
        }
        piVar1 = param_2 + uVar4 + 1;
        puVar3 = param_1;
        do {
          iVar2 = *param_2;
          param_2 = param_2 + 1;
          iVar2 = iVar2 + -0x80000000;
          *puVar3 = (char)iVar2;
          puVar3[1] = (char)((uint)iVar2 >> 8);
          puVar3[2] = (char)((uint)iVar2 >> 0x10);
          puVar3[3] = (char)((uint)iVar2 >> 0x18);
          puVar3 = puVar3 + 4;
        } while (param_2 != piVar1);
        goto LAB_00109fcf;
      }
      if (param_4 != 1) {
        if (param_4 != 2) {
          return param_1;
        }
        uVar5 = (ulong)(param_5 - 1);
        uVar4 = 0;
        if (param_5 == 0) {
          return param_1;
        }
        do {
          iVar2 = param_2[uVar4];
          param_1[uVar4 * 2] = (char)(iVar2 + 0x8000);
          param_1[uVar4 * 2 + 1] = (char)((uint)(iVar2 + 0x8000) >> 8);
          bVar6 = uVar4 != uVar5;
          uVar4 = uVar4 + 1;
        } while (bVar6);
        goto LAB_0010a016;
      }
    }
    uVar5 = (ulong)(param_5 - 1);
    uVar4 = 0;
    if (param_5 == 0) {
      return param_1;
    }
    do {
      param_1[uVar4] = *(char *)(param_2 + uVar4) + -0x80;
      bVar6 = uVar4 != uVar5;
      uVar4 = uVar4 + 1;
    } while (bVar6);
  }
  else {
    if ((param_3 & 4) == 0) {
      if (param_4 != 1) {
        if (param_4 != 3) {
          if (param_4 < 4) {
            if (param_4 != 2) {
              return param_1;
            }
            uVar5 = (ulong)(param_5 - 1);
            uVar4 = 0;
            if (param_5 == 0) {
              return param_1;
            }
            do {
              iVar2 = param_2[uVar4];
              param_1[uVar4 * 2] = (char)((uint)iVar2 >> 8);
              param_1[uVar4 * 2 + 1] = (char)iVar2;
              bVar6 = uVar5 != uVar4;
              uVar4 = uVar4 + 1;
            } while (bVar6);
LAB_0010a016:
            return param_1 + uVar5 * 2 + 2;
          }
          if (param_4 != 4) {
            return param_1;
          }
          uVar4 = (ulong)(param_5 - 1);
          if (param_5 == 0) {
            return param_1;
          }
          piVar1 = param_2 + uVar4 + 1;
          puVar3 = param_1;
          do {
            iVar2 = *param_2;
            param_2 = param_2 + 1;
            puVar3[2] = (char)((uint)iVar2 >> 8);
            *puVar3 = (char)((uint)iVar2 >> 0x18);
            puVar3[1] = (char)((uint)iVar2 >> 0x10);
            puVar3[3] = (char)iVar2;
            puVar3 = puVar3 + 4;
          } while (param_2 != piVar1);
LAB_00109fcf:
          return param_1 + uVar4 * 4 + 4;
        }
        uVar4 = (ulong)(param_5 - 1);
        if (param_5 == 0) {
          return param_1;
        }
        piVar1 = param_2 + uVar4 + 1;
        puVar3 = param_1;
        do {
          iVar2 = *param_2;
          param_2 = param_2 + 1;
          puVar3[1] = (char)((uint)iVar2 >> 8);
          *puVar3 = (char)((uint)iVar2 >> 0x10);
          puVar3[2] = (char)iVar2;
          puVar3 = puVar3 + 3;
        } while (param_2 != piVar1);
LAB_0010a1ee:
        return param_1 + uVar4 * 3 + 3;
      }
      if ((param_3 & 2) != 0) {
        uVar5 = (ulong)(param_5 - 1);
        uVar4 = 0;
        if (param_5 == 0) {
          return param_1;
        }
        do {
          param_1[uVar4] = (char)param_2[uVar4];
          bVar6 = uVar5 != uVar4;
          uVar4 = uVar4 + 1;
        } while (bVar6);
        goto LAB_00109f35;
      }
    }
    else {
      if (param_4 == 3) {
        uVar4 = (ulong)(param_5 - 1);
        if (param_5 == 0) {
          return param_1;
        }
        piVar1 = param_2 + uVar4 + 1;
        puVar3 = param_1;
        do {
          iVar2 = *param_2;
          param_2 = param_2 + 1;
          iVar2 = iVar2 + 0x800000;
          puVar3[1] = (char)((uint)iVar2 >> 8);
          *puVar3 = (char)((uint)iVar2 >> 0x10);
          puVar3[2] = (char)iVar2;
          puVar3 = puVar3 + 3;
        } while (param_2 != piVar1);
        goto LAB_0010a1ee;
      }
      if (3 < param_4) {
        if (param_4 != 4) {
          return param_1;
        }
        uVar4 = (ulong)(param_5 - 1);
        if (param_5 == 0) {
          return param_1;
        }
        piVar1 = param_2 + uVar4 + 1;
        puVar3 = param_1;
        do {
          iVar2 = *param_2;
          param_2 = param_2 + 1;
          iVar2 = iVar2 + -0x80000000;
          puVar3[2] = (char)((uint)iVar2 >> 8);
          *puVar3 = (char)((uint)iVar2 >> 0x18);
          puVar3[1] = (char)((uint)iVar2 >> 0x10);
          puVar3[3] = (char)iVar2;
          puVar3 = puVar3 + 4;
        } while (param_2 != piVar1);
        goto LAB_00109fcf;
      }
      if (param_4 != 1) {
        if (param_4 != 2) {
          return param_1;
        }
        uVar5 = (ulong)(param_5 - 1);
        uVar4 = 0;
        if (param_5 == 0) {
          return param_1;
        }
        do {
          iVar2 = param_2[uVar4];
          param_1[uVar4 * 2] = (char)((uint)(iVar2 + 0x8000) >> 8);
          param_1[uVar4 * 2 + 1] = (char)(iVar2 + 0x8000);
          bVar6 = uVar5 != uVar4;
          uVar4 = uVar4 + 1;
        } while (bVar6);
        goto LAB_0010a016;
      }
    }
    uVar5 = (ulong)(param_5 - 1);
    uVar4 = 0;
    if (param_5 == 0) {
      return param_1;
    }
    do {
      param_1[uVar4] = *(char *)(param_2 + uVar4) + -0x80;
      bVar6 = uVar5 != uVar4;
      uVar4 = uVar4 + 1;
    } while (bVar6);
  }
LAB_00109f35:
  return param_1 + uVar5 + 1;
}



void FUN_0010a390(double param_1)

{
  long in_FS_OFFSET;
  undefined auStack_38 [40];
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  __sprintf_chk(auStack_38,1,0x28,"%d%% (WavPack)",
                (int)((((double)DAT_0011d0c8 + param_1) / (double)DAT_0011d0cc) * 100.0 + 0.5));
  FUN_00113390(auStack_38);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



undefined4 FUN_0010a420(undefined8 param_1,long *param_2)

{
  uchar *puVar1;
  long lVar2;
  byte bVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  undefined4 uVar9;
  long lVar10;
  uint *__ptr;
  void *data;
  long lVar11;
  ulong uVar12;
  void *__ptr_00;
  uint *puVar13;
  undefined uVar14;
  void *pvVar15;
  uint *puVar16;
  int iVar17;
  int iVar18;
  uint uVar19;
  long in_FS_OFFSET;
  bool bVar20;
  double dVar21;
  long local_1a8;
  double local_198;
  MD5_CTX local_168;
  long local_108 [2];
  char local_f8 [48];
  char local_c8 [48];
  undefined local_98 [88];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar10 = WavpackOpenFileInput(param_1,local_98,0x501,0);
  if (lVar10 == 0) {
    uVar9 = 1;
    FUN_00112fa0(local_98);
    goto LAB_0010a82f;
  }
  if (param_2 != (long *)0x0) {
    MD5_Init(&local_168);
  }
  uVar4 = WavpackGetQualifyMode(lVar10);
  iVar5 = WavpackGetNumChannels(lVar10);
  iVar6 = WavpackGetBytesPerSample(lVar10);
  __ptr = (uint *)malloc((long)(iVar5 << 0xe));
  if ((uVar4 & 8) == 0) {
    __ptr_00 = (void *)0x0;
    uVar19 = iVar5 - 1;
  }
  else {
    __ptr_00 = (void *)0x0;
    bVar3 = WavpackGetChannelLayout(lVar10,0);
    uVar19 = iVar5 - 1;
    if ((int)(uint)bVar3 <= iVar5) {
      __ptr_00 = malloc((long)iVar5);
      uVar12 = 0;
      if (iVar5 == 0) {
        uVar19 = 0xffffffff;
      }
      else {
        do {
          *(char *)((long)__ptr_00 + uVar12) = (char)uVar12;
          bVar20 = uVar19 != uVar12;
          uVar12 = uVar12 + 1;
        } while (bVar20);
      }
      WavpackGetChannelLayout(lVar10,__ptr_00);
    }
  }
  local_1a8 = 0;
  iVar7 = iVar5 << 0xc;
  local_198 = -1.0;
  while( true ) {
    iVar8 = WavpackUnpackSamples(lVar10,__ptr,0x1000);
    local_1a8 = local_1a8 + iVar8;
    if (iVar8 == 0) break;
    if (param_2 == (long *)0x0) {
LAB_0010a637:
      iVar8 = FUN_00113140();
    }
    else {
      if (__ptr_00 != (void *)0x0) {
        FUN_001096d0(__ptr,__ptr_00,iVar5,iVar8);
      }
      if ((uVar4 & 0x30) != 0) {
        data = malloc((long)iVar7);
        if ((uVar4 & 0x40) == 0) {
          iVar18 = iVar8 * iVar5;
          if (iVar18 != 0) {
            uVar12 = 0;
            do {
              *(char *)((long)data + uVar12) = (char)__ptr[uVar12];
              bVar20 = iVar18 - 1 != uVar12;
              uVar12 = uVar12 + 1;
            } while (bVar20);
          }
        }
        else {
          iVar18 = iVar7;
          if (iVar5 != 0) {
            pvVar15 = data;
            puVar16 = __ptr;
            do {
              lVar11 = 0;
              puVar13 = puVar16;
              do {
                while (iVar8 <= (int)lVar11) {
                  *(undefined *)((long)pvVar15 + lVar11) = 0;
                  lVar11 = lVar11 + 1;
                  puVar13 = puVar13 + iVar5;
                  if (lVar11 == 0x1000) goto LAB_0010a5fc;
                }
                uVar14 = (undefined)*puVar13;
                if ((uVar4 & 0x10) != 0) {
                  uVar14 = (&DAT_00118240)[*puVar13 & 0xff];
                }
                *(undefined *)((long)pvVar15 + lVar11) = uVar14;
                lVar11 = lVar11 + 1;
                puVar13 = puVar13 + iVar5;
              } while (lVar11 != 0x1000);
LAB_0010a5fc:
              pvVar15 = (void *)((long)pvVar15 + 0x1000);
              puVar16 = (uint *)((long)puVar16 + (long)(iVar5 << 0xe) + (1 - (long)iVar7) * 4);
            } while (pvVar15 != (void *)((long)data + ((ulong)uVar19 + 1) * 0x1000));
          }
        }
        MD5_Update(&local_168,data,(long)iVar18);
        free(data);
        goto LAB_0010a637;
      }
      iVar18 = iVar6;
      iVar17 = iVar5;
      FUN_00109ef0(__ptr,__ptr,uVar4,iVar6,iVar5 * iVar8);
      MD5_Update(&local_168,__ptr,(long)(iVar8 * iVar18 * iVar17));
      iVar8 = FUN_00113140();
    }
    if (iVar8 != 0) {
      fputc(10,stderr);
      fflush(stderr);
      free(__ptr);
      if (__ptr_00 == (void *)0x0) goto LAB_0010a985;
      uVar9 = 1;
      free(__ptr_00);
      goto LAB_0010a827;
    }
    dVar21 = (double)WavpackGetProgress(lVar10);
    if ((false) || (dVar21 != -1.0)) {
      dVar21 = (double)WavpackGetProgress(lVar10);
      dVar21 = (100.0 - DAT_0011d070) * dVar21 + DAT_0011d070 + 0.5;
      if (ABS(dVar21) < 4503599627370496.0) {
        dVar21 = (double)((ulong)dVar21 & 0x8000000000000000 |
                         (ulong)((double)(long)dVar21 -
                                (double)(-(ulong)(dVar21 < (double)(long)dVar21) &
                                        0x3ff0000000000000)));
      }
      if ((false) || (dVar21 != local_198)) {
        dVar21 = (double)WavpackGetProgress(lVar10);
        local_198 = (100.0 - DAT_0011d070) * dVar21 + DAT_0011d070 + 0.5;
        if (ABS(local_198) < 4503599627370496.0) {
          local_198 = (double)((ulong)local_198 & 0x8000000000000000 |
                              (ulong)((double)(long)local_198 -
                                     (double)(-(ulong)(local_198 < (double)(long)local_198) &
                                             0x3ff0000000000000)));
        }
        if (DAT_0011d0b0 != 0) {
          FUN_0010a390(local_198 / 100.0);
        }
        if (DAT_0011d0c0 == 0) {
          __fprintf_chk(stderr,1,"%s%3d%% done...",&DAT_00115044,(int)local_198);
          fflush(stderr);
        }
      }
    }
  }
  free(__ptr);
  if (__ptr_00 == (void *)0x0) {
    if (param_2 != (long *)0x0) goto LAB_0010a99c;
LAB_0010a917:
    lVar11 = WavpackGetNumSamples64(lVar10);
    uVar9 = 0;
    if (lVar11 != -1) {
      lVar11 = WavpackGetNumSamples64(lVar10);
      if (local_1a8 < lVar11) {
        lVar11 = WavpackGetNumSamples64(lVar10);
        uVar9 = 1;
        FUN_00112fa0("file is missing %llu samples!",lVar11 - local_1a8);
      }
      else {
        lVar11 = WavpackGetNumSamples64(lVar10);
        if (lVar11 < local_1a8) {
          uVar9 = 1;
          lVar11 = WavpackGetNumSamples64(lVar10);
          FUN_00112fa0("file has %llu extra samples!",local_1a8 - lVar11);
        }
      }
    }
    iVar5 = WavpackGetNumErrors(lVar10);
    if (iVar5 != 0) {
      uVar9 = WavpackGetNumErrors(lVar10);
      FUN_00112fa0("missing data or crc errors detected in %d block(s)!",uVar9);
LAB_0010a985:
      uVar9 = 1;
    }
  }
  else {
    free(__ptr_00);
    if (param_2 == (long *)0x0) goto LAB_0010a917;
LAB_0010a99c:
    MD5_Final((uchar *)local_108,&local_168);
    if (local_108[1] == param_2[1] && local_108[0] == *param_2) goto LAB_0010a917;
    builtin_strncpy(local_f8,"00000000000000000000000000000000",0x21);
    lVar11 = 0;
    builtin_strncpy(local_c8,"00000000000000000000000000000000",0x21);
    do {
      lVar2 = lVar11 * 2;
      __sprintf_chk(local_f8 + lVar2,1,0xffffffffffffffff,&DAT_00115061,
                    *(undefined *)((long)param_2 + lVar11));
      puVar1 = (uchar *)((long)local_108 + lVar11);
      lVar11 = lVar11 + 1;
      __sprintf_chk(local_c8 + lVar2,1,0xffffffffffffffff,&DAT_00115061,*puVar1);
    } while (lVar11 != 0x10);
    FUN_00112fa0("original md5: %s",local_f8);
    FUN_00112fa0("verified md5: %s",local_c8);
    uVar9 = 1;
    FUN_00112fa0("MD5 signatures should match, but do not!");
  }
LAB_0010a827:
  WavpackCloseFile(lVar10);
LAB_0010a82f:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar9;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



undefined4 FUN_0010ab80(int *param_1,long param_2,int param_3)

{
  long lVar1;
  int iVar2;
  undefined4 uVar3;
  long in_FS_OFFSET;
  int local_24;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1[4] != 0) {
    uVar3 = 0;
    goto LAB_0010abbf;
  }
  if (((*(long *)(param_1 + 2) == 0) || (param_2 == 0)) || (param_3 == 0)) {
LAB_0010abb9:
    uVar3 = 1;
  }
  else {
    iVar2 = FUN_001131c0();
    if (iVar2 != 0) {
      if (param_3 == local_24) {
        *param_1 = *param_1 + param_3;
        if (param_1[1] == 0) {
          param_1[1] = param_3;
        }
        goto LAB_0010abb9;
      }
    }
    FUN_00113320(*(undefined8 *)(param_1 + 2));
    FUN_001132f0(*(undefined8 *)(param_1 + 2));
    param_1[2] = 0;
    param_1[3] = 0;
    param_1[4] = 1;
    uVar3 = 0;
  }
LAB_0010abbf:
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar3;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



int FUN_0010ac40(uint *param_1,uint *param_2,uint *param_3,undefined8 *param_4)

{
  ushort *puVar1;
  undefined uVar2;
  int3 iVar3;
  byte bVar4;
  char cVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  uint uVar11;
  undefined4 uVar12;
  undefined8 uVar13;
  FILE *pFVar14;
  size_t sVar15;
  uint *puVar16;
  long lVar17;
  undefined8 uVar18;
  char *pcVar19;
  void *pvVar20;
  ulong uVar21;
  float *__ptr;
  ulong uVar22;
  char *pcVar23;
  undefined4 *puVar24;
  long lVar25;
  uint *puVar26;
  float *pfVar27;
  byte *pbVar28;
  float *pfVar29;
  undefined8 *puVar30;
  undefined *puVar31;
  byte *pbVar32;
  byte *pbVar33;
  undefined8 *puVar34;
  float fVar35;
  int iVar36;
  uint *puVar37;
  undefined1 *puVar38;
  char *pcVar39;
  ulong uVar40;
  long in_FS_OFFSET;
  bool bVar41;
  bool bVar42;
  byte bVar43;
  double dVar44;
  double dVar45;
  ulong local_370;
  FILE *local_368;
  uint *local_360;
  byte *local_358;
  double local_348;
  byte *local_328;
  double local_320;
  double local_308;
  uint *local_2f8;
  uint *local_2f0;
  int local_2e0;
  __timezone_ptr_t local_2d8;
  byte *local_2d0;
  double local_2c8;
  int local_2c0;
  uint local_2bc;
  undefined local_29d;
  uint local_29c;
  double local_298;
  timezone local_290;
  timeval local_288;
  timeval local_278;
  undefined local_268 [16];
  undefined8 local_258;
  undefined local_248 [16];
  undefined8 local_238;
  undefined8 local_228;
  undefined8 uStack_220;
  ulong local_218;
  undefined8 uStack_210;
  undefined8 local_208;
  undefined8 uStack_200;
  undefined8 local_1f8;
  undefined8 uStack_1f0;
  undefined8 local_1e8;
  undefined8 uStack_1e0;
  undefined8 local_1d8;
  MD5_CTX local_1c8;
  byte local_168 [16];
  undefined local_158 [16];
  char local_148 [24];
  undefined8 uStack_130;
  char local_128 [16];
  undefined8 local_118;
  undefined local_110 [208];
  long local_40;
  
  bVar43 = 0;
  local_228 = *param_4;
  uStack_220 = param_4[1];
  local_218 = param_4[2];
  uStack_210 = param_4[3];
  local_208 = param_4[4];
  uStack_200 = param_4[5];
  local_1e8 = param_4[8];
  uStack_1e0 = param_4[9];
  puVar31 = local_248;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_1d8 = param_4[10];
  local_1f8 = param_4[6];
  uStack_1f0 = param_4[7];
  if (param_3 == (uint *)0x0) {
    puVar31 = (undefined *)0x0;
  }
  local_258 = 0;
  local_238 = 0;
  local_268 = (undefined  [16])0x0;
  local_248 = (undefined  [16])0x0;
  uVar13 = WavpackOpenFileOutput(FUN_0010ab80,local_268,puVar31);
  if (*(char *)param_1 == '-') {
    local_368 = stdin;
  }
  else {
    local_368 = fopen((char *)param_1,"rb");
    if (local_368 == (FILE *)0x0) {
      FUN_00112fa0("can\'t open file %s!",param_1);
      WavpackCloseFile(uVar13);
      local_2e0 = 1;
      goto LAB_0010b508;
    }
  }
  if ((local_218 & 0x1000) == 0) {
LAB_0010ad40:
    if (*(char *)param_2 == '-') {
LAB_0010ad4e:
      if (param_3 != (uint *)0x0) {
LAB_0010ad5a:
        puVar16 = param_2;
        if (DAT_0011d0d0 == 0) {
          pFVar14 = fopen((char *)param_3,"rb");
          local_248._8_8_ = pFVar14;
          if (pFVar14 == (FILE *)0x0) goto LAB_0010adc5;
          sVar15 = fread(&local_29d,1,1,pFVar14);
          FUN_001132f0(local_248._8_8_);
          puVar26 = param_3;
          if (sVar15 != 1) goto LAB_0010adc5;
          do {
            puVar16 = puVar26;
            uVar6 = *puVar16 + 0xfefefeff & ~*puVar16;
            uVar7 = uVar6 & 0x80808080;
            puVar26 = puVar16 + 1;
          } while (uVar7 == 0);
          bVar41 = (uVar6 & 0x8080) == 0;
          if (bVar41) {
            uVar7 = uVar7 >> 0x10;
          }
          if (bVar41) {
            puVar26 = (uint *)((long)puVar16 + 6);
          }
          puVar16 = param_3;
          if (0x1e < (long)puVar26 + ((-3 - (ulong)CARRY1((byte)uVar7,(byte)uVar7)) - (long)param_3)
             ) {
            puVar16 = (uint *)FUN_00112df0(param_3);
          }
          __fprintf_chk(stderr,1,"overwrite %s (yes/no/all)? ",puVar16);
          fflush(stderr);
          if (DAT_0011d0b0 != 0) {
            FUN_00113390("overwrite?");
          }
          cVar5 = FUN_00112e30();
          if (cVar5 == 'a') {
            DAT_0011d0d0 = 1;
            puVar16 = param_2;
            goto LAB_0010adc5;
          }
          puVar16 = param_2;
          if (cVar5 == 'n') goto LAB_0010bfa5;
          do {
            puVar26 = puVar16;
            uVar6 = *puVar26 + 0xfefefeff & ~*puVar26;
            uVar7 = uVar6 & 0x80808080;
            puVar16 = puVar26 + 1;
          } while (uVar7 == 0);
          bVar41 = (uVar6 & 0x8080) == 0;
          if (bVar41) {
            uVar7 = uVar7 >> 0x10;
          }
          if (bVar41) {
            puVar16 = (uint *)((long)puVar26 + 6);
          }
          puVar16 = (uint *)malloc((long)puVar16 +
                                   (-(long)param_2 - (ulong)CARRY1((byte)uVar7,(byte)uVar7)) + 0xd);
          puVar26 = param_2;
        }
        else {
LAB_0010adc5:
          do {
            puVar26 = puVar16;
            uVar6 = *puVar26 + 0xfefefeff & ~*puVar26;
            uVar7 = uVar6 & 0x80808080;
            puVar16 = puVar26 + 1;
          } while (uVar7 == 0);
          bVar41 = (uVar6 & 0x8080) == 0;
          if (bVar41) {
            uVar7 = uVar7 >> 0x10;
          }
          if (bVar41) {
            puVar16 = (uint *)((long)puVar26 + 6);
          }
          puVar16 = (uint *)malloc((long)puVar16 +
                                   (-(long)param_2 - (ulong)CARRY1((byte)uVar7,(byte)uVar7)) + 0xd);
          puVar26 = param_2;
        }
        do {
          puVar37 = puVar26;
          uVar6 = *puVar37 + 0xfefefeff & ~*puVar37;
          uVar7 = uVar6 & 0x80808080;
          puVar26 = puVar37 + 1;
        } while (uVar7 == 0);
        bVar41 = (uVar6 & 0x8080) == 0;
        if (bVar41) {
          uVar7 = uVar7 >> 0x10;
        }
        if (bVar41) {
          puVar26 = (uint *)((long)puVar37 + 6);
        }
        local_2f8 = (uint *)malloc((long)puVar26 +
                                   (-(long)param_2 - (ulong)CARRY1((byte)uVar7,(byte)uVar7)) + 0xd);
        goto LAB_0010ae59;
      }
      gettimeofday(&local_288,&local_290);
      local_2f8 = (uint *)0x0;
      local_2f0 = (uint *)0x0;
      local_2e0 = 0;
      cVar5 = *(char *)param_2;
      puVar16 = param_2;
    }
    else {
      pFVar14 = fopen((char *)param_2,"rb");
      local_268._8_8_ = pFVar14;
      if (pFVar14 == (FILE *)0x0) goto LAB_0010ad4e;
      sVar15 = fread(&local_29d,1,1,pFVar14);
      FUN_001132f0(local_268._8_8_);
      if (sVar15 != 1) goto LAB_0010ad4e;
      puVar16 = param_2;
      if (DAT_0011d0d0 == 0) {
        do {
          puVar26 = puVar16;
          uVar6 = *puVar26 + 0xfefefeff & ~*puVar26;
          uVar7 = uVar6 & 0x80808080;
          puVar16 = puVar26 + 1;
        } while (uVar7 == 0);
        bVar41 = (uVar6 & 0x8080) == 0;
        if (bVar41) {
          uVar7 = uVar7 >> 0x10;
        }
        if (bVar41) {
          puVar16 = (uint *)((long)puVar26 + 6);
        }
        puVar26 = param_2;
        if (0x1e < (long)puVar16 + ((-3 - (ulong)CARRY1((byte)uVar7,(byte)uVar7)) - (long)param_2))
        {
          puVar26 = (uint *)FUN_00112df0(param_2);
        }
        __fprintf_chk(stderr,1,"overwrite %s (yes/no/all)? ",puVar26);
        fflush(stderr);
        if (DAT_0011d0b0 != 0) {
          FUN_00113390("overwrite?");
        }
        cVar5 = FUN_00112e30();
        if (cVar5 == 'a') {
          DAT_0011d0d0 = 1;
          puVar16 = param_2;
          if (param_3 == (uint *)0x0) goto LAB_0010d42c;
          goto LAB_0010adc5;
        }
        if (cVar5 == 'n') goto LAB_0010bfa5;
        puVar16 = param_2;
        if (param_3 == (uint *)0x0) goto LAB_0010d42c;
        goto LAB_0010ad5a;
      }
      if (param_3 != (uint *)0x0) goto LAB_0010adc5;
LAB_0010d42c:
      do {
        puVar26 = puVar16;
        uVar6 = *puVar26 + 0xfefefeff & ~*puVar26;
        uVar7 = uVar6 & 0x80808080;
        puVar16 = puVar26 + 1;
      } while (uVar7 == 0);
      bVar41 = (uVar6 & 0x8080) == 0;
      if (bVar41) {
        uVar7 = uVar7 >> 0x10;
      }
      if (bVar41) {
        puVar16 = (uint *)((long)puVar26 + 6);
      }
      puVar16 = (uint *)malloc((long)puVar16 +
                               (-(long)param_2 - (ulong)CARRY1((byte)uVar7,(byte)uVar7)) + 0xd);
      local_2f8 = (uint *)0x0;
LAB_0010ae59:
      iVar8 = 0;
LAB_0010ae68:
      do {
        strcpy((char *)puVar16,(char *)param_2);
        lVar17 = FUN_00112c30(puVar16);
        puVar26 = puVar16;
        if (lVar17 == 0) {
          do {
            puVar37 = puVar26;
            uVar6 = *puVar37 + 0xfefefeff & ~*puVar37;
            uVar7 = uVar6 & 0x80808080;
            puVar26 = puVar37 + 1;
          } while (uVar7 == 0);
          bVar41 = (uVar6 & 0x8080) == 0;
          if (bVar41) {
            uVar7 = uVar7 >> 0x10;
          }
          if (bVar41) {
            puVar26 = (uint *)((long)puVar37 + 6);
          }
          puVar24 = (undefined4 *)((long)puVar26 + (-3 - (ulong)CARRY1((byte)uVar7,(byte)uVar7)));
          if (iVar8 == 0) {
            *puVar24 = 0x706d742e;
            *(undefined *)(puVar24 + 1) = 0;
            iVar8 = 1;
          }
          else {
            __sprintf_chk(puVar24,1,0xffffffffffffffff,".tmp%d",iVar8);
            iVar8 = iVar8 + 1;
          }
        }
        else {
          if (iVar8 == 0) {
            puVar24 = (undefined4 *)FUN_00112c30();
            *puVar24 = 0x706d742e;
            *(undefined *)(puVar24 + 1) = 0;
          }
          else {
            uVar18 = FUN_00112c30();
            __sprintf_chk(uVar18,1,0xffffffffffffffff,".tmp%d",iVar8);
          }
          pcVar19 = (char *)FUN_00112c30(param_2);
          strcat((char *)puVar16,pcVar19);
          iVar8 = iVar8 + 1;
        }
        pFVar14 = fopen((char *)puVar16,"rb");
        if (pFVar14 != (FILE *)0x0) {
          sVar15 = fread(&local_29d,1,1,pFVar14);
          fclose(pFVar14);
          if ((int)sVar15 == 1) goto LAB_0010ae68;
        }
        if (param_3 == (uint *)0x0) break;
        pcVar19 = stpcpy((char *)local_2f8,(char *)puVar16);
        pcVar19[0] = 'c';
        pcVar19[1] = '\0';
        pFVar14 = fopen((char *)local_2f8,"rb");
        if (pFVar14 == (FILE *)0x0) break;
        sVar15 = fread(&local_29d,1,1,pFVar14);
        fclose(pFVar14);
      } while ((int)sVar15 == 1);
      gettimeofday(&local_288,&local_290);
      local_2e0 = 1;
      cVar5 = *(char *)param_2;
      local_2f0 = puVar16;
    }
    if (cVar5 == '-') {
      local_268._8_8_ = stdout;
    }
    else {
      pFVar14 = fopen((char *)puVar16,"w+b");
      local_268._8_8_ = pFVar14;
      if (pFVar14 == (FILE *)0x0) {
        FUN_00112fa0("can\'t create file %s!",puVar16);
        goto LAB_0010bfa5;
      }
    }
    if (DAT_0011d0c0 == 0) {
      if (*(char *)param_2 == '-') {
        puVar16 = (uint *)"stdin";
        if ((*(char *)param_1 != '-') &&
           (sVar15 = strlen((char *)param_1), puVar16 = param_1, 0x1e < sVar15)) {
          puVar16 = (uint *)FUN_00112df0(param_1);
        }
        __fprintf_chk(stderr,1,"packing %s to stdout,",puVar16);
      }
      else {
        puVar16 = param_2;
        if (param_3 == (uint *)0x0) {
          do {
            puVar26 = puVar16;
            uVar6 = *puVar26 + 0xfefefeff & ~*puVar26;
            uVar7 = uVar6 & 0x80808080;
            puVar16 = puVar26 + 1;
          } while (uVar7 == 0);
          bVar41 = (uVar6 & 0x8080) == 0;
          if (bVar41) {
            uVar7 = uVar7 >> 0x10;
          }
          if (bVar41) {
            puVar16 = (uint *)((long)puVar26 + 6);
          }
          puVar26 = param_2;
          if (0x1e < (long)puVar16 + ((-3 - (ulong)CARRY1((byte)uVar7,(byte)uVar7)) - (long)param_2)
             ) {
            puVar26 = (uint *)FUN_00112df0(param_2);
          }
          __fprintf_chk(stderr,1,"creating %s,",puVar26);
        }
        else {
          uVar18 = FUN_00112c30();
          do {
            puVar26 = puVar16;
            uVar6 = *puVar26 + 0xfefefeff & ~*puVar26;
            uVar7 = uVar6 & 0x80808080;
            puVar16 = puVar26 + 1;
          } while (uVar7 == 0);
          bVar41 = (uVar6 & 0x8080) == 0;
          if (bVar41) {
            uVar7 = uVar7 >> 0x10;
          }
          if (bVar41) {
            puVar16 = (uint *)((long)puVar26 + 6);
          }
          puVar26 = param_2;
          if (0x1e < (long)puVar16 + ((-3 - (ulong)CARRY1((byte)uVar7,(byte)uVar7)) - (long)param_2)
             ) {
            puVar26 = (uint *)FUN_00112df0(param_2);
          }
          __fprintf_chk(stderr,1,"creating %s (+%s),",puVar26,uVar18);
        }
      }
      fflush(stderr);
    }
    local_2d8 = &local_290;
    if ((local_218 & 0x1000) != 0) {
      if ((local_218 & 0x30) != 0) {
        WavpackSetFileInformation(uVar13,&DAT_001151d1,3);
        if ((local_218 & 0x1000) == 0) goto LAB_0010b2d0;
      }
      if (DAT_0011d09c == 0) {
        local_2c0 = 1;
        uVar7 = (uint)local_218;
      }
      else {
        uVar7 = DAT_0011d09c;
        do {
          uVar6 = 0x100;
          if (uVar7 < 0x100) {
            uVar6 = uVar7;
          }
          iVar8 = FUN_00113150(local_368,local_148,uVar6,&local_29c);
          if ((iVar8 == 0) || (local_29c != uVar6)) {
            FUN_00112fa0("can\'t read file %s!",param_1);
            goto LAB_0010b4c2;
          }
          uVar7 = uVar7 - uVar6;
        } while (uVar7 != 0);
        local_2c0 = 1;
        uVar7 = (uint)local_218;
      }
LAB_0010b46b:
      local_358 = (byte *)0x0;
      if ((uVar7 & 8) != 0) {
        bVar4 = WavpackGetChannelLayout(uVar13,0);
        iVar8 = uStack_210._4_4_;
        if ((int)(uint)bVar4 <= uStack_210._4_4_) {
          local_358 = (byte *)malloc((long)uStack_210._4_4_);
          uVar21 = 0;
          if (iVar8 != 0) {
            do {
              local_358[uVar21] = (byte)uVar21;
              bVar41 = iVar8 - 1 != uVar21;
              uVar21 = uVar21 + 1;
            } while (bVar41);
          }
          WavpackGetChannelLayout(uVar13,local_358);
        }
        uVar7 = (uint)local_218;
      }
      iVar8 = DAT_0011d094;
      local_370 = (ulong)uVar7;
      if (DAT_0011d094 != 0 || (uVar7 & 0x400) != 0) {
        iVar36 = uStack_210._4_4_;
        if ((uStack_210._4_4_ < DAT_0011d094) ||
           ((DAT_0011d094 < uStack_210._4_4_ && ((uVar7 & 0x400) == 0)))) {
          FUN_00112fa0("file does not have %d channel(s)!",DAT_0011d094);
          goto LAB_0010b4c2;
        }
        if (DAT_0011d094 != 0) {
          local_358 = (byte *)malloc((long)uStack_210._4_4_);
          uVar21 = 0;
          if (0 < iVar36) {
            do {
              local_358[uVar21] = (byte)uVar21;
              bVar41 = iVar36 - 1 != uVar21;
              uVar21 = uVar21 + 1;
            } while (bVar41);
          }
          memcpy(local_358,&DAT_0011d080,(long)iVar8);
          uVar7 = 0;
          if (0 < iVar8) {
            do {
              uVar21 = 0;
              do {
                iVar36 = (int)uVar21;
                if (local_358[uVar21] == uVar7) {
                  uVar7 = uVar7 + 1;
                  break;
                }
                iVar36 = iVar36 + 1;
                bVar41 = iVar8 - 1 != uVar21;
                uVar21 = uVar21 + 1;
              } while (bVar41);
              pbVar28 = local_358;
              if (iVar8 == iVar36) {
                do {
                  if ((int)uVar7 < (int)(uint)*pbVar28) {
                    *pbVar28 = *pbVar28 - 1;
                  }
                  pbVar28 = pbVar28 + 1;
                } while (local_358 + (ulong)(iVar8 - 1) + 1 != pbVar28);
              }
            } while ((int)uVar7 < iVar8);
          }
        }
      }
      if (param_3 != (uint *)0x0) {
        if (local_2e0 == 0) {
          pFVar14 = fopen((char *)param_3,"w+b");
          local_248._8_8_ = pFVar14;
          if (pFVar14 == (FILE *)0x0) {
            FUN_00112fa0("can\'t create correction file!");
            FUN_001132f0(local_368);
            FUN_001132f0(local_268._8_8_);
            local_2f0 = param_2;
LAB_0010be52:
            FUN_00113360(local_2f0);
            WavpackCloseFile(uVar13);
            local_2e0 = 1;
            goto LAB_0010b508;
          }
        }
        else {
          pFVar14 = fopen((char *)local_2f8,"w+b");
          local_248._8_8_ = pFVar14;
          if (pFVar14 == (FILE *)0x0) {
            FUN_00112fa0("can\'t create correction file!");
            FUN_001132f0(local_368);
            FUN_001132f0(local_268._8_8_);
            goto LAB_0010be52;
          }
        }
        local_370 = local_218 & 0xffffffff;
      }
      local_2bc = (uint)local_370 & 0x30;
      if ((local_370 & 0x30) == 0) {
        bVar41 = (local_218 & 0x800000000000000) != 0 || DAT_0011d0bc != 0;
        if (bVar41) {
          local_2d0 = local_168;
        }
        else {
          local_2d0 = (byte *)0x0;
        }
        for (lVar17 = 0x10000; iVar8 = WavpackGetNumChannels(uVar13),
            0x200000 < (ulong)(iVar8 * lVar17 * 4); lVar17 = lVar17 >> 1) {
        }
        if (local_2d0 != (byte *)0x0) {
          MD5_Init(&local_1c8);
        }
        WavpackPackInit(uVar13);
        iVar8 = WavpackGetBytesPerSample(uVar13);
        iVar36 = WavpackGetNumChannels(uVar13);
        uVar7 = iVar8 * iVar36;
        uVar6 = uVar7 * (int)lVar17;
        pbVar28 = (byte *)malloc((ulong)uVar6);
        iVar8 = WavpackGetNumChannels(uVar13);
        __ptr = (float *)malloc(iVar8 * lVar17 * 4);
        local_348 = (double)WavpackGetNumSamples64(uVar13);
        if (DAT_0011d0a8 == 0) {
          local_2bc = 0;
          local_320 = 1.0;
          local_328 = (byte *)0x3ff0000000000000;
          uVar9 = 0;
        }
        else {
          iVar8 = WavpackGetBytesPerSample(uVar13);
          if (DAT_0011d0a8 < iVar8 * 8) {
            cVar5 = WavpackGetBytesPerSample(uVar13);
            iVar8 = 1 << (cVar5 * '\b' - (char)DAT_0011d0a8 & 0x1fU);
            uVar9 = -iVar8;
            uVar21 = WavpackGetMode(uVar13);
            if ((uVar21 & 8) == 0) {
              local_2bc = (int)uVar9 >> 1 ^ uVar9;
              local_320 = 1.0;
              local_328 = (byte *)0x3ff0000000000000;
              bVar41 = bVar41 && iVar8 == 0;
            }
            else {
              iVar10 = WavpackGetFloatNormExp(uVar13);
              iVar36 = DAT_0011d0a8;
              local_328 = (byte *)exp2((double)((DAT_0011d0a8 + 0x7e) - iVar10));
              local_320 = exp2((double)((iVar10 + -0x7e) - iVar36));
              local_2bc = (int)uVar9 >> 1 ^ uVar9;
              bVar41 = bVar41 && iVar8 == 0;
            }
          }
          else {
            uVar9 = 0;
            local_320 = 1.0;
            local_328 = (byte *)0x3ff0000000000000;
          }
        }
        local_2c8 = -1.0;
        dVar45 = local_2c8;
LAB_0010ba40:
        local_2c8 = dVar45;
        local_278.tv_sec._0_4_ = 0;
        uVar11 = uVar6;
        if (((long)local_348 <= lVar17) && (((uint)local_370 >> 0xb & 1) == 0)) {
          uVar11 = uVar7 * SUB84(local_348,0);
        }
        uVar21 = (ulong)uVar11;
        local_348 = (double)((long)local_348 - uVar21 / uVar7);
        FUN_00113150(local_368,pbVar28,uVar21,&local_278);
        uVar12 = (undefined4)(uVar21 >> 0x20);
        uVar21 = (ulong)(uint)local_278.tv_sec / (ulong)uVar7;
        iVar8 = (int)uVar21;
        if (local_358 == (byte *)0x0) {
joined_r0x0010c18d:
          if (bVar41) {
            MD5_Update(&local_1c8,pbVar28,(long)(int)(uVar7 * iVar8));
          }
        }
        else {
          if ((local_370 & 8) == 0) {
            uVar11 = WavpackGetBytesPerSample(uVar13);
            uVar12 = WavpackGetNumChannels(uVar13);
            uVar40 = (ulong)uVar11;
            FUN_001097d0(pbVar28,local_358,uVar12,uVar21,uVar40);
            uVar12 = (undefined4)(uVar40 >> 0x20);
            goto joined_r0x0010c18d;
          }
          if (bVar41) {
            MD5_Update(&local_1c8,pbVar28,(long)(int)(uVar7 * iVar8));
          }
          uVar11 = WavpackGetBytesPerSample(uVar13);
          uVar12 = WavpackGetNumChannels(uVar13);
          uVar40 = (ulong)uVar11;
          FUN_001097d0(pbVar28,local_358,uVar12,uVar21,uVar40);
          uVar12 = (undefined4)(uVar40 >> 0x20);
        }
        if (iVar8 == 0) {
          free(__ptr);
          free(pbVar28);
          iVar8 = WavpackFlushSamples(uVar13);
          if (iVar8 != 0) goto joined_r0x0010d038;
          goto LAB_0010d9bd;
        }
        iVar36 = WavpackGetBytesPerSample(uVar13);
        iVar10 = WavpackGetNumChannels(uVar13);
        iVar10 = iVar10 * iVar8;
        if ((local_370 & 1) == 0) {
          if ((local_370 & 4) == 0) {
            if (iVar36 == 1) {
              if ((local_370 & 2) == 0) {
LAB_0010c9d0:
                uVar40 = 0;
                if (iVar10 != 0) {
                  do {
                    __ptr[uVar40] = (float)(pbVar28[uVar40] - 0x80);
                    bVar42 = iVar10 - 1 != uVar40;
                    uVar40 = uVar40 + 1;
                  } while (bVar42);
                }
              }
              else {
                uVar40 = 0;
                if (iVar10 != 0) {
                  do {
                    __ptr[uVar40] = (float)(int)(char)pbVar28[uVar40];
                    bVar42 = iVar10 - 1 != uVar40;
                    uVar40 = uVar40 + 1;
                  } while (bVar42);
                }
              }
            }
            else if (iVar36 == 3) {
              if (iVar10 != 0) {
                pfVar27 = __ptr;
                pbVar33 = pbVar28;
                do {
                  iVar3 = *(int3 *)pbVar33;
                  pfVar29 = pfVar27 + 1;
                  pbVar33 = pbVar33 + 3;
                  *pfVar27 = (float)(int)iVar3;
                  pfVar27 = pfVar29;
                } while (pfVar29 != __ptr + (ulong)(iVar10 - 1) + 1);
              }
            }
            else if (iVar36 < 4) {
              if (iVar36 == 2) {
                uVar40 = 0;
                if (iVar10 != 0) {
                  do {
                    __ptr[uVar40] =
                         (float)(int)CONCAT11(pbVar28[uVar40 * 2 + 1],pbVar28[uVar40 * 2]);
                    bVar42 = iVar10 - 1 != uVar40;
                    uVar40 = uVar40 + 1;
                  } while (bVar42);
                }
              }
            }
            else if (iVar36 == 4) {
              uVar40 = 0;
              if (iVar10 != 0) {
                do {
                  __ptr[uVar40] = *(float *)(pbVar28 + uVar40 * 4);
                  bVar42 = iVar10 - 1 != uVar40;
                  uVar40 = uVar40 + 1;
                } while (bVar42);
              }
            }
          }
          else if (iVar36 == 3) {
            if (iVar10 != 0) {
              pfVar27 = __ptr;
              pbVar33 = pbVar28;
              do {
                pfVar29 = pfVar27 + 1;
                *pfVar27 = (float)(((uint)pbVar33[1] << 8 | (uint)pbVar33[2] << 0x10 |
                                   (uint)*pbVar33) - 0x800000);
                pfVar27 = pfVar29;
                pbVar33 = pbVar33 + 3;
              } while (pfVar29 != __ptr + (ulong)(iVar10 - 1) + 1);
            }
          }
          else if (iVar36 < 4) {
            if (iVar36 == 1) goto LAB_0010c9d0;
            if (iVar36 == 2) {
              uVar40 = 0;
              if (iVar10 != 0) {
                do {
                  __ptr[uVar40] = (float)(*(ushort *)(pbVar28 + uVar40 * 2) - 0x8000);
                  bVar42 = iVar10 - 1 != uVar40;
                  uVar40 = uVar40 + 1;
                } while (bVar42);
              }
            }
          }
          else if (iVar36 == 4) {
            uVar40 = 0;
            if (iVar10 != 0) {
              do {
                __ptr[uVar40] = (float)(*(int *)(pbVar28 + uVar40 * 4) + -0x80000000);
                bVar42 = iVar10 - 1 != uVar40;
                uVar40 = uVar40 + 1;
              } while (bVar42);
            }
          }
        }
        else if ((local_370 & 4) == 0) {
          if (iVar36 == 1) {
            if ((local_370 & 2) == 0) {
LAB_0010c9a0:
              uVar40 = 0;
              if (iVar10 != 0) {
                do {
                  __ptr[uVar40] = (float)(pbVar28[uVar40] - 0x80);
                  bVar42 = uVar40 != iVar10 - 1;
                  uVar40 = uVar40 + 1;
                } while (bVar42);
              }
            }
            else {
              uVar40 = 0;
              if (iVar10 != 0) {
                do {
                  __ptr[uVar40] = (float)(int)(char)pbVar28[uVar40];
                  bVar42 = iVar10 - 1 != uVar40;
                  uVar40 = uVar40 + 1;
                } while (bVar42);
              }
            }
          }
          else if (iVar36 == 3) {
            if (iVar10 != 0) {
              pbVar33 = pbVar28;
              pfVar27 = __ptr;
              do {
                puVar1 = (ushort *)(pbVar33 + 1);
                bVar4 = *pbVar33;
                pbVar33 = pbVar33 + 3;
                *pfVar27 = (float)(int)CONCAT12(bVar4,*puVar1 << 8 | *puVar1 >> 8);
                pfVar27 = pfVar27 + 1;
              } while (pbVar33 != pbVar28 + (ulong)(iVar10 - 1) * 3 + 3);
            }
          }
          else if (iVar36 < 4) {
            if (iVar36 == 2) {
              uVar40 = 0;
              if (iVar10 != 0) {
                do {
                  __ptr[uVar40] = (float)(int)CONCAT11(pbVar28[uVar40 * 2],pbVar28[uVar40 * 2 + 1]);
                  bVar42 = iVar10 - 1 != uVar40;
                  uVar40 = uVar40 + 1;
                } while (bVar42);
              }
            }
          }
          else if (iVar36 == 4) {
            uVar40 = 0;
            if (iVar10 != 0) {
              do {
                uVar11 = *(uint *)(pbVar28 + uVar40 * 4);
                __ptr[uVar40] =
                     (float)(uVar11 >> 0x18 | (uVar11 & 0xff0000) >> 8 | (uVar11 & 0xff00) << 8 |
                            uVar11 << 0x18);
                bVar42 = iVar10 - 1 != uVar40;
                uVar40 = uVar40 + 1;
              } while (bVar42);
            }
          }
        }
        else if (iVar36 == 3) {
          if (iVar10 != 0) {
            pfVar27 = __ptr;
            pbVar33 = pbVar28;
            do {
              pbVar32 = pbVar33 + 3;
              *pfVar27 = (float)(((uint)pbVar33[1] << 8 | (uint)*pbVar33 << 0x10 | (uint)pbVar33[2])
                                - 0x800000);
              pfVar27 = pfVar27 + 1;
              pbVar33 = pbVar32;
            } while (pbVar32 != pbVar28 + (ulong)(iVar10 - 1) * 3 + 3);
          }
        }
        else if (iVar36 < 4) {
          if (iVar36 == 1) goto LAB_0010c9a0;
          if (iVar36 == 2) {
            uVar40 = 0;
            if (iVar10 != 0) {
              do {
                __ptr[uVar40] =
                     (float)((ushort)(*(ushort *)(pbVar28 + uVar40 * 2) << 8 |
                                     *(ushort *)(pbVar28 + uVar40 * 2) >> 8) - 0x8000);
                bVar42 = iVar10 - 1 != uVar40;
                uVar40 = uVar40 + 1;
              } while (bVar42);
            }
          }
        }
        else if (iVar36 == 4) {
          uVar40 = 0;
          if (iVar10 != 0) {
            do {
              uVar11 = *(uint *)(pbVar28 + uVar40 * 4);
              __ptr[uVar40] =
                   (float)((uVar11 >> 0x18 | (uVar11 & 0xff0000) >> 8 | (uVar11 & 0xff00) << 8 |
                           uVar11 << 0x18) + 0x80000000);
              bVar42 = uVar40 != iVar10 - 1;
              uVar40 = uVar40 + 1;
            } while (bVar42);
          }
        }
        if (uVar9 != 0) {
          iVar10 = WavpackGetNumChannels(uVar13);
          uVar11 = iVar10 * iVar8;
          uVar40 = WavpackGetMode(uVar13);
          if ((uVar40 & 8) == 0) {
            uVar12 = 0;
            if (DAT_0011d0a4 == 0) {
              if (uVar11 != 0) {
LAB_0010c639:
                uVar12 = 0;
                lVar25 = 0;
                do {
                  __ptr[lVar25] = (float)((uint)__ptr[lVar25] & uVar9);
                  lVar25 = lVar25 + 1;
                } while ((uint)lVar25 < uVar11);
              }
            }
            else {
              uVar12 = 0;
              cVar5 = WavpackGetBytesPerSample(uVar13);
              if (uVar11 != 0) {
                pfVar27 = __ptr;
                do {
                  fVar35 = (float)((int)*pfVar27 + local_2bc);
                  if (((int)*pfVar27 < 0) || (0 < (int)fVar35 << (('\x04' - cVar5) * '\b' & 0x1fU)))
                  {
                    *pfVar27 = fVar35;
                  }
                  pfVar27 = pfVar27 + 1;
                } while (__ptr + (ulong)(uVar11 - 1) + 1 != pfVar27);
                goto LAB_0010c639;
              }
            }
          }
          else if (uVar11 != 0) {
            pfVar27 = __ptr;
            do {
              dVar45 = (double)*pfVar27 * (double)local_328 + 0.5;
              if (ABS(dVar45) < 4503599627370496.0) {
                dVar45 = (double)((ulong)dVar45 & 0x8000000000000000 |
                                 (ulong)((double)(long)dVar45 -
                                        (double)(-(ulong)(dVar45 < (double)(long)dVar45) &
                                                0x3ff0000000000000)));
              }
              pfVar29 = pfVar27 + 1;
              *pfVar27 = (float)(dVar45 * local_320);
              pfVar27 = pfVar29;
            } while (pfVar29 != __ptr + (ulong)(uVar11 - 1) + 1);
          }
          if (local_2d0 != (byte *)0x0) {
            iVar10 = WavpackGetNumChannels(uVar13);
            uVar40 = (ulong)(uint)(iVar10 * iVar8);
            FUN_00109ef0(pbVar28,__ptr,local_370,iVar36,uVar40);
            uVar12 = (undefined4)(uVar40 >> 0x20);
            iVar8 = WavpackGetBytesPerSample(uVar13);
            MD5_Update(&local_1c8,pbVar28,(ulong)(iVar8 * uVar11));
          }
        }
        iVar8 = WavpackPackSamples(uVar13,__ptr,uVar21);
        if (iVar8 == 0) {
          uVar18 = WavpackGetErrorMessage(uVar13);
          FUN_00112fa0("%s",uVar18);
          free(__ptr);
          free(pbVar28);
          iVar8 = 2;
          goto LAB_0010b848;
        }
        iVar8 = FUN_00113140();
        if (iVar8 == 0) {
          dVar44 = (double)WavpackGetProgress(uVar13);
          dVar45 = local_2c8;
          if ((false) || (dVar44 != -1.0)) {
            dVar44 = (double)WavpackGetProgress(uVar13);
            dVar44 = dVar44 * DAT_0011d070 + 0.5;
            if (ABS(dVar44) < 4503599627370496.0) {
              dVar44 = (double)((ulong)dVar44 & 0x8000000000000000 |
                               (ulong)((double)(long)dVar44 -
                                      (double)(-(ulong)(dVar44 < (double)(long)dVar44) &
                                              0x3ff0000000000000)));
            }
            if ((false) || (dVar44 != local_2c8)) {
              dVar45 = (double)WavpackGetProgress(uVar13);
              dVar45 = DAT_0011d070 * dVar45 + 0.5;
              if (ABS(dVar45) < 4503599627370496.0) {
                dVar45 = (double)((ulong)dVar45 & 0x8000000000000000 |
                                 (ulong)((double)(long)dVar45 -
                                        (double)(-(ulong)(dVar45 < (double)(long)dVar45) &
                                                0x3ff0000000000000)));
              }
              if (DAT_0011d0b0 != 0) {
                FUN_0010a390(dVar45 / 100.0);
              }
              if (DAT_0011d0c0 == 0) {
                if ((false) || (local_2c8 != -1.0)) {
                  puVar31 = &DAT_00115044;
                }
                else {
                  puVar31 = &DAT_00119241;
                }
                __fprintf_chk(stderr,1,"%s%3d%% done...",puVar31,CONCAT44(uVar12,(int)dVar45));
                fflush(stderr);
              }
            }
          }
          goto LAB_0010ba40;
        }
        fputc(10,stderr);
        fflush(stderr);
        free(__ptr);
        free(pbVar28);
        iVar8 = 1;
      }
      else {
        local_328 = (byte *)0x0;
        if ((local_218 & 0x800000000000000) != 0 || DAT_0011d0bc != 0) {
          MD5_Init(&local_1c8);
          local_328 = local_168;
        }
        WavpackPackInit(uVar13);
        uVar7 = WavpackGetNumChannels(uVar13);
        uVar6 = uVar7 << 0xc;
        pvVar20 = malloc((long)(int)uVar6);
        puVar16 = (uint *)malloc((long)(int)uVar7 << 0xe);
        uVar21 = WavpackGetNumSamples64(uVar13);
        if (uVar21 != 0) {
          local_308 = -1.0;
          do {
            local_278.tv_sec._0_4_ = 0;
            if (((long)uVar21 < 0x1001) && ((local_370 & 0x40) == 0)) {
              FUN_00113150(local_368,pvVar20,uVar7 * (int)uVar21,&local_278);
LAB_0010bfd0:
              uVar40 = (ulong)(int)((uint)local_278.tv_sec / uVar7);
              uVar21 = uVar21 - uVar40;
            }
            else {
              FUN_00113150(local_368,pvVar20,uVar6,&local_278);
              if ((local_370 & 0x40) == 0) goto LAB_0010bfd0;
              if (uVar6 == (uint)local_278.tv_sec) {
                if ((long)uVar21 < 0x1000) {
                  uVar40 = uVar21 & 0xffffffff;
                  uVar21 = uVar21 - (long)(int)uVar21;
                }
                else {
                  uVar21 = uVar21 - 0x1000;
                  uVar40 = 0x1000;
                }
              }
              else {
                uVar21 = 0;
                uVar40 = 0;
                FUN_00112fa0();
              }
            }
            iVar8 = (int)uVar40;
            if ((local_358 != (byte *)0x0) && ((local_370 & 8) == 0)) {
              if ((local_370 & 0x40) == 0) {
                FUN_001097d0(pvVar20,local_358,uVar7,uVar40 & 0xffffffff,1);
              }
              else {
                FUN_001097d0(pvVar20,local_358,uVar7,1,0x1000);
              }
            }
            if (local_328 != (byte *)0x0) {
              MD5_Update(&local_1c8,pvVar20,(ulong)(uint)local_278.tv_sec);
            }
            if (iVar8 == 0) break;
            if ((local_370 & 0x40) == 0) {
              if (uVar7 * iVar8 != 0) {
                uVar22 = 0;
                do {
                  puVar16[uVar22] = (uint)*(byte *)((long)pvVar20 + uVar22);
                  bVar41 = uVar22 != uVar7 * iVar8 - 1;
                  uVar22 = uVar22 + 1;
                } while (bVar41);
              }
            }
            else {
              lVar17 = 0;
              iVar36 = 0;
              puVar26 = puVar16;
              do {
                pbVar28 = (byte *)((long)pvVar20 + lVar17);
                if (uVar7 != 0) {
                  pbVar33 = (byte *)((long)pvVar20 + lVar17 + (ulong)(uVar7 - 1) * 0x1000 + 0x1000);
                  do {
                    while( true ) {
                      uVar9 = (uint)*pbVar28;
                      if ((int)lVar17 < iVar8) break;
                      iVar36 = (iVar36 + 1) - (uint)(*pbVar28 == 0);
                      pbVar28 = pbVar28 + 0x1000;
                      if (pbVar28 == pbVar33) goto LAB_0010b7ae;
                    }
                    if ((local_370 & 0x10) != 0) {
                      uVar9 = (uint)(byte)(&DAT_00118240)[(int)uVar9];
                    }
                    pbVar28 = pbVar28 + 0x1000;
                    *puVar26 = uVar9;
                    puVar26 = puVar26 + 1;
                  } while (pbVar28 != pbVar33);
                }
LAB_0010b7ae:
                lVar17 = lVar17 + 1;
              } while (lVar17 != 0x1000);
              if (iVar36 != 0) {
                FUN_00112fa0("blocks not padded with NULLs, MD5 will not match!");
              }
            }
            iVar8 = WavpackPackSamples(uVar13,puVar16,uVar40 & 0xffffffff);
            if (iVar8 == 0) {
              uVar18 = WavpackGetErrorMessage(uVar13);
              FUN_00112fa0("%s",uVar18);
              free(puVar16);
              free(pvVar20);
              iVar8 = 2;
              goto LAB_0010b848;
            }
            iVar8 = FUN_00113140();
            if (iVar8 != 0) {
              fputc(10,stderr);
              fflush(stderr);
              free(puVar16);
              free(pvVar20);
              iVar8 = 1;
              goto LAB_0010b848;
            }
            dVar44 = (double)WavpackGetProgress(uVar13);
            dVar45 = local_308;
            if ((false) || (dVar44 != -1.0)) {
              dVar44 = (double)WavpackGetProgress(uVar13);
              dVar44 = dVar44 * DAT_0011d070 + 0.5;
              if (ABS(dVar44) < 4503599627370496.0) {
                dVar44 = (double)((ulong)dVar44 & 0x8000000000000000 |
                                 (ulong)((double)(long)dVar44 -
                                        (double)(-(ulong)(dVar44 < (double)(long)dVar44) &
                                                0x3ff0000000000000)));
              }
              if ((false) || (dVar44 != local_308)) {
                dVar45 = (double)WavpackGetProgress(uVar13);
                dVar45 = DAT_0011d070 * dVar45 + 0.5;
                if (ABS(dVar45) < 4503599627370496.0) {
                  dVar45 = (double)((ulong)dVar45 & 0x8000000000000000 |
                                   (ulong)((double)(long)dVar45 -
                                          (double)(-(ulong)(dVar45 < (double)(long)dVar45) &
                                                  0x3ff0000000000000)));
                }
                if (DAT_0011d0b0 != 0) {
                  FUN_0010a390(dVar45 / 100.0);
                }
                if (DAT_0011d0c0 == 0) {
                  if ((false) || (local_308 != -1.0)) {
                    puVar31 = &DAT_00115044;
                  }
                  else {
                    puVar31 = &DAT_00119241;
                  }
                  __fprintf_chk(stderr,1,"%s%3d%% done...",puVar31,(int)dVar45);
                  fflush(stderr);
                }
              }
            }
            local_308 = dVar45;
          } while (uVar21 != 0);
        }
        free(puVar16);
        free(pvVar20);
        iVar8 = WavpackFlushSamples(uVar13);
        local_2d0 = local_328;
        if (iVar8 == 0) {
LAB_0010d9bd:
          uVar18 = WavpackGetErrorMessage(uVar13);
          FUN_00112fa0("%s",uVar18);
          iVar8 = 2;
        }
        else {
joined_r0x0010d038:
          iVar8 = 0;
          if (local_2d0 != (byte *)0x0) {
            iVar8 = 0;
            MD5_Final(local_2d0,&local_1c8);
          }
        }
      }
LAB_0010b848:
      if (local_358 != (byte *)0x0) {
        free(local_358);
      }
      if (iVar8 != 0) {
        FUN_001132f0(local_368);
        local_358 = (byte *)0x0;
        goto LAB_0010c682;
      }
      if ((local_218 & 0x800000000000000) != 0) {
        WavpackStoreMD5Sum(uVar13,local_168);
      }
      local_358 = (byte *)(local_218 & 0x1800);
      if ((local_218 & 0x1800) == 0) {
        if (local_2c0 != 1) {
          lVar17 = WavpackGetNumSamples64(uVar13);
          iVar8 = WavpackGetNumChannels(uVar13);
          iVar36 = WavpackGetBytesPerSample(uVar13);
          lVar17 = ((long)iVar36 * lVar17 * iVar8) % (long)local_2c0;
          if ((lVar17 != 0) &&
             (local_2c0 = local_2c0 - (int)lVar17, iVar8 = local_2c0 + -1, local_2c0 != 0)) {
            do {
              iVar36 = FUN_00113150(local_368,&local_278,1,&local_29c);
              if ((iVar36 == 0) || (local_29c != 1)) {
                FUN_00112fa0("warning: input file missing required padding byte!");
              }
              else if ((char)local_278.tv_sec != '\0') {
                FUN_00112fa0("warning: input file has non-zero padding byte!");
              }
              iVar8 = iVar8 + -1;
            } while (iVar8 != -1);
          }
        }
        iVar36 = 0;
        iVar8 = 0x10000;
        pvVar20 = malloc(0x10000);
        while ((iVar10 = FUN_00113150(local_368,(long)iVar36 + (long)pvVar20,iVar8 - iVar36,
                                      &local_29c), iVar10 != 0 && (local_29c != 0))) {
          iVar36 = iVar36 + local_29c;
          if (iVar8 == iVar36) {
            iVar8 = iVar8 + 0x10000;
            pvVar20 = realloc(pvVar20,(long)iVar8);
          }
        }
        if (iVar36 == 0) {
LAB_0010cce8:
          free(pvVar20);
          FUN_001132f0(local_368);
          goto LAB_0010caaa;
        }
        if (((local_218 & 0x200) == 0) &&
           (iVar8 = WavpackAddWrapper(uVar13,pvVar20,iVar36), iVar8 == 0)) {
          uVar18 = WavpackGetErrorMessage(uVar13);
          FUN_00112fa0("%s",uVar18);
          free(pvVar20);
          FUN_001132f0(local_368);
          local_358 = (byte *)0x0;
          iVar8 = 2;
          goto LAB_0010c682;
        }
        if ((DAT_0011d0a0 == 0) || (iVar36 < 0xb)) goto LAB_0010cce8;
        uVar7 = FUN_00114170(0,pvVar20,iVar36,local_148,&local_278);
        if (DAT_0011d0ac != 0) {
          if ((int)(uint)local_278.tv_sec < 0x1000001) goto LAB_0010cc88;
          FUN_00112fa0("imported tag items exceed 16 MB");
LAB_0010dcdd:
          free(pvVar20);
          FUN_001132f0(local_368);
          iVar8 = 1;
          goto LAB_0010c682;
        }
        if (0x100000 < (int)(uint)local_278.tv_sec) {
          FUN_00112fa0("imported tag items exceed 1 MB, use --allow-huge-tags to override");
          free(pvVar20);
          FUN_001132f0(local_368);
          local_358 = (byte *)0x0;
          iVar8 = 1;
          goto LAB_0010c682;
        }
LAB_0010cc88:
        if (0 < (int)uVar7) {
          uVar7 = FUN_00114170(uVar13,pvVar20,iVar36,local_148,0);
        }
        if ((int)uVar7 < 0) {
          FUN_00112fa0("ID3v2 import: %s",local_148);
          goto LAB_0010dcdd;
        }
        if (uVar7 == 0) {
          free(pvVar20);
          goto LAB_0010caa0;
        }
        free(pvVar20);
        FUN_001132f0(local_368);
        iVar8 = WavpackFlushSamples(uVar13);
        if (iVar8 != 0) goto LAB_0010cad0;
LAB_0010d69e:
        local_358 = (byte *)(ulong)uVar7;
        uVar18 = WavpackGetErrorMessage(uVar13);
        FUN_00112fa0("%s",uVar18);
        iVar8 = 2;
LAB_0010c682:
        iVar36 = FUN_001132f0(local_268._8_8_);
        if (iVar36 == 0) {
          FUN_00112fa0("can\'t close WavPack file!");
        }
LAB_0010c697:
        if (param_3 == (uint *)0x0) {
LAB_0010c6b4:
          if (iVar8 == 0) {
LAB_0010c6c0:
            if (DAT_0011d0bc == 0) {
              if (local_2e0 != 0) {
LAB_0010ceb7:
                iVar8 = rename((char *)local_2f0,(char *)param_2);
                if (iVar8 != 0) {
                  iVar8 = 1;
                  FUN_00112fa0("can not rename temp file %s to %s!",local_2f0,param_2);
                }
                if (param_3 == (uint *)0x0) {
                  free(local_2f0);
                }
                else {
                  iVar36 = rename((char *)local_2f8,(char *)param_3);
                  if (iVar36 != 0) {
                    FUN_00112fa0("can not rename temp file %s to %s!",local_2f8,param_3);
                    free(local_2f0);
                    free(local_2f8);
                    goto LAB_0010b4f8;
                  }
                  free(local_2f0);
                  free(local_2f8);
                }
                if (iVar8 != 0) goto LAB_0010b4f8;
              }
            }
            else {
              iVar8 = WavpackLossyBlocks(uVar13);
              pbVar28 = (byte *)0x0;
              if (iVar8 == 0) {
                pbVar28 = local_168;
              }
              if (local_2e0 != 0) {
                local_2e0 = FUN_0010a420(local_2f0,pbVar28);
                if (local_2e0 != 0) goto LAB_0010d2d6;
                goto LAB_0010ceb7;
              }
              iVar8 = FUN_0010a420(param_2,pbVar28);
              if (iVar8 != 0) goto LAB_0010d4c6;
            }
            if ((DAT_0011d0c4 != 0) &&
               ((iVar8 = FUN_00112b70(param_1,param_2), iVar8 == 0 ||
                ((param_3 != (uint *)0x0 && (iVar8 = FUN_00112b70(param_1,param_3), iVar8 == 0))))))
            {
              FUN_00112fa0("failure copying time stamp!");
            }
            pcVar19 = (char *)0x0;
            if (DAT_0011d0b8 != 0) {
              iVar8 = FUN_00113360(param_1);
              if (DAT_0011d0c0 == 0) {
                pcVar23 = "can\'t delete";
                if (iVar8 != 0) {
                  pcVar23 = "deleted";
                }
              }
              else {
                if (iVar8 != 0) goto LAB_0010c6ff;
                pcVar23 = "can\'t delete";
              }
              FUN_00112fa0("%s source file %s",pcVar23,param_1);
            }
LAB_0010c6ff:
            gettimeofday(&local_278,local_2d8);
            lVar17 = CONCAT44(local_278.tv_sec._4_4_,(uint)local_278.tv_sec);
            if (((local_218 & 0x80000000000000) != 0) &&
               (dVar45 = (double)WavpackGetEncodedNoise(uVar13,0), 0.0 < dVar45)) {
              iVar8 = WavpackGetBitsPerSample(uVar13);
              iVar36 = iVar8 + -1;
              if (iVar8 == 0) {
                local_348 = -0.125;
              }
              else {
                dVar45 = 0.5;
                do {
                  iVar36 = iVar36 + -1;
                  dVar45 = dVar45 + dVar45;
                } while (iVar36 != -1);
                local_348 = dVar45 * (dVar45 - 1.0) * 0.5;
              }
              dVar45 = (double)WavpackGetEncodedNoise(uVar13,&local_298);
              dVar44 = log10(local_298 / local_348);
              lVar25 = WavpackGetNumSamples64(uVar13);
              dVar45 = log10((dVar45 / (double)lVar25) / local_348);
              FUN_00112fa0(dVar45 * 10.0,dVar44 * 10.0,"ave noise = %.2f dB, peak noise = %.2f dB");
            }
            if (DAT_0011d0c0 == 0) {
              local_158 = (undefined  [16])0x0;
              if ((int)local_358 != 0) {
                FUN_00112fa0("successfully imported %d items from ID3v2 tag",local_358);
              }
              if ((local_218 & 0x800000000000000) != 0) {
                local_110[0] = 0;
                pbVar28 = local_168;
                local_118 = 0x3030303030303030;
                builtin_strncpy(local_148,"original md5 signature: ",0x18);
                uStack_130._0_1_ = '0';
                uStack_130._1_1_ = '0';
                uStack_130._2_1_ = '0';
                uStack_130._3_1_ = '0';
                uStack_130._4_1_ = '0';
                uStack_130._5_1_ = '0';
                uStack_130._6_1_ = '0';
                uStack_130._7_1_ = '0';
                builtin_strncpy(local_128,"0000000000000000",0x10);
                puVar30 = &uStack_130;
                do {
                  pcVar19 = (char *)(ulong)*pbVar28;
                  puVar34 = (undefined8 *)((long)puVar30 + 2);
                  pbVar28 = pbVar28 + 1;
                  __sprintf_chk(puVar30,1,0xffffffffffffffff,&DAT_00115061,pcVar19);
                  puVar30 = puVar34;
                } while ((undefined8 *)local_110 != puVar34);
                FUN_00112fa0(local_148);
              }
              puVar16 = param_2;
              if (*(char *)param_2 == '-') {
                pcVar39 = "packed";
                local_360 = (uint *)0x1150c3;
                pcVar23 = "";
                if ((*(char *)param_1 != '-') &&
                   (sVar15 = strlen((char *)param_1), local_360 = param_1, 0x1e < sVar15)) {
                  local_360 = (uint *)FUN_00112df0(param_1);
                }
              }
              else {
                do {
                  puVar26 = puVar16;
                  uVar6 = *puVar26 + 0xfefefeff & ~*puVar26;
                  uVar7 = uVar6 & 0x80808080;
                  puVar16 = puVar26 + 1;
                } while (uVar7 == 0);
                bVar41 = (uVar6 & 0x8080) == 0;
                if (bVar41) {
                  uVar7 = uVar7 >> 0x10;
                }
                if (bVar41) {
                  puVar16 = (uint *)((long)puVar26 + 6);
                }
                local_360 = param_2;
                if (0x1e < (long)puVar16 +
                           ((-3 - (ulong)CARRY1((byte)uVar7,(byte)uVar7)) - (long)param_2)) {
                  local_360 = (uint *)FUN_00112df0(param_2);
                }
                pcVar23 = "";
                pcVar39 = "created (and verified)";
                if (local_248._0_4_ != 0) {
                  pcVar23 = " (+.wvc)";
                }
                if (DAT_0011d0bc == 0) {
                  pcVar39 = "created";
                }
              }
              iVar8 = WavpackLossyBlocks(uVar13);
              if (iVar8 == 0) {
                dVar45 = (double)WavpackGetRatio(uVar13);
                if ((false) || (pcVar19 = "lossless", dVar45 != 0.0)) {
                  dVar45 = (double)WavpackGetRatio(uVar13);
                  __sprintf_chk(100.0 - dVar45 * 100.0,local_158,1,0x10,", %.2f%%");
                  pcVar19 = "lossless";
                }
              }
              else {
                dVar45 = (double)WavpackGetAverageBitrate(uVar13,1);
                if ((false) || (pcVar19 = "lossy", dVar45 != 0.0)) {
                  uVar12 = (undefined4)((ulong)pcVar19 >> 0x20);
                  dVar45 = (double)WavpackGetAverageBitrate(uVar13,1);
                  __sprintf_chk(local_158,1,0x10,", %d kbps",CONCAT44(uVar12,(int)(dVar45 / 1000.0))
                               );
                  pcVar19 = "lossy";
                }
              }
              FUN_00112fa0(((double)local_278.tv_usec / 1000000.0 + (double)lVar17) -
                           ((double)local_288.tv_usec / 1000000.0 + (double)local_288.tv_sec),
                           "%s %s%s in %.2f secs (%s%s)",pcVar39,local_360,pcVar23,pcVar19,local_158
                          );
            }
            WavpackCloseFile(uVar13);
            local_2e0 = 0;
            goto LAB_0010b508;
          }
          bVar41 = local_2e0 == 0;
          local_2e0 = iVar8;
          if (bVar41) {
LAB_0010d4c6:
            FUN_00113360(param_2);
            local_2f8 = param_3;
            local_2e0 = iVar8;
          }
          else {
LAB_0010d2d6:
            FUN_00113360(local_2f0);
          }
          if (param_3 == (uint *)0x0) goto LAB_0010d26b;
        }
        else {
          iVar36 = FUN_001132f0(local_248._8_8_);
          if (iVar36 != 0) goto LAB_0010c6b4;
          FUN_00112fa0("can\'t close correction file!");
          iVar36 = 1;
          if (iVar8 != 0) {
            iVar36 = iVar8;
          }
LAB_0010d238:
          bVar41 = local_2e0 != 0;
          local_2e0 = iVar36;
          if (bVar41) goto LAB_0010d2d6;
LAB_0010d247:
          FUN_00113360(param_2);
          local_2f8 = param_3;
          local_2e0 = iVar36;
        }
LAB_0010d25e:
        FUN_00113360(local_2f8);
      }
      else {
LAB_0010caa0:
        FUN_001132f0(local_368);
LAB_0010caaa:
        uVar7 = WavpackFlushSamples(uVar13);
        if (uVar7 == 0) goto LAB_0010d69e;
        uVar7 = 0;
        uVar6 = DAT_0011d06c;
        if (DAT_0011d06c != 0) {
LAB_0010cad0:
          lVar17 = 0;
          iVar8 = 1;
          if ((int)DAT_0011d06c < 1) {
LAB_0010cb85:
            iVar8 = WavpackWriteTag(uVar13);
            uVar6 = uVar7;
            if (iVar8 != 0) goto LAB_0010cb99;
          }
          else {
            do {
              while( true ) {
                puVar30 = (undefined8 *)(lVar17 * 0x20 + DAT_0011d060);
                if (*(int *)(puVar30 + 3) != 0) break;
                if ((int)DAT_0011d06c <= (int)lVar17 + 1) {
LAB_0010cb81:
                  if (iVar8 != 0) goto LAB_0010cb85;
                  goto LAB_0010cb2b;
                }
                lVar17 = lVar17 + 1;
              }
              if (*(int *)((long)puVar30 + 0x1c) == 0) {
                iVar8 = WavpackAppendTagItem(uVar13,*puVar30,puVar30[1],*(int *)(puVar30 + 3));
              }
              else {
                iVar8 = WavpackAppendBinaryTagItem();
              }
              if ((int)DAT_0011d06c <= (int)lVar17 + 1) goto LAB_0010cb81;
              lVar17 = lVar17 + 1;
            } while (iVar8 != 0);
          }
LAB_0010cb2b:
          uVar18 = WavpackGetErrorMessage(uVar13);
          FUN_00112fa0("%s",uVar18);
          iVar8 = 2;
          local_358 = (byte *)(ulong)uVar7;
          goto LAB_0010c682;
        }
LAB_0010cb99:
        local_358 = (byte *)(ulong)uVar6;
        lVar17 = WavpackGetNumSamples64(uVar13);
        lVar25 = WavpackGetSampleIndex64(uVar13);
        if (lVar17 != lVar25) {
          if ((local_218 & 0x800) == 0) {
            FUN_00112fa0("couldn\'t read all samples, file may be corrupt!!");
            iVar8 = 1;
            goto LAB_0010c682;
          }
          pbVar28 = (byte *)malloc((ulong)(uint)local_268._4_4_);
          if (pbVar28 == (byte *)0x0) {
            FUN_00112fa0("couldn\'t update WavPack header with actual length!!");
            iVar8 = 1;
            goto LAB_0010c682;
          }
          iVar8 = FUN_001132c0(local_268._8_8_,0);
          if (iVar8 != 0) {
LAB_0010cbf2:
            FUN_00112fa0("couldn\'t update WavPack header with actual length!!");
            free(pbVar28);
            iVar8 = 1;
            goto LAB_0010c682;
          }
          iVar8 = FUN_00113150(local_268._8_8_,pbVar28,local_268._4_4_,&local_29c);
          if (iVar8 == 0) goto LAB_0010cbf2;
          bVar41 = (uint)local_268._4_4_ < local_29c;
          bVar42 = local_268._4_4_ == local_29c;
          if (!bVar42) goto LAB_0010cbf2;
          lVar17 = 4;
          pbVar33 = pbVar28;
          pbVar32 = &DAT_00115210;
          do {
            if (lVar17 == 0) break;
            lVar17 = lVar17 + -1;
            bVar41 = *pbVar33 < *pbVar32;
            bVar42 = *pbVar33 == *pbVar32;
            pbVar33 = pbVar33 + (ulong)bVar43 * -2 + 1;
            pbVar32 = pbVar32 + (ulong)bVar43 * -2 + 1;
          } while (bVar42);
          if ((!bVar41 && !bVar42) != bVar41) goto LAB_0010cbf2;
          WavpackUpdateNumSamples(uVar13,pbVar28);
          iVar8 = FUN_001132c0(local_268._8_8_,0);
          if (iVar8 != 0) goto LAB_0010cbf2;
          iVar8 = FUN_001131c0(local_268._8_8_,pbVar28,local_268._4_4_,&local_29c);
          if ((iVar8 == 0) || (local_268._4_4_ != local_29c)) goto LAB_0010cbf2;
          free(pbVar28);
          uVar18 = local_248._8_8_;
          if (local_248._8_8_ == 0) goto LAB_0010d278;
          pcVar19 = (char *)malloc((ulong)(uint)local_248._4_4_);
          if (pcVar19 == (char *)0x0) {
            FUN_00112fa0("couldn\'t update WavPack header with actual length!!");
            iVar8 = 1;
          }
          else {
            iVar8 = FUN_001132c0(uVar18,0);
            if (iVar8 == 0) {
              iVar8 = FUN_00113150(local_248._8_8_,pcVar19,local_248._4_4_,&local_29c);
              if (((iVar8 == 0) || (local_248._4_4_ != local_29c)) ||
                 (iVar8 = strncmp(pcVar19,"wvpk",4), iVar8 != 0)) goto LAB_0010dc0b;
              WavpackUpdateNumSamples(uVar13,pcVar19);
              iVar8 = FUN_001132c0(local_248._8_8_,0);
              if (iVar8 != 0) goto LAB_0010dc0b;
              iVar8 = FUN_001131c0(local_248._8_8_,pcVar19,local_248._4_4_,&local_29c);
              if ((iVar8 == 0) || (local_248._4_4_ != local_29c)) goto LAB_0010dc0b;
              iVar8 = 0;
            }
            else {
LAB_0010dc0b:
              FUN_00112fa0("couldn\'t update WavPack header with actual length!!");
              iVar8 = 1;
            }
            free(pcVar19);
          }
          iVar36 = FUN_001132f0(local_268._8_8_);
          if (iVar36 == 0) goto LAB_0010d28d;
          goto LAB_0010c697;
        }
LAB_0010d278:
        iVar8 = FUN_001132f0(local_268._8_8_);
        if (iVar8 != 0) {
          if (param_3 != (uint *)0x0) {
            iVar8 = FUN_001132f0(local_248._8_8_);
            if (iVar8 != 0) goto LAB_0010c6c0;
            FUN_00112fa0("can\'t close correction file!");
            if (local_2e0 != 0) {
              FUN_00113360(local_2f0);
              goto LAB_0010d25e;
            }
            iVar36 = 1;
            goto LAB_0010d247;
          }
          goto LAB_0010c6c0;
        }
LAB_0010d28d:
        FUN_00112fa0("can\'t close WavPack file!");
        if (param_3 != (uint *)0x0) {
          iVar8 = FUN_001132f0(local_248._8_8_);
          if (iVar8 == 0) {
            FUN_00112fa0("can\'t close correction file!");
            iVar36 = 1;
            goto LAB_0010d238;
          }
          if (local_2e0 != 0) goto LAB_0010d2d6;
          FUN_00113360(param_2);
          local_2e0 = 1;
          local_2f8 = param_3;
          goto LAB_0010d25e;
        }
        if (local_2e0 == 0) {
          FUN_00113360(param_2);
          local_2e0 = 1;
        }
        else {
          FUN_00113360(local_2f0);
        }
      }
LAB_0010d26b:
      WavpackCloseFile(uVar13);
      goto LAB_0010b508;
    }
LAB_0010b2d0:
    iVar8 = FUN_00113150(local_368,local_148,4,&local_29c);
    if ((iVar8 == 0) || (local_29c != 4)) {
      pcVar19 = "can\'t read file %s!";
LAB_0010bef4:
      FUN_00112fa0(pcVar19,param_1);
    }
    else {
      pcVar19 = "RIFF";
      iVar8 = 0;
      puVar38 = &DAT_0011c8e0;
      while (iVar36 = strncmp(local_148,pcVar19,4), iVar36 != 0) {
        iVar8 = iVar8 + 1;
        if (iVar8 == 6) {
          pcVar19 = "%s is not a recognized file type!";
          goto LAB_0010bef4;
        }
        pcVar19 = *(char **)(puVar38 + 0x30);
        puVar38 = puVar38 + 0x28;
      }
      lVar25 = (long)iVar8;
      uVar2 = (&DAT_0011c8e0)[lVar25 * 0x28];
      lVar17 = FUN_00112c30(param_1);
      if (lVar17 == 0) {
        puVar31 = (&PTR_DAT_0011c8f0)[lVar25 * 5];
      }
      else {
        lVar17 = FUN_00112c30(param_1);
        puVar31 = (undefined *)(lVar17 + 1);
      }
      WavpackSetFileInformation(uVar13,puVar31,uVar2);
      iVar8 = (*(code *)(&PTR_FUN_0011c8f8)[lVar25 * 5])
                        (local_368,param_1,local_148,uVar13,&local_228);
      if (iVar8 == 0) {
        local_2c0 = (&DAT_0011c900)[lVar25 * 10];
        uVar7 = (uint)local_218;
        goto LAB_0010b46b;
      }
    }
LAB_0010b4c2:
    FUN_001132f0(local_368);
    FUN_001132f0(local_268._8_8_);
    if (local_2e0 == 0) {
      local_2f0 = param_2;
    }
    FUN_00113360(local_2f0);
  }
  else {
    lVar17 = FUN_00113230(local_368);
    if (lVar17 == 0) {
      if (DAT_0011d098 != 0) {
        pcVar19 = "can\'t skip trailer in raw PCM read from stdin!";
        goto LAB_0010d316;
      }
      uVar7 = (uint)local_218;
      lVar25 = -1;
      local_218 = local_218 | 0x800;
LAB_0010b3e3:
      if ((uVar7 & 0x400) == 0 && (int)local_1f8 == 0) {
        if (uStack_210._4_4_ < 3) {
          local_1f8 = CONCAT44(local_1f8._4_4_,5 - uStack_210._4_4_);
        }
        else if (uStack_210._4_4_ < 0x13) {
          local_1f8 = CONCAT44(local_1f8._4_4_,
                               (1 << ((byte)((ulong)uStack_210 >> 0x20) & 0x1f)) + -1);
        }
        else {
          local_1f8 = CONCAT44(local_1f8._4_4_,0x3ffff);
        }
      }
      iVar8 = WavpackSetConfiguration64(uVar13,&local_228,lVar25,0);
      if (iVar8 != 0) goto LAB_0010ad40;
      uVar18 = WavpackGetErrorMessage(uVar13);
      FUN_00112fa0("%s",uVar18);
    }
    else {
      pcVar19 = "no raw PCM data to encode!";
      lVar17 = lVar17 - (int)(DAT_0011d098 + DAT_0011d09c);
      lVar25 = lVar17 / (long)(uStack_220._4_4_ * uStack_210._4_4_);
      uVar21 = lVar17 % (long)(uStack_220._4_4_ * uStack_210._4_4_);
      if (0 < lVar25) {
        if (uVar21 != 0) {
          FUN_00112fa0("warning: raw PCM infile length does not divide evenly, %d bytes will be discarded"
                       ,uVar21 & 0xffffffff);
        }
        uVar7 = (uint)local_218;
        goto LAB_0010b3e3;
      }
LAB_0010d316:
      FUN_00112fa0(pcVar19);
    }
LAB_0010bfa5:
    FUN_001132f0(local_368);
  }
LAB_0010b4f8:
  WavpackCloseFile(uVar13);
  local_2e0 = 1;
LAB_0010b508:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return local_2e0;
}



FILE * FUN_0010df30(char *param_1)

{
  char *__s;
  int iVar1;
  size_t sVar2;
  char *__filename;
  FILE *pFVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  glob_t local_128;
  stat local_d8;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  glob(param_1,0,(__errfunc *)0x0,&local_128);
  if (local_128.gl_pathc == 0) {
    pFVar3 = (FILE *)0x0;
    globfree(&local_128);
  }
  else {
    uVar4 = 0;
    __filename = (char *)0x0;
    do {
      iVar1 = __xstat(1,local_128.gl_pathv[uVar4],&local_d8);
      if ((iVar1 != -1) && ((local_d8.st_mode & 0xf000) != 0x4000)) {
        if (__filename != (char *)0x0) {
          pFVar3 = (FILE *)0x0;
          free(__filename);
          globfree(&local_128);
          goto LAB_0010e01c;
        }
        __s = local_128.gl_pathv[uVar4];
        sVar2 = strlen(__s);
        __filename = (char *)malloc(sVar2 + 10);
        memcpy(__filename,__s,sVar2 + 1);
      }
      uVar4 = uVar4 + 1;
    } while (uVar4 < local_128.gl_pathc);
    globfree(&local_128);
    if (__filename == (char *)0x0) {
      pFVar3 = (FILE *)0x0;
    }
    else {
      pFVar3 = fopen(__filename,"rb");
      free(__filename);
    }
  }
LAB_0010e01c:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return pFVar3;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



bool FUN_0010e080(FILE *param_1,undefined8 param_2,byte *param_3,undefined8 param_4,long param_5)

{
  ushort uVar1;
  char cVar2;
  int iVar3;
  uint uVar4;
  void *__ptr;
  undefined8 uVar5;
  long lVar6;
  long lVar7;
  uint uVar8;
  ushort uVar9;
  byte *pbVar10;
  byte *pbVar11;
  ulong uVar12;
  long in_FS_OFFSET;
  bool bVar13;
  bool bVar14;
  bool bVar15;
  bool bVar16;
  byte bVar17;
  uint local_d4;
  uint local_ac;
  undefined local_a8 [16];
  long local_98;
  uint local_90;
  undefined4 local_88;
  uint local_84;
  undefined4 local_80;
  undefined local_7c [4];
  byte local_78 [4];
  undefined local_74 [12];
  undefined local_68 [16];
  undefined local_58 [16];
  undefined8 local_48;
  long local_40;
  
  bVar17 = 0;
  lVar6 = 4;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  bVar13 = false;
  bVar15 = true;
  local_90 = 0;
  pbVar10 = param_3;
  pbVar11 = &DAT_00115568;
  do {
    if (lVar6 == 0) break;
    lVar6 = lVar6 + -1;
    bVar13 = *pbVar10 < *pbVar11;
    bVar15 = *pbVar10 == *pbVar11;
    pbVar10 = pbVar10 + 1;
    pbVar11 = pbVar11 + 1;
  } while (bVar15);
  local_48 = 0;
  local_98 = 0;
  local_68 = (undefined  [16])0x0;
  local_58 = (undefined  [16])0x0;
  local_a8 = (undefined  [16])0x0;
  lVar6 = FUN_00113230(param_1);
  if ((((!bVar13 && !bVar15) == bVar13) || (lVar6 < 0x100000000)) ||
     ((*(byte *)(param_5 + 0x11) & 8) != 0)) {
    local_80 = *(undefined4 *)param_3;
    iVar3 = FUN_00113150(param_1,local_7c,8,&local_ac);
    if (iVar3 != 0) {
      bVar14 = local_ac < 8;
      bVar16 = local_ac == 8;
      if (bVar16) {
        lVar7 = 4;
        pbVar10 = local_78;
        pbVar11 = &DAT_0011843c;
        do {
          if (lVar7 == 0) break;
          lVar7 = lVar7 + -1;
          bVar14 = *pbVar10 < *pbVar11;
          bVar16 = *pbVar10 == *pbVar11;
          pbVar10 = pbVar10 + (ulong)bVar17 * -2 + 1;
          pbVar11 = pbVar11 + (ulong)bVar17 * -2 + 1;
        } while (bVar16);
        cVar2 = (!bVar14 && !bVar16) - bVar14;
        local_d4 = (uint)cVar2;
        if (cVar2 == '\0') {
          if (((*(byte *)(param_5 + 0x11) & 2) != 0) ||
             (iVar3 = WavpackAddWrapper(param_4,&local_80,0xc), iVar3 != 0)) {
            bVar14 = false;
LAB_0010e1fd:
            do {
              while( true ) {
                while( true ) {
                  iVar3 = FUN_00113150(param_1,&local_88,8,&local_ac);
                  if ((iVar3 == 0) || (local_ac != 8)) goto LAB_0010e164;
                  if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
                     (iVar3 = WavpackAddWrapper(param_4,&local_88,8), iVar3 == 0))
                  goto LAB_0010e480;
                  WavpackLittleEndianToNative(&local_88,&DAT_0011845e);
                  uVar4 = local_84;
                  if (local_88 != 0x34367364) break;
                  if (local_84 < 0x1c) goto LAB_0010e164;
                  iVar3 = FUN_00113150(param_1,local_a8,0x1c,&local_ac);
                  if ((iVar3 == 0) || (local_ac != 0x1c)) goto LAB_0010e164;
                  if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
                     (iVar3 = WavpackAddWrapper(param_4,local_a8,0x1c), iVar3 == 0))
                  goto LAB_0010e480;
                  WavpackLittleEndianToNative(local_a8,&DAT_00118466);
                  if (DAT_0011d0d8 != 0) {
                    FUN_00112fa0("DS64: riffSize = %lld, dataSize = %lld, sampleCount = %lld, table_length = %d"
                                 ,local_a8._0_8_,local_a8._8_8_,local_98,local_90);
                  }
                  if ((ulong)local_90 * 0xc != (ulong)local_84 - 0x1c) goto LAB_0010e164;
                  uVar4 = local_90 - 1;
                  bVar14 = local_90 != 0;
                  local_90 = uVar4;
                  if (bVar14) {
                    do {
                      iVar3 = FUN_00113150(param_1,local_74,0xc,&local_ac);
                      if (((iVar3 == 0) || (local_ac != 0xc)) ||
                         (((*(byte *)(param_5 + 0x11) & 2) == 0 &&
                          (iVar3 = WavpackAddWrapper(param_4,local_74,0xc), iVar3 == 0))))
                      goto LAB_0010e480;
                      uVar4 = local_90 - 1;
                      bVar14 = local_90 != 0;
                      local_90 = uVar4;
                    } while (bVar14);
                  }
                  bVar14 = true;
                }
                if (local_88 != 0x20746d66) break;
                if ((((local_d4 != 0) || (0x18 < local_84 - 0x10)) ||
                    (iVar3 = FUN_00113150(param_1,local_68,local_84,&local_ac), iVar3 == 0)) ||
                   (local_84 != local_ac)) goto LAB_0010e164;
                if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
                   (iVar3 = WavpackAddWrapper(param_4,local_68), iVar3 == 0)) goto LAB_0010e480;
                WavpackLittleEndianToNative(local_68,"SSLLSSSSLS");
                if (DAT_0011d0d8 == 0) {
LAB_0010e3a7:
                  if ((0x10 < local_84) && (local_58._0_2_ == 2)) {
                    *(uint *)(param_5 + 0x10) = *(uint *)(param_5 + 0x10) | 0x100;
                  }
                }
                else {
                  FUN_00112fa0("format tag size = %d",local_84);
                  FUN_00112fa0("FormatTag = %x, NumChannels = %d, BitsPerSample = %d",local_68._0_2_
                               ,local_68._2_2_,local_68._14_2_);
                  FUN_00112fa0("BlockAlign = %d, SampleRate = %d, BytesPerSecond = %d",
                               local_68._12_2_,local_68._4_4_,local_68._8_4_);
                  if (0x10 < local_84) {
                    FUN_00112fa0("cbSize = %d, ValidBitsPerSample = %d",local_58._0_2_,
                                 local_58._2_2_);
                    if (0x14 < local_84) {
                      FUN_00112fa0("ChannelMask = %x, SubFormat = %d",local_58._4_4_,local_58._8_2_)
                      ;
                    }
                    goto LAB_0010e3a7;
                  }
                }
                if ((local_68._0_2_ == 0xfffe) && (local_84 == 0x28)) {
                  uVar9 = local_58._8_2_;
LAB_0010e623:
                  uVar1 = local_58._2_2_;
                  if (local_58._2_2_ == 0) goto LAB_0010e3db;
                }
                else {
                  uVar9 = local_68._0_2_;
                  if (local_84 == 0x28) goto LAB_0010e623;
LAB_0010e3db:
                  uVar1 = local_68._14_2_;
                }
                *(uint *)(param_5 + 8) = (uint)uVar1;
                if (((uVar9 & 0xfffd) == 1) && (local_d4 = 1, uVar9 == 3)) {
                  local_d4 = (uint)(uVar1 == 0x20);
                }
                if (0xff < (ushort)(local_68._2_2_ - 1)) {
LAB_0010e446:
                  FUN_00112fa0("%s is an unsupported .WAV format!",param_2);
                  bVar16 = true;
                  goto LAB_0010e17c;
                }
                uVar4 = (uint)(ushort)local_68._12_2_ / (uint)(ushort)local_68._2_2_;
                if ((((uVar4 < (uint)((int)(uVar1 + 7) >> 3)) || (4 < (ushort)uVar4)) ||
                    ((ushort)local_68._12_2_ % (ushort)local_68._2_2_ != 0)) ||
                   ((0x1f < uVar1 - 1 || ((local_d4 & 1) == 0)))) goto LAB_0010e446;
                if (local_84 < 0x28) {
                  if ((*(int *)(param_5 + 0x30) == 0) && ((*(byte *)(param_5 + 0x11) & 4) == 0)) {
                    if ((ushort)local_68._2_2_ < 3) {
                      *(uint *)(param_5 + 0x30) = 5 - (uint)(ushort)local_68._2_2_;
                    }
                    else if ((ushort)local_68._2_2_ < 0x13) {
                      *(int *)(param_5 + 0x30) = (1 << (local_68[2] & 0x1f)) + -1;
                    }
                    else {
                      *(undefined4 *)(param_5 + 0x30) = 0x3ffff;
                    }
                  }
                }
                else if (local_58._4_4_ != 0) {
                  if ((*(int *)(param_5 + 0x30) != 0) || ((*(byte *)(param_5 + 0x11) & 4) != 0)) {
                    FUN_00112fa0("this WAV file already has channel order information!");
                    bVar16 = true;
                    goto LAB_0010e17c;
                  }
                  *(undefined4 *)(param_5 + 0x30) = local_58._4_4_;
                }
                iVar3 = DAT_0011d0d8;
                if (uVar9 == 3) goto LAB_0010e810;
                if (((*(byte *)(param_5 + 0x11) & 1) == 0) || ((ushort)uVar4 != 4)) {
LAB_0010e7a1:
                  local_d4 = 1;
                  if (DAT_0011d0d8 != 0) {
                    iVar3 = *(int *)(param_5 + 0x20);
                    if (iVar3 == 0x7f) goto LAB_0010e829;
                    if (iVar3 != 0) goto LAB_0010e849;
                    FUN_00112fa0("data format: %d-bit integers stored in %d byte(s)",uVar1,uVar4);
                  }
                }
                else {
                  if (local_68._14_2_ == 0x18) {
                    *(undefined4 *)(param_5 + 0x20) = 0x96;
                  }
                  else {
                    if (local_68._14_2_ != 0x20) goto LAB_0010e7a1;
                    *(undefined4 *)(param_5 + 0x20) = 0x8e;
                  }
                  if (iVar3 == 0) {
                    local_d4 = 1;
                  }
                  else {
                    iVar3 = *(int *)(param_5 + 0x20);
LAB_0010e849:
                    FUN_00112fa0("data format: 32-bit floating point (Audition %d:%d float type 1)",
                                 iVar3 + -0x7e,0x96 - iVar3);
                    local_d4 = 1;
                  }
                }
              }
              bVar16 = local_88 != 0x61746164;
              uVar12 = (ulong)local_84;
              if (!bVar16) {
                uVar4 = (uint)(ushort)local_68._2_2_;
                if (bVar14) {
                  if (local_84 == 0xffffffff) {
                    uVar12 = local_a8._8_8_;
                  }
                  if (local_68._2_2_ == 0) goto LAB_0010e164;
                }
                else if ((local_68._2_2_ == 0) || ((!bVar13 && !bVar15) == bVar13))
                goto LAB_0010e164;
                uVar8 = *(uint *)(param_5 + 0x10) & 0x800;
                if (lVar6 == 0) {
                  if (uVar8 == 0) goto LAB_0010ea1c;
LAB_0010e971:
                  uVar4 = (uint)(ushort)local_68._2_2_;
                  lVar6 = -1;
                }
                else if (uVar8 == 0) {
                  if (0x1000000 < (long)(lVar6 - uVar12)) {
                    FUN_00112fa0(
                                "this .WAV file has over 16 MB of extra RIFF data, probably is corrupt!"
                                );
                    bVar16 = true;
                    goto LAB_0010e17c;
                  }
LAB_0010ea1c:
                  lVar6 = (long)uVar12 / (long)(ulong)(ushort)local_68._12_2_;
                  if ((bVar14) && (local_98 != lVar6)) goto LAB_0010e164;
                  if (lVar6 == 0) {
                    FUN_00112fa0("this .WAV file has no audio samples, probably is corrupt!");
                    bVar16 = true;
                    goto LAB_0010e17c;
                  }
                  if (0xfffffffeff < lVar6) {
                    FUN_00112fa0("%s has too many samples for WavPack!",param_2);
                    bVar16 = true;
                    goto LAB_0010e17c;
                  }
                }
                else {
                  lVar7 = ftell(param_1);
                  if (lVar7 == -1) {
                    goto LAB_0010e971;
                  }
                  lVar7 = ftell(param_1);
                  lVar6 = (lVar6 - lVar7) / (long)(ulong)(ushort)local_68._12_2_;
                  uVar4 = (uint)(ushort)local_68._2_2_;
                }
                *(uint *)(param_5 + 0x1c) = uVar4;
                *(uint *)(param_5 + 0xc) = (ushort)local_68._12_2_ / uVar4;
                *(undefined4 *)(param_5 + 0x2c) = local_68._4_4_;
                iVar3 = WavpackSetConfiguration64(param_4,param_5,lVar6,0);
                if (iVar3 == 0) {
                  uVar5 = WavpackGetErrorMessage(param_4);
                  FUN_00112fa0("%s: %s",param_2,uVar5);
                  bVar16 = true;
                }
                goto LAB_0010e17c;
              }
              uVar8 = local_84 + 1 & 0xfffffffe;
              if (0x400000 < uVar8) goto LAB_0010e164;
              __ptr = malloc((long)(int)uVar8);
              if (DAT_0011d0d8 != 0) {
                FUN_00112fa0("extra unknown chunk \"%c%c%c%c\" of %d bytes",(int)(char)local_88,
                             (int)local_88._1_1_,(int)local_88._2_1_,(int)local_88._3_1_,uVar4);
              }
              iVar3 = FUN_00113150(param_1,__ptr,uVar8,&local_ac);
              if (((iVar3 == 0) || (uVar8 != local_ac)) ||
                 (((*(byte *)(param_5 + 0x11) & 2) == 0 &&
                  (iVar3 = WavpackAddWrapper(param_4,__ptr,uVar8), iVar3 == 0)))) {
                uVar5 = WavpackGetErrorMessage(param_4);
                FUN_00112fa0("%s",uVar5);
                free(__ptr);
                bVar16 = true;
                goto LAB_0010e17c;
              }
              free(__ptr);
            } while( true );
          }
LAB_0010e480:
          uVar5 = WavpackGetErrorMessage(param_4);
          FUN_00112fa0("%s",uVar5);
          bVar16 = true;
          goto LAB_0010e17c;
        }
      }
    }
LAB_0010e164:
    FUN_00112fa0("%s is not a valid .WAV file!",param_2);
    bVar16 = true;
  }
  else {
    FUN_00112fa0("can\'t handle .WAV files larger than 4 GB (non-standard)!");
    bVar16 = true;
  }
LAB_0010e17c:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return bVar16;
LAB_0010e810:
  *(undefined4 *)(param_5 + 0x20) = 0x7f;
  local_d4 = 1;
  if (iVar3 != 0) {
LAB_0010e829:
    FUN_00112fa0("data format: normalized 32-bit floating point");
    local_d4 = 1;
  }
  goto LAB_0010e1fd;
}



undefined8 FUN_0010eb10(undefined8 param_1,undefined8 param_2,long param_3)

{
  bool bVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  ulong uVar8;
  undefined8 uVar9;
  long lVar10;
  long lVar11;
  undefined2 uVar12;
  long lVar13;
  long in_FS_OFFSET;
  int local_104;
  int local_dc;
  long local_d8;
  long local_d0;
  long local_c8;
  undefined4 local_c0;
  undefined4 local_bc;
  undefined4 local_b8;
  undefined4 local_b4;
  undefined4 local_b0;
  undefined4 local_ac;
  int local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined4 local_9c;
  undefined4 local_98;
  undefined4 local_94;
  undefined local_90 [16];
  undefined8 local_80;
  undefined4 local_78;
  undefined2 local_68;
  short local_66;
  int local_64;
  int local_60;
  short local_5c;
  short local_5a;
  undefined local_58 [4];
  undefined auStack_54 [12];
  undefined8 local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar3 = WavpackGetNumChannels(param_2);
  iVar4 = WavpackGetChannelMask(param_2);
  iVar5 = WavpackGetSampleRate(param_2);
  iVar6 = WavpackGetBytesPerSample(param_2);
  sVar2 = WavpackGetBitsPerSample(param_2);
  iVar7 = WavpackGetFloatNormExp(param_2);
  uVar12 = 1;
  if (iVar7 != 0) {
    iVar7 = WavpackGetFloatNormExp(param_2);
    uVar12 = 3;
    if (iVar7 != 0x7f) {
      FUN_00112fa0("can\'t create valid RIFF wav header for non-normalized floating data!");
      uVar9 = 0;
      goto LAB_0010ee48;
    }
  }
  if (param_3 == -1) {
    param_3 = (long)(int)(0x7ffff000 / (long)(iVar3 * iVar6));
  }
  lVar11 = iVar6 * param_3 * (long)iVar3;
  if (lVar11 < 0xff000001) {
    bVar1 = true;
    iVar7 = DAT_0011d0d8;
    if (DAT_0011d0d8 != 0) {
      iVar7 = 0;
      FUN_00112fa0("total_data_bytes = %lld, so riff",lVar11);
    }
  }
  else if (DAT_0011d0d8 == 0) {
    bVar1 = false;
    iVar7 = 1;
  }
  else {
    iVar7 = 1;
    FUN_00112fa0("total_data_bytes = %lld, so rf64",lVar11);
    bVar1 = false;
  }
  local_66 = (short)iVar3;
  local_5c = (short)iVar6 * local_66;
  local_48 = 0;
  local_60 = iVar5 * iVar3 * iVar6;
  _local_58 = (undefined  [16])0x0;
  if ((iVar3 < 3) && (5 - iVar3 == iVar4)) {
    local_104 = 0x10;
    lVar10 = 0x10;
    local_68 = uVar12;
    local_5a = sVar2;
  }
  else {
    lVar10 = 0x28;
    auStack_54 = SUB1612((undefined  [16])0x0,4);
    local_58._2_2_ = sVar2;
    local_58._0_2_ = 0x16;
    auStack_54._0_4_ = iVar4;
    auStack_54._4_2_ = uVar12;
    local_68 = 0xfffe;
    auStack_54._6_4_ = 0;
    auStack_54[10] = 0x10;
    auStack_54[0xb] = 0;
    local_48 = 0x719b3800aa000080;
    local_104 = 0x28;
    local_5a = (short)iVar6 * 8;
  }
  uVar8 = lVar11 + 1U & 0xfffffffffffffffe;
  if (iVar7 == 0) {
    local_a4 = 0x46464952;
    lVar13 = uVar8 + 0x14;
  }
  else {
    local_a4 = 0x34364652;
    lVar13 = uVar8 + 0x38;
  }
  local_9c = 0x45564157;
  lVar13 = lVar13 + lVar10;
  local_64 = iVar5;
  if (bVar1) {
    lVar13 = lVar13 + 0x24;
    local_ac = 0x20746d66;
    local_b4 = 0x61746164;
    local_a8 = local_104;
    local_80 = 0;
    local_78 = 0;
    local_98 = 0x6b6e756a;
    local_94 = 0x1c;
    local_90 = (undefined  [16])0x0;
    WavpackNativeToLittleEndian(&local_98,&DAT_0011845e);
    if (iVar7 != 0) goto LAB_0010eeb8;
LAB_0010ed75:
    local_a0 = (undefined4)lVar13;
    local_b0 = (undefined4)lVar11;
  }
  else {
    local_a8 = local_104;
    local_ac = 0x20746d66;
    local_b4 = 0x61746164;
    if (iVar7 == 0) goto LAB_0010ed75;
LAB_0010eeb8:
    local_bc = 0x34367364;
    local_b8 = 0x1c;
    local_c0 = 0;
    local_a0 = 0xffffffff;
    local_b0 = 0xffffffff;
    local_d8 = lVar13;
    local_d0 = lVar11;
    local_c8 = param_3;
    WavpackNativeToLittleEndian(&local_bc,&DAT_0011845e);
    WavpackNativeToLittleEndian(&local_d8,&DAT_00118466);
  }
  WavpackNativeToLittleEndian(&local_a4,&DAT_0011845e);
  WavpackNativeToLittleEndian(&local_ac,&DAT_0011845e);
  WavpackNativeToLittleEndian(&local_68,"SSLLSSSSLS");
  WavpackNativeToLittleEndian(&local_b4,&DAT_0011845e);
  iVar3 = FUN_001131c0(param_1,&local_a4,0xc,&local_dc);
  if ((((((iVar3 == 0) || (local_dc != 0xc)) ||
        ((iVar7 != 0 &&
         ((((iVar3 = FUN_001131c0(param_1,&local_bc,8,&local_dc), iVar3 == 0 || (local_dc != 8)) ||
           (iVar3 = FUN_001131c0(param_1,&local_d8,0x1c,&local_dc), iVar3 == 0)) ||
          (local_dc != 0x1c)))))) ||
       ((bVar1 && ((iVar3 = FUN_001131c0(param_1,&local_98,0x24,&local_dc), iVar3 == 0 ||
                   (local_dc != 0x24)))))) ||
      (((iVar3 = FUN_001131c0(param_1,&local_ac,8,&local_dc), iVar3 == 0 ||
        ((local_dc != 8 || (iVar3 = FUN_001131c0(param_1,&local_68,local_104,&local_dc), iVar3 == 0)
         ))) || (local_dc != local_104)))) ||
     ((iVar3 = FUN_001131c0(param_1,&local_b4,8,&local_dc), iVar3 == 0 || (uVar9 = 1, local_dc != 8)
      ))) {
    FUN_00112fa0("can\'t write .WAV data, disk probably full!");
    uVar9 = 0;
  }
LAB_0010ee48:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar9;
}



undefined8
FUN_0010f0e0(FILE *param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,long param_5)

{
  ulong uVar1;
  ushort uVar2;
  int iVar3;
  long lVar4;
  void *__ptr;
  undefined8 uVar5;
  long lVar6;
  ushort uVar7;
  uint uVar8;
  undefined8 uVar9;
  long in_FS_OFFSET;
  bool bVar10;
  uint local_bc;
  char local_b8;
  char cStack_b7;
  char cStack_b6;
  char cStack_b5;
  undefined4 uStack_b4;
  long local_b0;
  ulong local_a8;
  undefined4 local_98;
  undefined4 uStack_94;
  long local_90;
  long local_88;
  long local_80;
  long local_78;
  ushort local_68;
  ushort local_66;
  undefined4 local_64;
  undefined4 local_60;
  ushort local_5c;
  ushort local_5a;
  short local_58;
  ushort local_56;
  int local_54;
  ushort local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar4 = FUN_00113230();
  local_98 = *param_3;
  iVar3 = FUN_00113150(param_1,&uStack_94,0x24,&local_bc);
  uVar1 = local_a8;
  if ((((iVar3 != 0) && (local_bc == 0x24)) &&
      (local_90 == 0xc104db28d6a5 && CONCAT44(uStack_94,local_98) == 0x11cf912e66666972)) &&
     (local_78 == -0x752471b03fff2e74 && local_80 == 0x11d3acf365766177)) {
    if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
       (iVar3 = WavpackAddWrapper(param_4,&local_98,0x28), iVar3 == 0)) {
LAB_0010f838:
      uVar9 = 1;
      uVar5 = WavpackGetErrorMessage(param_4);
      FUN_00112fa0("%s",uVar5);
      goto LAB_0010f163;
    }
    WavpackLittleEndianToNative(&local_98,&DAT_001188c0);
    if (((lVar4 == 0) || (((*(byte *)(param_5 + 0x11) & 8) != 0 || (local_88 + 1U < 2)))) ||
       (uVar1 = local_a8, local_88 == lVar4)) {
      bVar10 = false;
      do {
        while( true ) {
          iVar3 = FUN_00113150(param_1,&local_b8,0x18,&local_bc);
          uVar1 = local_a8;
          if ((iVar3 == 0) || (local_bc != 0x18)) goto LAB_0010f14c;
          if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
             (iVar3 = WavpackAddWrapper(param_4,&local_b8,0x18), iVar3 == 0)) goto LAB_0010f838;
          WavpackLittleEndianToNative(&local_b8,&DAT_001188c0);
          lVar6 = CONCAT44(uStack_b4,
                           CONCAT13(cStack_b5,CONCAT12(cStack_b6,CONCAT11(cStack_b7,local_b8))));
          uVar1 = local_a8 - 0x18;
          if (local_b0 != -0x752471b03fff2e74 || lVar6 != 0x11d3acf320746d66) break;
          if ((((bVar10) ||
               (local_a8 = local_a8 - 0x11 & 0xfffffffffffffff8, uVar1 = local_a8,
               0x18 < local_a8 - 0x10)) ||
              (iVar3 = FUN_00113150(param_1,&local_68,local_a8,&local_bc), uVar1 = local_a8,
              iVar3 == 0)) || (local_bc != local_a8)) goto LAB_0010f14c;
          if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
             (iVar3 = WavpackAddWrapper(param_4,&local_68), iVar3 == 0)) goto LAB_0010f838;
          WavpackLittleEndianToNative(&local_68,"SSLLSSSSLS");
          if (DAT_0011d0d8 == 0) {
LAB_0010f35b:
            if ((0x10 < (long)local_a8) && (local_58 == 2)) {
              *(uint *)(param_5 + 0x10) = *(uint *)(param_5 + 0x10) | 0x100;
            }
          }
          else {
            FUN_00112fa0("format tag size = %d",local_a8);
            FUN_00112fa0("FormatTag = %x, NumChannels = %d, BitsPerSample = %d",local_68,local_66,
                         local_5a);
            FUN_00112fa0("BlockAlign = %d, SampleRate = %d, BytesPerSecond = %d",local_5c,local_64,
                         local_60);
            if (0x10 < (long)local_a8) {
              FUN_00112fa0("cbSize = %d, ValidBitsPerSample = %d",local_58,local_56);
              if (0x14 < (long)local_a8) {
                FUN_00112fa0("ChannelMask = %x, SubFormat = %d",local_54,local_50);
              }
              goto LAB_0010f35b;
            }
          }
          if ((((local_a8 != 0x28) || (uVar7 = local_50, local_68 != 0xfffe)) &&
              (uVar7 = local_68, local_a8 != 0x28)) || (uVar2 = local_56, local_56 == 0)) {
            uVar2 = local_5a;
          }
          *(uint *)(param_5 + 8) = (uint)uVar2;
          bVar10 = false;
          if (((uVar7 & 0xfffd) == 1) && (bVar10 = true, uVar7 == 3)) {
            bVar10 = uVar2 == 0x20;
          }
          if (0xff < (ushort)(local_66 - 1)) {
LAB_0010f403:
            uVar9 = 1;
            FUN_00112fa0("%s is an unsupported .W64 format!",param_2);
            goto LAB_0010f163;
          }
          uVar8 = (uint)local_5c / (uint)local_66;
          if (((uVar8 < (uint)((int)(uVar2 + 7) >> 3)) || (4 < (ushort)uVar8)) ||
             ((local_5c % local_66 != 0 || ((0x1f < uVar2 - 1 || (!bVar10)))))) goto LAB_0010f403;
          if ((long)local_a8 < 0x28) {
            if ((*(int *)(param_5 + 0x30) == 0) && ((*(byte *)(param_5 + 0x11) & 4) == 0)) {
              if (local_66 < 3) {
                *(uint *)(param_5 + 0x30) = 5 - (uint)local_66;
              }
              else if (local_66 < 0x13) {
                *(int *)(param_5 + 0x30) = (1 << ((byte)local_66 & 0x1f)) + -1;
              }
              else {
                *(undefined4 *)(param_5 + 0x30) = 0x3ffff;
              }
            }
LAB_0010f708:
            if (uVar7 == 3) goto LAB_0010f7d4;
LAB_0010f717:
            iVar3 = DAT_0011d0d8;
            if (((*(byte *)(param_5 + 0x11) & 1) == 0) || ((ushort)uVar8 != 4)) {
LAB_0010f729:
              if (DAT_0011d0d8 == 0) goto LAB_0010f74a;
              if (*(int *)(param_5 + 0x20) != 0x7f) goto LAB_0010f739;
              goto LAB_0010f7e5;
            }
            if (local_5a == 0x18) {
              *(undefined4 *)(param_5 + 0x20) = 0x96;
            }
            else {
              if (local_5a != 0x20) goto LAB_0010f729;
              *(undefined4 *)(param_5 + 0x20) = 0x8e;
            }
            if (iVar3 != 0) {
LAB_0010f739:
              FUN_00112fa0("data format: %d-bit integers stored in %d byte(s)",uVar2,uVar8);
            }
LAB_0010f74a:
            bVar10 = true;
          }
          else {
            if (local_54 == 0) goto LAB_0010f708;
            if ((*(int *)(param_5 + 0x30) != 0) || ((*(byte *)(param_5 + 0x11) & 4) != 0)) {
              uVar9 = 1;
              FUN_00112fa0("this W64 file already has channel order information!");
              goto LAB_0010f163;
            }
            *(int *)(param_5 + 0x30) = local_54;
            if (uVar7 != 3) goto LAB_0010f717;
LAB_0010f7d4:
            iVar3 = DAT_0011d0d8;
            *(undefined4 *)(param_5 + 0x20) = 0x7f;
            if (iVar3 == 0) goto LAB_0010f74a;
LAB_0010f7e5:
            FUN_00112fa0("data format: normalized 32-bit floating point");
            bVar10 = true;
          }
        }
        local_a8 = uVar1;
        if (local_b0 == -0x752471b03fff2e74 && lVar6 == 0x11d3acf361746164) {
          uVar8 = (uint)local_66;
          uVar9 = 0;
          if (local_66 != 0) {
            if (((*(uint *)(param_5 + 0x10) & 0x800) == 0) && (0 < (long)uVar1)) {
              if ((lVar4 != 0) && (0x1000000 < (long)(lVar4 - uVar1))) {
                uVar9 = 1;
                FUN_00112fa0(
                            "this .W64 file has over 16 MB of extra RIFF data, probably is corrupt!"
                            );
                goto LAB_0010f163;
              }
              lVar4 = (long)uVar1 / (long)(ulong)local_5c;
              if (lVar4 == 0) {
                uVar9 = 1;
                FUN_00112fa0("this .W64 file has no audio samples, probably is corrupt!");
                goto LAB_0010f163;
              }
              if (0xfffffffeff < lVar4) {
                uVar9 = 1;
                FUN_00112fa0("%s has too many samples for WavPack!",param_2);
                goto LAB_0010f163;
              }
            }
            else {
              *(uint *)(param_5 + 0x10) = *(uint *)(param_5 + 0x10) | 0x800;
              if (lVar4 == 0) {
                lVar4 = -1;
              }
              else {
                lVar6 = ftell(param_1);
                if (lVar6 == -1) {
                  uVar8 = (uint)local_66;
                  lVar4 = -1;
                }
                else {
                  lVar6 = ftell(param_1);
                  lVar4 = (lVar4 - lVar6) / (long)(ulong)local_5c;
                  uVar8 = (uint)local_66;
                }
              }
            }
            *(uint *)(param_5 + 0x1c) = uVar8;
            *(uint *)(param_5 + 0xc) = local_5c / uVar8;
            *(undefined4 *)(param_5 + 0x2c) = local_64;
            iVar3 = WavpackSetConfiguration64(param_4,param_5,lVar4,0);
            if (iVar3 == 0) {
              uVar9 = 1;
              uVar5 = WavpackGetErrorMessage(param_4);
              FUN_00112fa0("%s: %s",param_2,uVar5);
            }
            goto LAB_0010f163;
          }
          break;
        }
        uVar8 = (int)uVar1 + 7U & 0xfffffff8;
        if (0x400000 < uVar8) break;
        __ptr = malloc((long)(int)uVar8);
        if (DAT_0011d0d8 != 0) {
          FUN_00112fa0("extra unknown chunk \"%c%c%c%c\" of %d bytes",(int)local_b8,(int)cStack_b7,
                       (int)cStack_b6,(int)cStack_b5,uVar1);
        }
        iVar3 = FUN_00113150(param_1,__ptr,uVar8,&local_bc);
        if (((iVar3 == 0) || (uVar8 != local_bc)) ||
           (((*(byte *)(param_5 + 0x11) & 2) == 0 &&
            (iVar3 = WavpackAddWrapper(param_4,__ptr,uVar8), iVar3 == 0)))) {
          uVar9 = 1;
          uVar5 = WavpackGetErrorMessage(param_4);
          FUN_00112fa0("%s",uVar5);
          free(__ptr);
          goto LAB_0010f163;
        }
        free(__ptr);
      } while( true );
    }
  }
LAB_0010f14c:
  local_a8 = uVar1;
  uVar9 = 1;
  FUN_00112fa0("%s is not a valid .W64 file!",param_2);
LAB_0010f163:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar9;
}



undefined8 FUN_0010fa00(undefined8 param_1,undefined8 param_2,long param_3)

{
  undefined auVar1 [15];
  undefined2 uVar2;
  short sVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  undefined8 uVar9;
  long lVar10;
  long lVar11;
  long in_FS_OFFSET;
  int local_f0;
  int local_dc;
  undefined8 local_d8;
  undefined8 uStack_d0;
  long local_c8;
  undefined8 local_b8;
  undefined8 uStack_b0;
  undefined8 local_a8;
  undefined8 local_98;
  undefined8 uStack_90;
  long local_88;
  undefined8 local_80;
  undefined8 uStack_78;
  undefined2 local_68;
  short local_66;
  int local_64;
  int local_60;
  short local_5c;
  short local_5a;
  undefined local_58 [16];
  undefined8 local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar4 = WavpackGetNumChannels(param_2);
  iVar5 = WavpackGetChannelMask(param_2);
  iVar6 = WavpackGetSampleRate(param_2);
  iVar7 = WavpackGetBytesPerSample(param_2);
  sVar3 = WavpackGetBitsPerSample(param_2);
  iVar8 = WavpackGetFloatNormExp(param_2);
  uVar2 = 1;
  if (iVar8 != 0) {
    iVar8 = WavpackGetFloatNormExp(param_2);
    uVar2 = 3;
    if (iVar8 != 0x7f) {
      FUN_00112fa0("can\'t create valid Wave64 header for non-normalized floating data!");
      uVar9 = 0;
      goto LAB_0010fc6c;
    }
  }
  local_68 = uVar2;
  if (param_3 == -1) {
    param_3 = (long)(int)(0x7ffff000 / (long)(iVar4 * iVar7));
  }
  local_58 = (undefined  [16])0x0;
  local_48 = 0;
  local_66 = (short)iVar4;
  lVar10 = iVar7 * param_3 * (long)iVar4;
  local_5c = (short)iVar7 * local_66;
  local_60 = iVar6 * iVar4 * iVar7;
  if ((iVar4 < 3) && (5 - iVar4 == iVar5)) {
    local_f0 = 0x10;
    local_a8 = 0x28;
    lVar11 = 0x10;
    local_5a = sVar3;
  }
  else {
    local_58._0_14_ = SUB1614((undefined  [16])0x0,0);
    local_58[0xe] = 0x10;
    auVar1 = local_58._0_15_;
    local_58._2_2_ = sVar3;
    local_58._0_2_ = 0x16;
    local_58._4_4_ = iVar5;
    local_f0 = 0x28;
    local_58._8_2_ = local_68;
    local_58._10_5_ = auVar1._10_5_;
    local_58[0xf] = 0;
    local_68 = 0xfffe;
    local_a8 = 0x40;
    local_48 = 0x719b3800aa000080;
    lVar11 = 0x28;
    local_5a = (short)iVar7 * 8;
  }
  local_c8 = lVar10 + 0x18;
  local_98 = 0x11cf912e66666972;
  uStack_90 = 0xc104db28d6a5;
  local_88 = lVar11 + 0x58 + (lVar10 + 7U & 0xfffffffffffffff8);
  local_80 = 0x11d3acf365766177;
  uStack_78 = 0x8adb8e4fc000d18c;
  local_b8 = 0x11d3acf320746d66;
  uStack_b0 = 0x8adb8e4fc000d18c;
  local_d8 = 0x11d3acf361746164;
  uStack_d0 = 0x8adb8e4fc000d18c;
  local_64 = iVar6;
  WavpackNativeToLittleEndian(&local_98,&DAT_001188c0);
  WavpackNativeToLittleEndian(&local_b8,&DAT_001188c0);
  WavpackNativeToLittleEndian(&local_68,"SSLLSSSSLS");
  WavpackNativeToLittleEndian(&local_d8,&DAT_001188c0);
  iVar4 = FUN_001131c0(param_1,&local_98,0x28,&local_dc);
  if ((iVar4 != 0) && (local_dc == 0x28)) {
    iVar4 = FUN_001131c0(param_1,&local_b8,0x18,&local_dc);
    if ((iVar4 != 0) && (local_dc == 0x18)) {
      iVar4 = FUN_001131c0(param_1,&local_68,local_f0,&local_dc);
      if ((iVar4 != 0) && (local_f0 == local_dc)) {
        iVar4 = FUN_001131c0(param_1,&local_d8,0x18,&local_dc);
        if ((iVar4 != 0) && (local_dc == 0x18)) {
          uVar9 = 1;
          goto LAB_0010fc6c;
        }
      }
    }
  }
  FUN_00112fa0("can\'t write .W64 data, disk probably full!");
  uVar9 = 0;
LAB_0010fc6c:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar9;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



// WARNING: Restarted to delay deadcode elimination for space: stack

undefined8
FUN_0010fd80(FILE *param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,long param_5)

{
  undefined4 uVar1;
  double dVar2;
  int iVar3;
  int iVar4;
  long lVar5;
  void *__ptr;
  undefined8 uVar6;
  uint *__ptr_00;
  uint *puVar7;
  ulong uVar8;
  long lVar9;
  uint uVar10;
  char *pcVar11;
  char *pcVar12;
  uint uVar13;
  uint *puVar14;
  uint uVar15;
  char cVar16;
  undefined8 uVar17;
  size_t __size;
  long in_FS_OFFSET;
  bool bVar18;
  char *local_e0;
  char *local_d8;
  uint local_d0;
  uint local_cc;
  uint local_94;
  undefined local_90 [4];
  undefined4 local_8c;
  short local_88 [2];
  undefined4 local_84;
  ulong local_80;
  double local_78;
  int local_70;
  uint local_6c;
  uint local_68;
  int local_64;
  uint local_60;
  int local_5c;
  ulong local_49;
  undefined local_41;
  long local_40;
  
  local_84 = CONCAT13(local_84._3_1_,
                      CONCAT12(local_84._2_1_,CONCAT11(local_84._1_1_,(char)local_84)));
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar5 = FUN_00113230();
  local_8c = *param_3;
  iVar3 = FUN_00113150(param_1,local_88,4,&local_94);
  if ((iVar3 == 0) || (local_94 != 4)) {
LAB_0010fded:
    uVar17 = 1;
    FUN_00112fa0("%s is not a valid .CAF file!",param_2);
  }
  else if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
          (iVar3 = WavpackAddWrapper(param_4,&local_8c,8), iVar3 == 0)) {
LAB_00110048:
    uVar17 = 1;
    uVar6 = WavpackGetErrorMessage(param_4);
    FUN_00112fa0("%s",uVar6);
  }
  else {
    WavpackBigEndianToNative(&local_8c,&DAT_00118adc);
    if (local_88[0] == 1) {
      local_d8 = (char *)0x0;
      local_e0 = (char *)0x0;
      local_cc = 0;
      bVar18 = false;
LAB_0010fe8c:
      while( true ) {
        iVar3 = FUN_00113150(param_1,&local_84,0xc,&local_94);
        if ((iVar3 == 0) || (local_94 != 0xc)) goto LAB_0010fded;
        if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
           (iVar3 = WavpackAddWrapper(param_4,&local_84,0xc), iVar3 == 0)) goto LAB_00110048;
        WavpackBigEndianToNative(&local_84,&DAT_00118ae0);
        uVar8 = local_80;
        if (local_84 != 0x63736564) break;
        if (local_80 != 0x20) goto LAB_0010fded;
        iVar3 = FUN_00113150(param_1,&local_78,0x20,&local_94);
        if ((iVar3 == 0) || (local_94 != local_80)) goto LAB_0010fded;
        if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
           (iVar3 = WavpackAddWrapper(param_4,&local_78), iVar3 == 0)) goto LAB_00110048;
        WavpackBigEndianToNative(&local_78,&DAT_00118ae8);
        if (DAT_0011d0d8 != 0) {
          local_49 = CONCAT44((int)(local_49 >> 0x20),local_70) & 0xffffff00ffffffff;
          FUN_00112fa0(local_78,"format = %s, flags = %x, sampling rate = %g",&local_49,local_6c);
          FUN_00112fa0("packet = %d bytes and %d frames",local_68,local_64);
          FUN_00112fa0("channels per frame = %d, bits per channel = %d",local_60,local_5c);
        }
        if ((((local_70 != 0x6d63706c) || (iVar3 = 0, (local_6c & 0xfffffffc) != 0)) ||
            (local_78 < 1.0)) || (16777215.0 < local_78)) {
LAB_00110011:
          uVar17 = 1;
          FUN_00112fa0("%s is an unsupported .CAF format!",param_2);
          goto LAB_0010fe05;
        }
        dVar2 = local_78;
        if (ABS(local_78) < 4503599627370496.0) {
          dVar2 = (double)((ulong)((double)(long)local_78 -
                                  (double)(-(ulong)(local_78 < (double)(long)local_78) &
                                          0x3ff0000000000000)) |
                          (ulong)local_78 & 0x8000000000000000);
        }
        if (((false) || (local_78 != dVar2)) || ((0xff < local_60 - 1 || (0x1f < local_5c - 1U))))
        goto LAB_00110011;
        if (((local_5c != 0x20) && ((local_6c & 1) != 0)) || (local_64 != 1)) goto LAB_00110011;
        uVar15 = (uint)((ulong)local_68 / (ulong)local_60);
        if (((uVar15 < local_5c + 7U >> 3) || (4 < uVar15)) || (local_68 % local_60 != 0))
        goto LAB_00110011;
        *(uint *)(param_5 + 0x1c) = local_60;
        if ((local_6c & 1) != 0) {
          iVar3 = 0x7f;
        }
        *(uint *)(param_5 + 0xc) = uVar15;
        *(int *)(param_5 + 8) = local_5c;
        *(int *)(param_5 + 0x20) = iVar3;
        *(int *)(param_5 + 0x2c) = (int)local_78;
        if ((local_6c & 2) == 0) {
          uVar13 = *(uint *)(param_5 + 0x10);
          if (uVar15 == 1) {
LAB_00110418:
            *(uint *)(param_5 + 0x10) = uVar13 | 2;
          }
          else {
            *(uint *)(param_5 + 0x10) = uVar13 | 1;
          }
        }
        else if (uVar15 == 1) {
          uVar13 = *(uint *)(param_5 + 0x10);
          goto LAB_00110418;
        }
        if (DAT_0011d0d8 != 0) {
          uVar15 = *(uint *)(param_5 + 0x10) & 1;
          if (iVar3 == 0x7f) {
            pcVar11 = "big";
            if (uVar15 == 0) {
              pcVar11 = "little";
            }
            FUN_00112fa0("data format: 32-bit %s-endian floating point",pcVar11);
          }
          else {
            pcVar11 = "big";
            if (uVar15 == 0) {
              pcVar11 = "little";
            }
            FUN_00112fa0("data format: %d-bit %s-endian integers stored in %d byte(s)",local_5c,
                         pcVar11,(ulong)local_68 / (ulong)local_60);
          }
        }
      }
      if (local_84 != 0x6e616863) {
        if (local_84 == 0x61746164) {
          uVar17 = 0;
          iVar3 = FUN_00113150(param_1,local_90,4,&local_94);
          if ((iVar3 == 0) || (local_94 != 4)) {
            FUN_00112fa0("%s is not a valid .CAF file!",param_2);
          }
          else {
            uVar15 = *(uint *)(param_5 + 0x10);
            if ((uVar15 & 0x200) == 0) {
              iVar3 = WavpackAddWrapper(param_4,local_90,4);
              if (iVar3 == 0) {
                uVar17 = WavpackGetErrorMessage(param_4);
                FUN_00112fa0("%s",uVar17);
                goto LAB_001106d5;
              }
              uVar15 = *(uint *)(param_5 + 0x10);
            }
            if (((uVar15 & 0x800) == 0) && (local_80 != 0xffffffffffffffff)) {
              if ((lVar5 == 0) || ((long)(lVar5 - local_80) < 0x1000001)) {
                lVar5 = (long)(local_80 - 4) / (long)(ulong)local_68;
                if ((long)(local_80 - 4) % (long)(ulong)local_68 == 0) {
                  if (lVar5 == 0) {
                    FUN_00112fa0("this .CAF file has no audio samples, probably is corrupt!");
                  }
                  else {
                    if (lVar5 < 0xffffffff00) goto LAB_00110563;
                    FUN_00112fa0("%s has too many samples for WavPack!",param_2);
                  }
                }
                else {
                  FUN_00112fa0(".CAF file %s has an invalid data chunk size, probably is corrupt!",
                               param_2);
                }
              }
              else {
                FUN_00112fa0(".CAF file %s has over 16 MB of extra CAFF data, probably is corrupt!",
                             param_2);
              }
            }
            else {
              *(uint *)(param_5 + 0x10) = uVar15 | 0x800;
              if ((lVar5 == 0) || (lVar9 = ftell(param_1), lVar9 == -1)) {
                lVar5 = -1;
              }
              else {
                lVar9 = ftell(param_1);
                lVar5 = (lVar5 - lVar9) / (long)(ulong)local_68;
              }
LAB_00110563:
              if ((((!bVar18) && (*(int *)(param_5 + 0x30) == 0)) && (*(int *)(param_5 + 0x1c) < 3))
                 && ((*(byte *)(param_5 + 0x11) & 4) == 0)) {
                *(int *)(param_5 + 0x30) = 5 - *(int *)(param_5 + 0x1c);
              }
              iVar3 = WavpackSetConfiguration64(param_4,param_5,lVar5,local_e0);
              if (iVar3 == 0) goto LAB_00110048;
              if (local_e0 != (char *)0x0) {
                free(local_e0);
              }
              if ((local_cc == 0) && (local_d8 == (char *)0x0)) goto LAB_0010fe05;
              iVar3 = WavpackSetChannelLayout(param_4,local_cc,local_d8);
              if (iVar3 != 0) {
                if (local_d8 != (char *)0x0) {
                  free(local_d8);
                }
                goto LAB_0010fe05;
              }
              FUN_00112fa0("problem with setting channel layout (should not happen)");
            }
          }
LAB_001106d5:
          uVar17 = 1;
          goto LAB_0010fe05;
        }
        if (0x100000 < local_80) goto LAB_0010fded;
        __ptr = malloc(local_80);
        if (DAT_0011d0d8 != 0) {
          FUN_00112fa0("extra unknown chunk \"%c%c%c%c\" of %d bytes",(int)(char)local_84,
                       (int)local_84._1_1_,(int)local_84._2_1_);
        }
        iVar3 = FUN_00113150(param_1,__ptr,uVar8 & 0xffffffff,&local_94);
        if (((iVar3 == 0) || (local_94 != (uint)uVar8)) ||
           (((*(byte *)(param_5 + 0x11) & 2) == 0 &&
            (iVar3 = WavpackAddWrapper(param_4,__ptr,uVar8 & 0xffffffff), iVar3 == 0)))) {
          uVar17 = WavpackGetErrorMessage(param_4);
          FUN_00112fa0("%s",uVar17);
          uVar17 = 1;
          free(__ptr);
          goto LAB_0010fe05;
        }
        free(__ptr);
        goto LAB_0010fe8c;
      }
      if (0x3f4 < local_80 - 0xc) {
        uVar17 = 1;
        FUN_00112fa0("this .CAF file has an invalid \'chan\' chunk!");
        goto LAB_0010fe05;
      }
      if (DAT_0011d0d8 != 0) {
        FUN_00112fa0("\'chan\' chunk is %d bytes",local_80 & 0xffffffff);
      }
      uVar8 = local_80;
      __ptr_00 = (uint *)malloc(local_80);
      iVar3 = FUN_00113150(param_1,__ptr_00,uVar8 & 0xffffffff,&local_94);
      if ((iVar3 == 0) || (local_94 != local_80)) {
        pcVar11 = "%s is not a valid .CAF file!";
      }
      else {
        if (((*(byte *)(param_5 + 0x11) & 2) != 0) ||
           (iVar3 = WavpackAddWrapper(param_4,__ptr_00), iVar3 != 0)) {
          WavpackBigEndianToNative(__ptr_00,&DAT_00118aec);
          iVar3 = DAT_0011d0d8;
          if ((*(int *)(param_5 + 0x30) != 0) ||
             (uVar15 = *(uint *)(param_5 + 0x10), (uVar15 & 0x400) != 0)) {
            pcVar11 = "this CAF file already has channel order information!";
LAB_00110a0b:
            uVar17 = 1;
            FUN_00112fa0(pcVar11);
            free(__ptr_00);
            goto LAB_0010fe05;
          }
          uVar13 = *__ptr_00;
          if (uVar13 == 0) {
            local_d0 = __ptr_00[2];
            __size = (size_t)(int)local_d0;
            if ((local_80 != __size * 0x14 + 0xc) || (*(uint *)(param_5 + 0x1c) != local_d0)) {
              pcVar11 = "channel descriptions in \'chan\' chunk are the wrong size!";
              goto LAB_00110a0b;
            }
            if ((int)local_d0 < 0x100) {
              puVar14 = __ptr_00 + 3;
              local_d8 = (char *)malloc(__size);
              memset(local_d8,-1,__size);
              local_e0 = (char *)malloc((long)(int)(local_d0 + 1));
              if (0 < (int)local_d0) {
                uVar15 = 0;
                puVar7 = puVar14;
                do {
                  uVar15 = uVar15 + 1;
                  WavpackBigEndianToNative(puVar7,&DAT_00118aea);
                  if (DAT_0011d0d8 != 0) {
                    FUN_00112fa0("chan %d --> %d",uVar15,*puVar7);
                  }
                  puVar7 = puVar7 + 5;
                } while (local_d0 != uVar15);
              }
              cVar16 = '\0';
              uVar15 = 1;
              do {
                puVar7 = puVar14;
                uVar8 = 0;
                if (0 < (int)local_d0) {
                  do {
                    if (*puVar7 == uVar15) {
                      *(uint *)(param_5 + 0x30) =
                           *(uint *)(param_5 + 0x30) | 1 << ((char)uVar15 - 1U & 0x1f);
                      local_d8[uVar8] = cVar16;
                      cVar16 = cVar16 + '\x01';
                      break;
                    }
                    puVar7 = puVar7 + 5;
                    bVar18 = local_d0 - 1 != uVar8;
                    uVar8 = uVar8 + 1;
                  } while (bVar18);
                }
                uVar15 = uVar15 + 1;
              } while (uVar15 != 0x13);
              iVar3 = 0;
              uVar15 = 0;
              if (0 < (int)local_d0) {
                iVar3 = 0;
                pcVar11 = local_d8;
                do {
                  if (*pcVar11 == -1) {
                    uVar15 = *puVar14;
                    lVar9 = (long)iVar3;
                    iVar3 = iVar3 + 1;
                    pcVar12 = local_e0 + lVar9;
                    if ((uVar15 - 1 < 0xfffffffe) && (uVar15 != 100)) {
                      if (((uVar15 - 0x21 < 0xc) || (uVar15 - 200 < 8)) || (uVar15 - 0x12d < 5)) {
                        uVar13 = uVar15 - 0x50;
                        if (uVar15 < 0x12d) {
                          uVar13 = uVar15;
                        }
                        *pcVar12 = (char)uVar13;
                      }
                      else {
                        FUN_00112fa0("warning: unknown channel descriptions label: %d");
                        *pcVar12 = -1;
                      }
                    }
                    else {
                      *pcVar12 = -1;
                    }
                    *pcVar11 = cVar16;
                    cVar16 = cVar16 + '\x01';
                  }
                  pcVar11 = pcVar11 + 1;
                  puVar14 = puVar14 + 5;
                } while (local_d8 + (ulong)(local_d0 - 1) + 1 != pcVar11);
                uVar8 = 0;
                do {
                  uVar15 = (uint)uVar8;
                  if ((byte)local_d8[uVar8] != uVar15) break;
                  uVar15 = (byte)local_d8[uVar8] + 1;
                  bVar18 = local_d0 - 1 != uVar8;
                  uVar8 = uVar8 + 1;
                } while (bVar18);
              }
              if (local_d0 == uVar15) {
                free(local_d8);
                local_d8 = (char *)0x0;
              }
              else {
                *(uint *)(param_5 + 0x10) = *(uint *)(param_5 + 0x10) | 8;
                local_cc = local_d0;
              }
              if (iVar3 == 0) {
                free(local_e0);
                local_e0 = (char *)0x0;
              }
              else {
                local_e0[iVar3] = '\0';
              }
              if (((DAT_0011d0d8 != 0) &&
                  (FUN_00112fa0("layout_tag = 0x%08x, so generated bitmap of 0x%08x from %d descriptions, %d non-MS"
                                ,*__ptr_00,*(undefined4 *)(param_5 + 0x30),__ptr_00[2]),
                  local_d8 != (char *)0x0)) && ((int)local_d0 < 9)) {
                local_41 = 0;
                local_49 = 0x3837363534333231;
                if ((int)local_d0 < 1) {
                  local_d0 = 0;
                }
                else {
                  lVar9 = 0;
                  do {
                    *(char *)((long)&local_49 + lVar9) = local_d8[lVar9] + '1';
                    lVar9 = lVar9 + 1;
                  } while ((int)lVar9 < (int)local_d0);
                }
                *(undefined *)((long)&local_49 + (long)(int)local_d0) = 0;
                FUN_00112fa0("reordering string = \"%s\"\n",&local_49);
              }
            }
            else {
              FUN_00112fa0("%d channel descriptions is more than we can handle...ignoring!");
            }
          }
          else {
            uVar10 = 0x640001;
            iVar4 = 0;
            puVar14 = &DAT_0011c2d8;
            if (uVar13 == 0x10000) {
              *(uint *)(param_5 + 0x30) = __ptr_00[1];
              if (iVar3 != 0) {
                FUN_00112fa0("layout_tag = 0x%08x, so using supplied bitmap of 0x%08x",0x10000);
              }
            }
            else {
              while (uVar13 != uVar10) {
                iVar4 = iVar4 + 1;
                if (iVar4 == 0x2f) {
                  if (DAT_0011d0d8 != 0) {
                    FUN_00112fa0("layout_tag 0x%08x not found in table...all channels unassigned");
                  }
                  goto LAB_00110181;
                }
                uVar10 = *puVar14;
                puVar14 = puVar14 + 6;
              }
              lVar9 = (long)iVar4 * 0x18;
              uVar1 = *(undefined4 *)(&DAT_0011c2c4 + lVar9);
              pcVar11 = *(char **)(&DAT_0011c2c8 + lVar9);
              *(undefined4 *)(param_5 + 0x30) = uVar1;
              if (pcVar11 != (char *)0x0) {
                local_d8 = strdup(pcVar11);
                *(uint *)(param_5 + 0x10) = uVar15 | 8;
              }
              if (*(char **)(&DAT_0011c2d0 + (long)iVar4 * 0x18) != (char *)0x0) {
                local_e0 = strdup(*(char **)(&DAT_0011c2d0 + (long)iVar4 * 0x18));
              }
              local_cc = uVar10;
              if (DAT_0011d0d8 != 0) {
                pcVar11 = "no";
                if (local_d8 != (char *)0x0) {
                  pcVar11 = "yes";
                }
                FUN_00112fa0("layout_tag 0x%08x found in table, bitmap = 0x%08x, reorder = %s, identities = %s"
                             ,uVar10,uVar1,pcVar11);
              }
            }
          }
LAB_00110181:
          free(__ptr_00);
          bVar18 = true;
          goto LAB_0010fe8c;
        }
        param_2 = WavpackGetErrorMessage(param_4);
        pcVar11 = "%s";
      }
      uVar17 = 1;
      FUN_00112fa0(pcVar11,param_2);
      free(__ptr_00);
      goto LAB_0010fe05;
    }
    uVar17 = 1;
    FUN_00112fa0("%s: can\'t handle version %d .CAF files!",param_2);
  }
LAB_0010fe05:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar17;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



undefined4 FUN_00110c20(undefined8 param_1,undefined8 param_2,long param_3,uint param_4)

{
  char cVar1;
  byte bVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  char *__ptr;
  char *pcVar11;
  void *__ptr_00;
  ulong uVar12;
  uint uVar13;
  long in_FS_OFFSET;
  bool bVar14;
  long local_d0;
  undefined4 local_bc;
  int local_b8;
  undefined8 local_b4;
  int local_ac;
  undefined4 local_a8;
  undefined4 local_a4;
  undefined4 local_a0;
  undefined8 local_9c;
  undefined4 local_94;
  long local_90;
  undefined local_88 [16];
  undefined4 local_78;
  double local_68;
  undefined4 local_60;
  uint local_5c;
  int local_58;
  undefined4 local_54;
  int local_50;
  undefined4 local_4c;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar3 = WavpackGetNumChannels(param_2);
  uVar4 = WavpackGetChannelMask(param_2);
  iVar5 = WavpackGetSampleRate(param_2);
  iVar6 = WavpackGetBytesPerSample(param_2);
  uVar7 = WavpackGetBitsPerSample(param_2);
  iVar8 = WavpackGetFloatNormExp(param_2);
  uVar9 = WavpackGetChannelLayout(param_2,0);
  __ptr = (char *)malloc((long)(iVar3 + 1));
  bVar14 = iVar8 != 0;
  if ((iVar8 != 0x7f) && (bVar14)) {
    uVar7 = 0;
    FUN_00112fa0("can\'t create valid CAFF header for non-normalized floating data!");
    free(__ptr);
    goto LAB_00110d88;
  }
  WavpackGetChannelIdentities(param_2,__ptr);
  if (iVar3 < 1) {
    iVar8 = 0;
  }
  else {
    iVar8 = 0;
    pcVar11 = __ptr;
    do {
      cVar1 = *pcVar11;
      pcVar11 = pcVar11 + 1;
      iVar8 = iVar8 + (uint)(cVar1 != -1);
    } while (__ptr + (ulong)(iVar3 - 1) + 1 != pcVar11);
  }
  local_a8 = 0x66666163;
  local_a4 = 1;
  WavpackNativeToBigEndian(&local_a8,&DAT_00118adc);
  iVar10 = FUN_001131c0(param_1,&local_a8,8,&local_b8);
  if ((iVar10 != 0) && (local_b8 == 8)) {
    local_a0 = 0x63736564;
    local_9c = 0x20;
    WavpackNativeToBigEndian(&local_a0,&DAT_00118ae0);
    iVar10 = FUN_001131c0(param_1,&local_a0,0xc,&local_b8);
    if ((iVar10 != 0) && (local_b8 == 0xc)) {
      local_60 = 0x6d63706c;
      local_68 = (double)iVar5;
      local_54 = 1;
      local_5c = (uint)bVar14;
      if ((param_4 & 1) == 0) {
        local_5c = bVar14 | 2;
      }
      local_58 = iVar6 * iVar3;
      local_50 = iVar3;
      local_4c = uVar7;
      WavpackNativeToBigEndian(&local_68,&DAT_00118ae8);
      iVar5 = FUN_001131c0(param_1,&local_68,0x20,&local_b8);
      if ((iVar5 != 0) && (local_b8 == 0x20)) {
        if (uVar9 == 0) {
          if (iVar3 < 3) {
            if (5U - iVar3 != uVar4) goto LAB_00110fb1;
          }
          else if (iVar8 != 0) goto LAB_00110fb1;
        }
        else {
LAB_00110fb1:
          uVar13 = 1;
          iVar5 = 0;
          do {
            iVar5 = (iVar5 + 1) - (uint)((uVar4 & uVar13) == 0);
            uVar13 = uVar13 * 2;
          } while (uVar13 != 0);
          if ((uVar9 & 0xff0000) != 0) {
LAB_001111bf:
            local_94 = 0x6e616863;
            local_90 = 0xc;
            WavpackNativeToBigEndian(&local_94,&DAT_00118ae0);
            iVar5 = FUN_001131c0(param_1,&local_94,0xc,&local_b8);
            if ((iVar5 != 0) && (local_b8 == 0xc)) {
              if (uVar9 == 0) {
                if (DAT_0011d0d8 != 0) {
                  FUN_00112fa0("writing \"chan\" chunk with UseChannelBitmap tag, bitmap = 0x%08x",
                               uVar4);
                }
                local_b4 = CONCAT44(uVar4,0x10000);
              }
              else {
                if (DAT_0011d0d8 != 0) {
                  FUN_00112fa0("writing \"chan\" chunk with layout tag 0x%08x",uVar9);
                }
                local_b4 = (ulong)uVar9;
              }
              local_ac = 0;
              WavpackNativeToBigEndian(&local_b4,&DAT_00118aec);
              iVar5 = FUN_001131c0(param_1,&local_b4,0xc,&local_b8);
              if ((iVar5 != 0) && (local_b8 == 0xc)) goto LAB_00110ed7;
            }
            goto LAB_00110d85;
          }
          if (iVar5 == iVar3) {
            if ((param_4 & 8) == 0) goto LAB_001111bf;
            pcVar11 = "yes";
            if (DAT_0011d0d8 != 0) goto LAB_0011100b;
LAB_0011129b:
            __ptr_00 = (void *)0x0;
            if ((int)(uVar9 & 0xff) <= iVar3) {
              __ptr_00 = malloc((long)iVar3);
              uVar12 = 0;
              if (iVar3 != 0) {
                do {
                  *(char *)((long)__ptr_00 + uVar12) = (char)uVar12;
                  bVar14 = uVar12 != iVar3 - 1;
                  uVar12 = uVar12 + 1;
                } while (bVar14);
              }
              WavpackGetChannelLayout(param_2,__ptr_00);
            }
          }
          else {
            if (DAT_0011d0d8 != 0) {
              pcVar11 = "yes";
              if ((param_4 & 8) == 0) {
                pcVar11 = "no";
              }
LAB_0011100b:
              FUN_00112fa0("writing \"chan\" chunk with UseChannelDescriptions tag, bitmap = 0x%08x, reordered = %s"
                           ,uVar4,pcVar11);
            }
            __ptr_00 = (void *)0x0;
            if ((param_4 & 8) != 0) goto LAB_0011129b;
          }
          local_90 = (long)iVar3 * 0x14 + 0xc;
          local_94 = 0x6e616863;
          WavpackNativeToBigEndian(&local_94,&DAT_00118ae0);
          iVar5 = FUN_001131c0(param_1,&local_94,0xc,&local_b8);
          uVar7 = 0;
          if ((iVar5 == 0) || (local_b8 != 0xc)) goto LAB_00110d88;
          local_b4 = 0;
          local_ac = iVar3;
          WavpackNativeToBigEndian(&local_b4,&DAT_00118aec);
          iVar5 = FUN_001131c0(param_1,&local_b4,0xc,&local_b8);
          if ((iVar5 == 0) || (local_b8 != 0xc)) goto LAB_00110d88;
          if (0 < iVar3) {
            uVar12 = 1;
            do {
              if (__ptr_00 == (void *)0x0) {
                bVar2 = __ptr[uVar12 - 1];
              }
              else {
                bVar2 = __ptr[*(byte *)((long)__ptr_00 + (uVar12 - 1))];
              }
              uVar4 = (uint)bVar2;
              local_78 = 0;
              local_88 = (undefined  [16])0x0;
              if ((((byte)(bVar2 - 1) < 0x12) || ((byte)(bVar2 - 0x21) < 0xc)) ||
                 ((byte)(bVar2 + 0x38) < 8)) {
LAB_00111194:
                local_88._4_12_ = SUB1612((undefined  [16])0x0,4);
                local_88._0_4_ = uVar4;
              }
              else if ((byte)(bVar2 + 0x23) < 5) {
                uVar4 = uVar4 + 0x50;
                goto LAB_00111194;
              }
              if (DAT_0011d0d8 != 0) {
                FUN_00112fa0("chan %d --> %d",uVar12 & 0xffffffff,local_88._0_4_);
              }
              WavpackNativeToBigEndian(local_88,&DAT_00118aea);
              iVar5 = FUN_001131c0(param_1,local_88,0x14,&local_b8);
              if ((iVar5 == 0) || (local_b8 != 0x14)) goto LAB_00110d88;
              uVar12 = uVar12 + 1;
            } while (uVar12 != (ulong)(iVar3 - 1) + 2);
          }
          if (__ptr_00 != (void *)0x0) {
            free(__ptr_00);
          }
        }
LAB_00110ed7:
        local_d0 = param_3;
        if (param_3 != -1) {
          local_d0 = iVar6 * param_3 * (long)iVar3 + 4;
        }
        local_88._4_8_ = local_d0;
        local_88._0_4_ = 0x61746164;
        WavpackNativeToBigEndian(local_88,&DAT_00118ae0);
        iVar3 = FUN_001131c0(param_1,local_88,0xc,&local_b8);
        if ((iVar3 != 0) && (local_b8 == 0xc)) {
          local_bc = 0;
          WavpackNativeToBigEndian(&local_bc,&DAT_0011845f);
          iVar3 = FUN_001131c0(param_1,&local_bc,4,&local_b8);
          if ((iVar3 != 0) && (local_b8 == 4)) {
            uVar7 = 1;
            free(__ptr);
            goto LAB_00110d88;
          }
        }
      }
    }
  }
LAB_00110d85:
  uVar7 = 0;
LAB_00110d88:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar7;
}



undefined8
FUN_00111390(undefined8 param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,
            long param_5)

{
  ushort uVar1;
  int iVar2;
  long lVar3;
  void *__ptr;
  byte *pbVar4;
  undefined8 uVar5;
  long lVar6;
  long lVar7;
  size_t __size;
  byte *pbVar8;
  byte *pbVar9;
  byte *pbVar10;
  char *pcVar11;
  byte *pbVar12;
  uint uVar13;
  uint uVar14;
  undefined8 uVar15;
  long in_FS_OFFSET;
  bool bVar16;
  bool bVar17;
  bool bVar18;
  byte bVar19;
  ushort local_6e;
  uint local_6c;
  uint local_68;
  char local_64;
  char cStack_63;
  char cStack_62;
  char cStack_61;
  int iStack_60;
  undefined4 uStack_5c;
  undefined4 local_58;
  long local_54;
  byte local_4c [12];
  long local_40;
  
  bVar19 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar3 = FUN_00113230();
  local_58 = *param_3;
  iVar2 = FUN_00113150(param_1,&local_54,0xc,&local_6c);
  if (iVar2 != 0) {
    bVar16 = local_6c < 0xc;
    bVar18 = local_6c == 0xc;
    if (bVar18) {
      lVar6 = 4;
      pbVar4 = local_4c;
      pbVar8 = &DAT_00115584;
      do {
        if (lVar6 == 0) break;
        lVar6 = lVar6 + -1;
        bVar16 = *pbVar4 < *pbVar8;
        bVar18 = *pbVar4 == *pbVar8;
        pbVar4 = pbVar4 + (ulong)bVar19 * -2 + 1;
        pbVar8 = pbVar8 + (ulong)bVar19 * -2 + 1;
      } while (bVar18);
      if ((!bVar16 && !bVar18) == bVar16) {
        if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
           (iVar2 = WavpackAddWrapper(param_4,&local_58,0x10), iVar2 == 0)) {
LAB_00111c10:
          uVar15 = 1;
          uVar5 = WavpackGetErrorMessage(param_4);
          FUN_00112fa0("%s",uVar5);
        }
        else {
          WavpackBigEndianToNative(&local_58,&DAT_001191cd);
          if ((lVar3 == 0) ||
             ((((*(byte *)(param_5 + 0x11) & 8) != 0 || (local_54 + 1U < 2)) ||
              (local_54 + 0xc == lVar3)))) {
            if (DAT_0011d0d8 != 0) {
              FUN_00112fa0("file header indicated length = %lld",local_54);
            }
LAB_001114d8:
            do {
              while( true ) {
                iVar2 = FUN_00113150(param_1,&local_64,0xc,&local_6c);
                if ((iVar2 == 0) || (local_6c != 0xc)) goto LAB_001113fe;
                if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
                   (iVar2 = WavpackAddWrapper(param_4,&local_64,0xc), iVar2 == 0))
                goto LAB_00111c10;
                WavpackBigEndianToNative(&local_64,&DAT_00118ae0);
                if (DAT_0011d0d8 != 0) {
                  FUN_00112fa0("chunk header indicated length = %lld",CONCAT44(uStack_5c,iStack_60))
                  ;
                }
                __size = CONCAT44(uStack_5c,iStack_60);
                if (CONCAT13(cStack_61,CONCAT12(cStack_62,CONCAT11(cStack_63,local_64))) !=
                    0x52455646) break;
                if (__size != 4) {
LAB_00111ca0:
                  FUN_00112fa0("%s is not a valid .DFF file!",param_2);
                  goto LAB_00111bf0;
                }
                iVar2 = FUN_00113150(param_1,&local_68,4,&local_6c);
                if ((iVar2 == 0) || (local_6c != 4)) goto LAB_00111ca0;
                if (((*(byte *)(param_5 + 0x11) & 2) == 0) &&
                   (iVar2 = WavpackAddWrapper(param_4,&local_68,4), iVar2 == 0)) {
                  uVar5 = WavpackGetErrorMessage(param_4);
                  FUN_00112fa0("%s",uVar5);
                  goto LAB_00111bf0;
                }
                WavpackBigEndianToNative(&local_68,&DAT_0011845f);
                if (DAT_0011d0d8 != 0) {
                  FUN_00112fa0("dsdiff file version = 0x%08x",local_68);
                }
              }
              if (CONCAT13(cStack_61,CONCAT12(cStack_62,CONCAT11(cStack_63,local_64))) != 0x504f5250
                 ) {
                if (CONCAT13(cStack_61,CONCAT12(cStack_62,CONCAT11(cStack_63,local_64))) ==
                    0x20445344) {
                  uVar15 = 0;
                  lVar3 = (long)__size / (long)*(int *)(param_5 + 0x1c);
                  if (DAT_0011d0d8 != 0) {
                    FUN_00112fa0("setting configuration with %lld samples",lVar3);
                  }
                  iVar2 = WavpackSetConfiguration64(param_4,param_5,lVar3,0);
                  if (iVar2 == 0) {
                    uVar5 = WavpackGetErrorMessage(param_4);
                    FUN_00112fa0("%s: %s",param_2,uVar5);
LAB_00111bf0:
                    uVar15 = 1;
                  }
                  goto LAB_00111417;
                }
                uVar13 = iStack_60 + 1U & 0xfffffffe;
                if (0x400000 < uVar13) goto LAB_001113fe;
                __ptr = malloc((long)(int)uVar13);
                if (DAT_0011d0d8 != 0) {
                  FUN_00112fa0("extra unknown chunk \"%c%c%c%c\" of %d bytes",(int)local_64,
                               (int)cStack_63,(int)cStack_62,(int)cStack_61,__size);
                }
                iVar2 = FUN_00113150(param_1,__ptr,uVar13,&local_6c);
                if (((iVar2 == 0) || (uVar13 != local_6c)) ||
                   (((*(byte *)(param_5 + 0x11) & 2) == 0 &&
                    (iVar2 = WavpackAddWrapper(param_4,__ptr,uVar13), iVar2 == 0)))) {
                  uVar15 = 1;
                  uVar5 = WavpackGetErrorMessage(param_4);
                  FUN_00112fa0("%s",uVar5);
                  free(__ptr);
                  goto LAB_00111417;
                }
                free(__ptr);
                goto LAB_001114d8;
              }
              if (0x3fc < __size - 4) goto LAB_001113fe;
              if (DAT_0011d0d8 != 0) {
                FUN_00112fa0("got PROP chunk of %d bytes total",iStack_60);
                __size = CONCAT44(uStack_5c,iStack_60);
              }
              pbVar4 = (byte *)malloc(__size);
              iVar2 = FUN_00113150(param_1,pbVar4,__size & 0xffffffff,&local_6c);
              if ((iVar2 == 0) || ((ulong)local_6c != CONCAT44(uStack_5c,iStack_60))) {
                pcVar11 = "%s is not a valid .DFF file!";
LAB_00111880:
                FUN_00112fa0(pcVar11,param_2);
                uVar15 = 1;
                free(pbVar4);
                goto LAB_00111417;
              }
              bVar16 = (*(byte *)(param_5 + 0x11) & 2) == 0;
              if (bVar16) {
                iVar2 = WavpackAddWrapper(param_4,pbVar4);
                bVar16 = iVar2 == 0;
                if (bVar16) {
                  param_2 = WavpackGetErrorMessage(param_4);
                  pcVar11 = "%s";
                  goto LAB_00111880;
                }
              }
              bVar18 = false;
              lVar3 = 4;
              pbVar8 = pbVar4;
              pbVar9 = &DAT_001191f8;
              do {
                if (lVar3 == 0) break;
                lVar3 = lVar3 + -1;
                bVar18 = *pbVar8 < *pbVar9;
                bVar16 = *pbVar8 == *pbVar9;
                pbVar8 = pbVar8 + (ulong)bVar19 * -2 + 1;
                pbVar9 = pbVar9 + (ulong)bVar19 * -2 + 1;
              } while (bVar16);
              if ((!bVar18 && !bVar16) == bVar18) {
                lVar3 = CONCAT44(uStack_5c,iStack_60);
                if (lVar3 - 4U < 0xc) {
                  uVar13 = *(uint *)(param_5 + 0x10);
                }
                else {
                  uVar14 = 0;
                  pbVar8 = pbVar4 + 4;
                  do {
                    uVar5 = *(undefined8 *)pbVar8;
                    pbVar9 = pbVar8 + 0xc;
                    local_64 = (char)uVar5;
                    cStack_63 = (char)((ulong)uVar5 >> 8);
                    cStack_62 = (char)((ulong)uVar5 >> 0x10);
                    cStack_61 = (char)((ulong)uVar5 >> 0x18);
                    iStack_60 = (int)((ulong)uVar5 >> 0x20);
                    uStack_5c = *(undefined4 *)(pbVar8 + 8);
                    WavpackBigEndianToNative(&local_64,&DAT_00118ae0);
                    lVar6 = CONCAT44(uStack_5c,iStack_60);
                    if ((lVar6 < 1) || ((long)(pbVar4 + (lVar3 - (long)pbVar9)) < lVar6)) {
LAB_00111bd0:
                      FUN_00112fa0("%s is not a valid .DFF file!",param_2);
                      free(pbVar4);
                      goto LAB_00111bf0;
                    }
                    if ((CONCAT13(cStack_61,CONCAT12(cStack_62,CONCAT11(cStack_63,local_64))) ==
                         0x20205346) && (lVar6 == 4)) {
                      local_68 = *(uint *)(pbVar8 + 0xc);
                      WavpackBigEndianToNative(&local_68,&DAT_0011845f);
                      pbVar9 = pbVar9 + CONCAT44(uStack_5c,iStack_60);
                      if (DAT_0011d0d8 != 0) {
                        FUN_00112fa0("got sample rate of %u Hz",local_68);
                      }
                    }
                    else if ((lVar6 == 1) ||
                            (CONCAT13(cStack_61,CONCAT12(cStack_62,CONCAT11(cStack_63,local_64))) !=
                             0x4c4e4843)) {
                      bVar16 = CONCAT13(cStack_61,CONCAT12(cStack_62,CONCAT11(cStack_63,local_64)))
                               == 0x52504d43;
                      if ((lVar6 < 4) || (bVar18 = false, !bVar16)) {
                        if (DAT_0011d0d8 != 0) {
                          FUN_00112fa0("got PROP/SND chunk type \"%c%c%c%c\" of %d bytes",
                                       (int)local_64,(int)cStack_63,(int)cStack_62,(int)cStack_61);
                          lVar6 = CONCAT44(uStack_5c,iStack_60);
                        }
                      }
                      else {
                        lVar7 = 4;
                        pbVar10 = pbVar9;
                        pbVar12 = &DAT_00115584;
                        do {
                          if (lVar7 == 0) break;
                          lVar7 = lVar7 + -1;
                          bVar18 = *pbVar10 < *pbVar12;
                          bVar16 = *pbVar10 == *pbVar12;
                          pbVar10 = pbVar10 + (ulong)bVar19 * -2 + 1;
                          pbVar12 = pbVar12 + (ulong)bVar19 * -2 + 1;
                        } while (bVar16);
                        if ((!bVar18 && !bVar16) != bVar18) {
                          FUN_00112fa0("DSDIFF files must be uncompressed, not \"%c%c%c%c\"!",
                                       (int)(char)pbVar8[0xc],(int)(char)pbVar8[0xd],
                                       (int)(char)pbVar8[0xe],(int)(char)pbVar8[0xf]);
                          free(pbVar4);
                          goto LAB_00111bf0;
                        }
                      }
                      pbVar9 = pbVar9 + lVar6;
                    }
                    else {
                      local_6e = *(ushort *)(pbVar8 + 0xc);
                      WavpackBigEndianToNative(&local_6e,&DAT_001192a3);
                      pbVar9 = pbVar8 + 0xe;
                      iVar2 = iStack_60 + 1;
                      if (-1 < iStack_60 + -2) {
                        iVar2 = iStack_60 + -2;
                      }
                      if ((local_6e == 0) || (uVar1 = (ushort)(iVar2 >> 2), local_6e < uVar1))
                      goto LAB_00111bd0;
                      bVar16 = false;
                      bVar18 = uVar1 == 0;
                      iVar2 = DAT_0011d0d8;
                      if (!bVar18) {
                        do {
                          lVar6 = 4;
                          pbVar10 = pbVar9;
                          pbVar12 = &DAT_00119220;
                          do {
                            if (lVar6 == 0) break;
                            lVar6 = lVar6 + -1;
                            bVar16 = *pbVar10 < *pbVar12;
                            bVar18 = *pbVar10 == *pbVar12;
                            pbVar10 = pbVar10 + (ulong)bVar19 * -2 + 1;
                            pbVar12 = pbVar12 + (ulong)bVar19 * -2 + 1;
                          } while (bVar18);
                          bVar17 = false;
                          bVar16 = (!bVar16 && !bVar18) == bVar16;
                          if (bVar16) {
LAB_00111b30:
                            uVar14 = uVar14 | 1;
                          }
                          else {
                            lVar6 = 4;
                            pbVar10 = pbVar9;
                            pbVar12 = &DAT_00119225;
                            do {
                              if (lVar6 == 0) break;
                              lVar6 = lVar6 + -1;
                              bVar17 = *pbVar10 < *pbVar12;
                              bVar16 = *pbVar10 == *pbVar12;
                              pbVar10 = pbVar10 + (ulong)bVar19 * -2 + 1;
                              pbVar12 = pbVar12 + (ulong)bVar19 * -2 + 1;
                            } while (bVar16);
                            bVar18 = false;
                            bVar16 = (!bVar17 && !bVar16) == bVar17;
                            if (bVar16) goto LAB_00111b30;
                            lVar6 = 4;
                            pbVar10 = pbVar9;
                            pbVar12 = &DAT_0011922a;
                            do {
                              if (lVar6 == 0) break;
                              lVar6 = lVar6 + -1;
                              bVar18 = *pbVar10 < *pbVar12;
                              bVar16 = *pbVar10 == *pbVar12;
                              pbVar10 = pbVar10 + (ulong)bVar19 * -2 + 1;
                              pbVar12 = pbVar12 + (ulong)bVar19 * -2 + 1;
                            } while (bVar16);
                            bVar17 = false;
                            bVar16 = (!bVar18 && !bVar16) == bVar18;
                            if (bVar16) {
LAB_00111b70:
                              uVar14 = uVar14 | 2;
                            }
                            else {
                              lVar6 = 4;
                              pbVar10 = pbVar9;
                              pbVar12 = &DAT_0011922f;
                              do {
                                if (lVar6 == 0) break;
                                lVar6 = lVar6 + -1;
                                bVar17 = *pbVar10 < *pbVar12;
                                bVar16 = *pbVar10 == *pbVar12;
                                pbVar10 = pbVar10 + (ulong)bVar19 * -2 + 1;
                                pbVar12 = pbVar12 + (ulong)bVar19 * -2 + 1;
                              } while (bVar16);
                              bVar18 = false;
                              bVar16 = (!bVar17 && !bVar16) == bVar17;
                              if (bVar16) goto LAB_00111b70;
                              lVar6 = 4;
                              pbVar10 = pbVar9;
                              pbVar12 = &DAT_00119234;
                              do {
                                if (lVar6 == 0) break;
                                lVar6 = lVar6 + -1;
                                bVar18 = *pbVar10 < *pbVar12;
                                bVar16 = *pbVar10 == *pbVar12;
                                pbVar10 = pbVar10 + (ulong)bVar19 * -2 + 1;
                                pbVar12 = pbVar12 + (ulong)bVar19 * -2 + 1;
                              } while (bVar16);
                              bVar17 = false;
                              bVar16 = (!bVar18 && !bVar16) == bVar18;
                              if (bVar16) {
                                uVar14 = uVar14 | 0x10;
                              }
                              else {
                                lVar6 = 4;
                                pbVar10 = pbVar9;
                                pbVar12 = &DAT_00119239;
                                do {
                                  if (lVar6 == 0) break;
                                  lVar6 = lVar6 + -1;
                                  bVar17 = *pbVar10 < *pbVar12;
                                  bVar16 = *pbVar10 == *pbVar12;
                                  pbVar10 = pbVar10 + (ulong)bVar19 * -2 + 1;
                                  pbVar12 = pbVar12 + (ulong)bVar19 * -2 + 1;
                                } while (bVar16);
                                bVar18 = false;
                                bVar16 = (!bVar17 && !bVar16) == bVar17;
                                if (bVar16) {
                                  uVar14 = uVar14 | 0x20;
                                }
                                else {
                                  lVar6 = 4;
                                  pbVar10 = pbVar9;
                                  pbVar12 = &DAT_0011923e;
                                  do {
                                    if (lVar6 == 0) break;
                                    lVar6 = lVar6 + -1;
                                    bVar18 = *pbVar10 < *pbVar12;
                                    bVar16 = *pbVar10 == *pbVar12;
                                    pbVar10 = pbVar10 + (ulong)bVar19 * -2 + 1;
                                    pbVar12 = pbVar12 + (ulong)bVar19 * -2 + 1;
                                  } while (bVar16);
                                  bVar17 = false;
                                  bVar16 = (!bVar18 && !bVar16) == bVar18;
                                  if (bVar16) {
                                    uVar14 = uVar14 | 4;
                                  }
                                  else {
                                    lVar6 = 4;
                                    pbVar10 = pbVar9;
                                    pbVar12 = &DAT_00119243;
                                    do {
                                      if (lVar6 == 0) break;
                                      lVar6 = lVar6 + -1;
                                      bVar17 = *pbVar10 < *pbVar12;
                                      bVar16 = *pbVar10 == *pbVar12;
                                      pbVar10 = pbVar10 + (ulong)bVar19 * -2 + 1;
                                      pbVar12 = pbVar12 + (ulong)bVar19 * -2 + 1;
                                    } while (bVar16);
                                    if ((!bVar17 && !bVar16) == bVar17) {
                                      uVar14 = uVar14 | 8;
                                    }
                                    else if (iVar2 != 0) {
                                      FUN_00112fa0("undefined channel ID %c%c%c%c",
                                                   (int)(char)*pbVar9,(int)(char)pbVar9[1],
                                                   (int)(char)pbVar9[2],(int)(char)pbVar9[3]);
                                      iVar2 = DAT_0011d0d8;
                                    }
                                  }
                                }
                              }
                            }
                          }
                          pbVar9 = pbVar9 + 4;
                          bVar16 = pbVar8 + (ulong)(ushort)(uVar1 - 1) * 4 + 0x12 < pbVar9;
                          bVar18 = pbVar8 + (ulong)(ushort)(uVar1 - 1) * 4 + 0x12 == pbVar9;
                        } while (!bVar18);
                        pbVar9 = pbVar8 + (ulong)(ushort)(uVar1 - 1) * 4 + 0x12;
                      }
                      if (iVar2 != 0) {
                        FUN_00112fa0("%d channels, mask = 0x%08x",local_6e,uVar14);
                      }
                    }
                    pbVar8 = pbVar9;
                  } while ((byte *)0xb < pbVar4 + (lVar3 - (long)pbVar9));
                  if ((short)uVar14 == 0) {
                    uVar13 = *(uint *)(param_5 + 0x10);
                  }
                  else {
                    if ((*(int *)(param_5 + 0x30) != 0) ||
                       (uVar13 = *(uint *)(param_5 + 0x10), (uVar13 & 0x400) != 0)) {
                      FUN_00112fa0("this DSDIFF file already has channel order information!");
                      free(pbVar4);
                      goto LAB_00111bf0;
                    }
                    *(uint *)(param_5 + 0x30) = uVar14;
                  }
                }
                *(undefined8 *)(param_5 + 8) = 0x100000008;
                *(uint *)(param_5 + 0x10) = uVar13 | 0x20;
                *(uint *)(param_5 + 0x1c) = (uint)local_6e;
                *(uint *)(param_5 + 0x2c) = local_68 >> 3;
              }
              else if (DAT_0011d0d8 != 0) {
                FUN_00112fa0("got unknown PROP chunk type \"%c%c%c%c\" of %d bytes",
                             (int)(char)*pbVar4,(int)(char)pbVar4[1],(int)(char)pbVar4[2],
                             (int)(char)pbVar4[3],CONCAT44(uStack_5c,iStack_60));
              }
              free(pbVar4);
            } while( true );
          }
          uVar15 = 1;
          FUN_00112fa0("%s is not a valid .DFF file (by total size)!",param_2);
        }
        goto LAB_00111417;
      }
    }
  }
LAB_001113fe:
  uVar15 = 1;
  FUN_00112fa0("%s is not a valid .DFF file!",param_2);
LAB_00111417:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return uVar15;
}



undefined8 FUN_00111e60(undefined8 param_1,undefined8 param_2,long param_3,undefined4 param_4)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  undefined4 *__ptr;
  undefined8 uVar7;
  undefined4 *puVar8;
  undefined4 *puVar9;
  undefined4 *puVar10;
  ulong uVar11;
  size_t __size;
  long in_FS_OFFSET;
  int local_b8;
  undefined4 local_b2;
  long local_ae;
  undefined4 local_a6;
  long local_a2;
  undefined2 local_9a;
  undefined4 local_98;
  long local_94;
  undefined4 local_8c;
  undefined4 local_88;
  long local_84;
  undefined4 local_7c;
  undefined4 local_78;
  undefined8 local_74;
  undefined4 local_6c;
  undefined4 local_68;
  undefined8 local_64;
  int local_5c;
  undefined4 local_58;
  undefined8 local_54;
  undefined4 local_4c;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar1 = WavpackGetChannelMask(param_2);
  iVar2 = WavpackGetNumChannels(param_2);
  if (DAT_0011d0d8 != 0) {
    FUN_00112fa0("WriteDsdiffHeader (), total samples = %lld, qmode = 0x%02x\n",param_3,param_4);
  }
  iVar3 = iVar2 * 4;
  __size = (size_t)iVar3;
  __ptr = (undefined4 *)malloc(__size);
  if (__ptr == (undefined4 *)0x0) {
    FUN_00112fa0("can\'t allocate memory!");
    uVar7 = 0;
  }
  else {
    if (0 < iVar2) {
      puVar10 = (undefined4 *)&DAT_0011922a;
      puVar9 = (undefined4 *)&DAT_00119220;
      if (2 < iVar2) {
        puVar10 = (undefined4 *)&DAT_0011922f;
        puVar9 = (undefined4 *)&DAT_00119225;
      }
      uVar11 = 0;
      uVar4 = 1;
      puVar8 = __ptr;
LAB_00111f21:
      if (uVar4 == 0) goto LAB_00112181;
      do {
        if ((uVar1 & uVar4) == 0) {
          do {
            uVar5 = uVar4;
            uVar6 = uVar5 * 2;
            if (uVar6 == 0) {
              uVar4 = 0;
              goto LAB_00111f52;
            }
            uVar4 = uVar6;
          } while ((uVar1 & uVar6) == 0);
          uVar5 = uVar5 * 4;
LAB_001123ce:
          uVar4 = uVar5;
          if ((uVar6 & 2) == 0) {
            if ((uVar6 & 4) == 0) {
              if ((uVar6 & 8) == 0) goto LAB_00111f52;
              *puVar8 = 0x2045464c;
            }
            else {
              *puVar8 = 0x20202043;
            }
          }
          else {
            *puVar8 = *puVar10;
          }
        }
        else {
          uVar5 = uVar4 * 2;
          uVar6 = uVar4;
          if ((uVar4 & 1) == 0) goto LAB_001123ce;
          *puVar8 = *puVar9;
          uVar4 = uVar4 * 2;
        }
        while( true ) {
          puVar8 = puVar8 + 1;
          if (__ptr + (ulong)(iVar2 - 1) + 1 == puVar8) goto LAB_00111f70;
          if (uVar4 != 0) break;
LAB_00112181:
          uVar6 = 0;
LAB_00112184:
          if ((uVar6 & 0x20) == 0) {
            *(undefined *)puVar8 = 0x43;
            *(char *)((long)puVar8 + 1) = (char)(uVar11 / 100) + '0';
            *(char *)((long)puVar8 + 2) =
                 (char)((uint)((int)uVar11 + (int)(uVar11 / 100) * -100) / 10) + '0';
            *(char *)((long)puVar8 + 3) = (char)uVar11 + (char)(uVar11 / 10) * -10 + '0';
            uVar11 = (ulong)((int)uVar11 + 1);
          }
          else {
            *puVar8 = 0x20205352;
          }
        }
      } while( true );
    }
LAB_00111f70:
    local_98 = 0x384d5246;
    local_8c = 0x20445344;
    local_88 = 0x504f5250;
    local_7c = 0x20444e53;
    local_78 = 0x52455646;
    local_94 = __size + 0x6e + (iVar2 * param_3 + 1U & 0xfffffffffffffffe);
    local_74 = 4;
    local_84 = __size + 0x42;
    local_6c = 0x1050000;
    local_68 = 0x20205346;
    local_64 = 4;
    local_5c = WavpackGetSampleRate(param_2);
    local_5c = local_5c << 3;
    local_9a = (undefined2)iVar2;
    local_a6 = 0x4c4e4843;
    local_58 = 0x52504d43;
    local_54 = 0x14;
    local_4c = 0x20445344;
    local_b2 = 0x20445344;
    local_ae = iVar2 * param_3;
    local_a2 = __size + 2;
    WavpackNativeToBigEndian(&local_98,&DAT_001191cd);
    WavpackNativeToBigEndian(&local_78,&DAT_0011929d);
    WavpackNativeToBigEndian(&local_88,&DAT_001191cd);
    WavpackNativeToBigEndian(&local_68,&DAT_0011929d);
    WavpackNativeToBigEndian(&local_a6,&DAT_001192a1);
    WavpackNativeToBigEndian(&local_58,&DAT_001191cd);
    WavpackNativeToBigEndian(&local_b2,&DAT_00118ae0);
    iVar2 = FUN_001131c0(param_1,&local_98,0x10,&local_b8);
    if (((((((iVar2 == 0) || (local_b8 != 0x10)) ||
           (iVar2 = FUN_001131c0(param_1,&local_78,0x10,&local_b8), iVar2 == 0)) ||
          ((local_b8 != 0x10 || (iVar2 = FUN_001131c0(param_1,&local_88,0x10,&local_b8), iVar2 == 0)
           ))) || ((local_b8 != 0x10 ||
                   ((iVar2 = FUN_001131c0(param_1,&local_68,0x10,&local_b8), iVar2 == 0 ||
                    (local_b8 != 0x10)))))) ||
        (iVar2 = FUN_001131c0(param_1,&local_a6,0xe,&local_b8), iVar2 == 0)) ||
       (((((local_b8 != 0xe || (iVar2 = FUN_001131c0(param_1,__ptr,iVar3,&local_b8), iVar2 == 0)) ||
          (iVar3 != local_b8)) ||
         (((iVar2 = FUN_001131c0(param_1,&local_58,0x10,&local_b8), iVar2 == 0 || (local_b8 != 0x10)
           ) || ((iVar2 = FUN_001131c0(param_1,&DAT_001192a5,0x10,&local_b8), iVar2 == 0 ||
                 ((local_b8 != 0x10 ||
                  (iVar2 = FUN_001131c0(param_1,&local_b2,0xc,&local_b8), iVar2 == 0)))))))) ||
        (local_b8 != 0xc)))) {
      FUN_00112fa0("can\'t write .DSF data, disk probably full!");
      free(__ptr);
      uVar7 = 0;
    }
    else {
      free(__ptr);
      uVar7 = 1;
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar7;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
LAB_00111f52:
  if ((uVar6 & 0x10) == 0) goto LAB_00112184;
  *puVar8 = 0x2020534c;
  puVar8 = puVar8 + 1;
  if (__ptr + (ulong)(iVar2 - 1) + 1 == puVar8) goto LAB_00111f70;
  goto LAB_00111f21;
}



undefined4
FUN_00112420(undefined8 param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,
            long param_5)

{
  int iVar1;
  uint uVar2;
  long lVar3;
  undefined8 uVar4;
  long lVar5;
  undefined4 uVar6;
  long in_FS_OFFSET;
  int local_a8;
  char local_a4 [4];
  long local_a0;
  undefined4 local_98;
  undefined8 local_94;
  long local_8c;
  undefined8 local_84;
  int local_78;
  long local_74;
  int local_6c;
  int local_68;
  int local_64;
  uint local_60;
  uint local_5c;
  int local_58;
  ulong local_54;
  uint local_4c;
  int local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar3 = FUN_00113230();
  local_98 = *param_3;
  iVar1 = FUN_00113150(param_1,&local_94,0x18,&local_a8);
  if ((iVar1 != 0) && (local_a8 == 0x18)) {
    if ((*(byte *)(param_5 + 0x11) & 2) == 0) {
      iVar1 = WavpackAddWrapper(param_4,&local_98,0x1c);
      if (iVar1 != 0) goto LAB_001124e1;
LAB_00112588:
      uVar6 = 1;
      uVar4 = WavpackGetErrorMessage(param_4);
      FUN_00112fa0("%s",uVar4);
      goto LAB_001124a0;
    }
LAB_001124e1:
    WavpackLittleEndianToNative(&local_98,&DAT_001194e8);
    if (DAT_0011d0d8 != 0) {
      FUN_00112fa0("file header lengths = %lld, %lld, %lld",local_94,local_8c,local_84);
    }
    if ((lVar3 != 0) && ((*(byte *)(param_5 + 0x11) & 8) == 0)) {
      if ((1 < local_8c + 1U) && (local_8c != lVar3)) {
        uVar6 = 1;
        FUN_00112fa0("%s is not a valid .DSF file (by total size)!",param_2);
        goto LAB_001124a0;
      }
    }
    if ((*(int *)(param_5 + 0x30) != 0) || ((*(byte *)(param_5 + 0x11) & 4) != 0)) {
      uVar6 = 1;
      FUN_00112fa0("this DSF file already has channel order information!");
      goto LAB_001124a0;
    }
    iVar1 = FUN_00113150(param_1,&local_78,0x34,&local_a8);
    if ((iVar1 != 0) && ((local_a8 == 0x34 && (local_78 == 0x20746d66)))) {
      if ((*(byte *)(param_5 + 0x11) & 2) == 0) {
        iVar1 = WavpackAddWrapper(param_4,&local_78,0x34);
        if (iVar1 == 0) goto LAB_00112588;
      }
      WavpackLittleEndianToNative(&local_78,"4DLLLLLLDL4");
      if (((((local_74 == 0x34) && (local_6c == 1)) && (local_4c == 0x1000)) &&
          (local_68 == 0 && local_48 == 0)) &&
         (((local_58 == 1 || (local_58 == 8)) && ((local_60 - 1 < 6 && (local_64 - 1U < 7)))))) {
        if (DAT_0011d0d8 != 0) {
          FUN_00112fa0("sampling rate = %d Hz",local_5c);
          FUN_00112fa0("channel type = %d, channel count = %d",local_64,local_60);
          FUN_00112fa0("block size = %d, bits per sample = %d",local_4c,local_58);
          FUN_00112fa0("sample count = %lld",local_54);
        }
        iVar1 = FUN_00113150(param_1,local_a4,0xc,&local_a8);
        if ((iVar1 != 0) && (local_a8 == 0xc)) {
          iVar1 = strncmp(local_a4,"data",4);
          if (iVar1 == 0) {
            if ((*(byte *)(param_5 + 0x11) & 2) == 0) {
              iVar1 = WavpackAddWrapper(param_4,local_a4,0xc);
              if (iVar1 == 0) goto LAB_00112588;
            }
            WavpackLittleEndianToNative(local_a4,&DAT_00118ae0);
            lVar3 = (long)local_54 / (long)(ulong)(local_4c * 8);
            lVar5 = local_54 + (ulong)local_4c * lVar3 * -8;
            if (DAT_0011d0d8 != 0) {
              FUN_00112fa0("leftover samples = %lld, leftover bits = %d",lVar5,lVar5 % 8);
              FUN_00112fa0("data chunk size (specified) = %lld",local_a0 + -0xc);
              FUN_00112fa0("data chunk size (calculated) = %lld",
                           (ulong)local_60 * ((lVar3 + 1) - (ulong)(lVar5 == 0)) * 0x1000);
            }
            if ((local_54 & 7) != 0) {
              FUN_00112fa0("warning: DSF file has partial-byte leftover samples!");
            }
            if ((local_5c & 7) != 0) {
              FUN_00112fa0("warning: DSF file has non-integer bytes/second!");
            }
            *(uint *)(param_5 + 0x2c) = local_5c >> 3;
            *(uint *)(param_5 + 0x1c) = local_60;
            *(undefined8 *)(param_5 + 8) = 0x100000008;
            *(uint *)(param_5 + 0x30) = (uint)*(ushort *)(&DAT_00119730 + (ulong)(local_64 - 1) * 2)
            ;
            uVar2 = *(uint *)(param_5 + 0x10) | 0x60;
            if (local_58 == 1) {
              uVar2 = *(uint *)(param_5 + 0x10) | 0x50;
            }
            *(uint *)(param_5 + 0x10) = uVar2;
            iVar1 = WavpackSetConfiguration64(param_4,param_5,(long)(local_54 + 7) / 8,0);
            uVar6 = 0;
            if (iVar1 == 0) {
              uVar6 = 1;
              uVar4 = WavpackGetErrorMessage(param_4);
              FUN_00112fa0("%s: %s",param_2,uVar4);
            }
            goto LAB_001124a0;
          }
        }
      }
    }
  }
  uVar6 = 1;
  FUN_00112fa0("%s is not a valid .DSF file!",param_2);
LAB_001124a0:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar6;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



// WARNING: Type propagation algorithm not settling

undefined8 FUN_001128f0(undefined8 param_1,undefined8 param_2,long param_3,uint param_4)

{
  uint uVar1;
  int iVar2;
  ulong uVar3;
  undefined8 uVar4;
  ulong uVar5;
  uint uVar6;
  long lVar7;
  long in_FS_OFFSET;
  int local_a8 [2];
  long local_a0;
  undefined4 local_98;
  undefined8 local_94;
  long local_8c;
  undefined8 local_84;
  undefined4 local_78;
  undefined8 local_74;
  undefined8 local_6c;
  int local_64;
  int local_60;
  int local_5c;
  int local_58;
  long local_54;
  undefined8 local_4c;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar1 = WavpackGetChannelMask(param_2);
  local_60 = WavpackGetNumChannels(param_2);
  if (DAT_0011d0d8 != 0) {
    FUN_00112fa0("WriteDsfHeader (), total samples = %lld, qmode = 0x%02x\n",param_3,param_4);
  }
  uVar3 = 1;
  uVar6 = 4;
  uVar5 = 0;
  while( true ) {
    if (uVar6 == uVar1) {
      uVar5 = uVar3 & 0xffffffff;
    }
    local_64 = (int)uVar5;
    if (uVar3 == 7) break;
    uVar6 = (uint)*(ushort *)(&DAT_00119730 + uVar3 * 2);
    uVar3 = uVar3 + 1;
  }
  if ((local_64 == 0) && (local_64 = 7, local_60 < 7)) {
    local_64 = (uint)(4 < local_60) + local_60;
  }
  lVar7 = param_3 + 0x1ffe;
  if (-1 < param_3 + 0xfff) {
    lVar7 = param_3 + 0xfff;
  }
  local_98 = 0x20445344;
  local_94 = 0x1c;
  local_84 = 0;
  local_78 = 0x20746d66;
  local_74 = 0x34;
  local_6c = 1;
  lVar7 = (lVar7 >> 0xc) * (long)local_60 * 0x1000;
  local_8c = lVar7 + 0x5c;
  local_5c = WavpackGetSampleRate(param_2);
  local_4c = 0x1000;
  local_5c = local_5c * 8;
  local_a8[1] = 0x61746164;
  local_a0 = lVar7 + 0xc;
  local_54 = param_3 << 3;
  local_58 = (-(uint)((param_4 & 0x10) == 0) & 7) + 1;
  WavpackNativeToLittleEndian(&local_98,&DAT_001194e8);
  WavpackNativeToLittleEndian(&local_78,"4DLLLLLLDL4");
  WavpackNativeToLittleEndian(local_a8 + 1,&DAT_00118ae0);
  iVar2 = FUN_001131c0(param_1,&local_98,0x1c,local_a8);
  if ((iVar2 != 0) && (local_a8[0] == 0x1c)) {
    iVar2 = FUN_001131c0(param_1,&local_78,0x34,local_a8);
    if ((iVar2 != 0) && (local_a8[0] == 0x34)) {
      iVar2 = FUN_001131c0(param_1,local_a8 + 1,0xc,local_a8);
      if ((iVar2 != 0) && (local_a8[0] == 0xc)) {
        uVar4 = 1;
        goto LAB_00112aa0;
      }
    }
  }
  FUN_00112fa0("can\'t write .DSF data, disk probably full!");
  uVar4 = 0;
LAB_00112aa0:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar4;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



void FUN_00112b60(void)

{
  DAT_0011d0d4 = 1;
  return;
}



bool FUN_00112b70(char *param_1,char *param_2)

{
  int iVar1;
  long in_FS_OFFSET;
  bool bVar2;
  timeval local_c8;
  undefined8 local_b8;
  undefined8 local_b0;
  undefined local_a8 [72];
  __time_t local_60;
  undefined8 local_50;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  if (((*param_1 != '-') || (bVar2 = true, param_1[1] != '\0')) &&
     ((*param_2 != '-' || (bVar2 = true, param_2[1] != '\0')))) {
    iVar1 = FUN_00114300(param_1,local_a8);
    bVar2 = false;
    if (iVar1 == 0) {
      local_c8.tv_usec = 0;
      local_b0 = 0;
      local_c8.tv_sec = local_60;
      local_b8 = local_50;
      iVar1 = utimes(param_2,&local_c8);
      bVar2 = iVar1 == 0;
    }
  }
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return bVar2;
}



char * FUN_00112c30(char *param_1)

{
  size_t sVar1;
  char *__s;
  char *pcVar2;
  
  sVar1 = strlen(param_1);
  pcVar2 = param_1 + sVar1;
  while( true ) {
    __s = pcVar2;
    pcVar2 = __s + -1;
    if (pcVar2 < param_1) {
      return (char *)0x0;
    }
    if (*pcVar2 == '/') break;
    if (*pcVar2 == '.') {
      if (*__s == '\0') {
        return (char *)0x0;
      }
      sVar1 = strlen(__s);
      if (4 < sVar1) {
        pcVar2 = (char *)0x0;
      }
      return pcVar2;
    }
  }
  return (char *)0x0;
}



char * FUN_00112cb0(char *param_1)

{
  char *pcVar1;
  int iVar2;
  size_t sVar3;
  char *pcVar4;
  long in_FS_OFFSET;
  glob_t local_108;
  undefined local_b8 [25];
  byte local_9f;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  sVar3 = strlen(param_1);
  pcVar1 = param_1 + sVar3;
  if ((param_1 == pcVar1) || (pcVar4 = strpbrk(param_1,"*?"), pcVar4 != (char *)0x0)) {
    param_1 = (char *)0x0;
  }
  else if (pcVar1[-1] != '/') {
    if ((param_1 == pcVar1 + -1) && (pcVar1[-1] == '.')) {
      pcVar1[0] = '/';
      pcVar1[1] = '\0';
    }
    else {
      iVar2 = glob(param_1,6,(__errfunc *)0x0,&local_108);
      if ((iVar2 == 0) &&
         (((local_108.gl_pathc != 0 &&
           (iVar2 = FUN_00114300(*local_108.gl_pathv,local_b8), iVar2 == 0)) &&
          ((local_9f & 0x40) != 0)))) {
        *param_1 = '\0';
        strcat(param_1,*local_108.gl_pathv);
        globfree(&local_108);
      }
      else {
        globfree(&local_108);
        param_1 = (char *)0x0;
      }
    }
  }
  if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return param_1;
}



void FUN_00112de0(char *param_1)

{
  strpbrk(param_1,"*?");
  return;
}



char * FUN_00112df0(char *param_1)

{
  size_t sVar1;
  char *pcVar2;
  char *pcVar3;
  
  sVar1 = strlen(param_1);
  pcVar2 = param_1 + sVar1;
  do {
    pcVar3 = pcVar2;
    pcVar2 = pcVar3 + -1;
    if (pcVar2 < param_1) break;
  } while (*pcVar2 != '/');
  if (*pcVar3 == '\0') {
    pcVar3 = (char *)0x0;
  }
  return pcVar3;
}



char FUN_00112e30(void)

{
  uint uVar1;
  char cVar2;
  
  cVar2 = '\0';
LAB_00112e40:
  do {
    while( true ) {
      uVar1 = fgetc(stdin);
      if (uVar1 == 3) {
        fwrite(&DAT_00119741,1,3,stderr);
                    // WARNING: Subroutine does not return
        exit(1);
      }
      if (uVar1 == 0xffffffff) {
        fwrite(&DAT_00119745,1,2,stderr);
                    // WARNING: Subroutine does not return
        exit(1);
      }
      if ((uVar1 != 0xd) && (uVar1 != 10)) break;
      if (cVar2 != '\0') {
        fwrite(&DAT_00119745,1,2,stderr);
        fflush(stderr);
        return cVar2;
      }
LAB_00112e94:
      fputc(7,stderr);
      fflush(stderr);
    }
    uVar1 = uVar1 & 0xffffffdf;
    if (uVar1 == 0x59) {
      cVar2 = 'y';
      goto LAB_00112e40;
    }
    if (uVar1 == 0x4e) {
      cVar2 = 'n';
    }
    else {
      if (uVar1 != 0x41) goto LAB_00112e94;
      cVar2 = 'a';
    }
  } while( true );
}



void FUN_00112f60(void)

{
  fwrite("                                \n",1,0x21,stderr);
  fflush(stderr);
  return;
}



void FUN_00112fa0(undefined8 param_1,undefined8 param_2,undefined8 param_3,undefined8 param_4,
                 undefined8 param_5,undefined8 param_6,undefined8 param_7,undefined8 param_8,
                 undefined8 param_9,undefined8 param_10,undefined8 param_11,undefined8 param_12,
                 undefined8 param_13,undefined8 param_14)

{
  char in_AL;
  long in_FS_OFFSET;
  undefined4 local_2e0;
  undefined4 local_2dc;
  undefined *local_2d8;
  undefined *local_2d0;
  char local_2c8;
  undefined local_2c7 [519];
  long local_c0;
  undefined local_b8 [8];
  undefined8 local_b0;
  undefined8 local_a8;
  undefined8 local_a0;
  undefined8 local_98;
  undefined8 local_90;
  undefined8 local_88;
  undefined8 local_78;
  undefined8 local_68;
  undefined8 local_58;
  undefined8 local_48;
  undefined8 local_38;
  undefined8 local_28;
  undefined8 local_18;
  
  if (in_AL != '\0') {
    local_88 = param_1;
    local_78 = param_2;
    local_68 = param_3;
    local_58 = param_4;
    local_48 = param_5;
    local_38 = param_6;
    local_28 = param_7;
    local_18 = param_8;
  }
  local_c0 = *(long *)(in_FS_OFFSET + 0x28);
  local_2d8 = &stack0x00000008;
  local_2c8 = '\r';
  local_2d0 = local_b8;
  local_2e0 = 8;
  local_2dc = 0x30;
  local_b0 = param_10;
  local_a8 = param_11;
  local_a0 = param_12;
  local_98 = param_13;
  local_90 = param_14;
  __vsprintf_chk(local_2c7,1,0x1ff,param_9,&local_2e0);
  fputs(&local_2c8,stderr);
  FUN_00112f60();
  if (local_c0 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



void FUN_001130c0(void)

{
  long in_FS_OFFSET;
  sigaction local_a8;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  DAT_0011d0d4 = 0;
  local_a8.__sigaction_handler.sa_handler = FUN_00112b60;
  sigemptyset(&local_a8.sa_mask);
  local_a8.sa_flags = 0;
  sigaction(2,&local_a8,(sigaction *)0x0);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    // WARNING: Subroutine does not return
  __stack_chk_fail();
}



undefined4 FUN_00113140(void)

{
  return DAT_0011d0d4;
}



bool FUN_00113150(FILE *param_1,long param_2,uint param_3,uint *param_4)

{
  int iVar1;
  size_t sVar2;
  uint uVar3;
  size_t __n;
  ulong uVar4;
  
  *param_4 = 0;
  if (param_3 != 0) {
    __n = (size_t)param_3;
    uVar4 = 0;
    do {
      sVar2 = fread((void *)(uVar4 + param_2),1,__n,param_1);
      iVar1 = (int)sVar2;
      if (iVar1 == 0) break;
      uVar4 = (ulong)(iVar1 + *param_4);
      *param_4 = iVar1 + *param_4;
      uVar3 = (int)__n - iVar1;
      __n = (size_t)uVar3;
    } while (uVar3 != 0);
  }
  iVar1 = ferror(param_1);
  return iVar1 == 0;
}



bool FUN_001131c0(FILE *param_1,long param_2,uint param_3,uint *param_4)

{
  int iVar1;
  size_t sVar2;
  uint uVar3;
  size_t __n;
  ulong uVar4;
  
  *param_4 = 0;
  if (param_3 != 0) {
    __n = (size_t)param_3;
    uVar4 = 0;
    do {
      sVar2 = fwrite((void *)(uVar4 + param_2),1,__n,param_1);
      iVar1 = (int)sVar2;
      if (iVar1 == 0) break;
      uVar4 = (ulong)(iVar1 + *param_4);
      *param_4 = iVar1 + *param_4;
      uVar3 = (int)__n - iVar1;
      __n = (size_t)uVar3;
    } while (uVar3 != 0);
  }
  iVar1 = ferror(param_1);
  return iVar1 == 0;
}



undefined8 FUN_00113230(FILE *param_1)

{
  int iVar1;
  long in_FS_OFFSET;
  undefined auStack_a8 [24];
  uint local_90;
  undefined8 local_78;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1 != (FILE *)0x0) {
    iVar1 = fileno(param_1);
    iVar1 = FUN_00114320(iVar1,auStack_a8);
    if ((iVar1 == 0) && ((local_90 & 0xf000) == 0x8000)) goto LAB_00113282;
  }
  local_78 = 0;
LAB_00113282:
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return local_78;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

long ftell(FILE *__stream)

{
  long lVar1;
  
  lVar1 = ftell(__stream);
  return lVar1;
}



void FUN_001132c0(FILE *param_1,long param_2)

{
  fseek(param_1,param_2,0);
  return;
}



void FUN_001132d0(FILE *param_1,long param_2,int param_3)

{
  fseek(param_1,param_2,param_3);
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int ungetc(int __c,FILE *__stream)

{
  int iVar1;
  
  iVar1 = ungetc(__c,__stream);
  return iVar1;
}



bool FUN_001132f0(FILE *param_1)

{
  int iVar1;
  
  if (param_1 != (FILE *)0x0) {
    iVar1 = fclose(param_1);
    return iVar1 == 0;
  }
  return false;
}



bool FUN_00113320(FILE *param_1)

{
  int iVar1;
  
  if (param_1 == (FILE *)0x0) {
    return false;
  }
  fflush(param_1);
  iVar1 = fileno(param_1);
  iVar1 = ftruncate(iVar1,0);
  return iVar1 == 0;
}



bool FUN_00113360(char *param_1)

{
  int iVar1;
  
  if (param_1 != (char *)0x0) {
    iVar1 = remove(param_1);
    return iVar1 == 0;
  }
  return false;
}



void FUN_00113390(undefined8 param_1)

{
  __fprintf_chk(stderr,1,&DAT_00119748,param_1);
  fflush(stderr);
  return;
}



// WARNING: Restarted to delay deadcode elimination for space: stack

int FUN_001133d0(long param_1,ulong *param_2,uint param_3,char *param_4,int *param_5,int param_6)

{
  byte bVar1;
  byte bVar2;
  char cVar3;
  bool bVar4;
  undefined2 uVar5;
  int iVar6;
  uint uVar7;
  ulong uVar8;
  char *pcVar9;
  uint *__dest;
  long lVar10;
  iconv_t __cd;
  size_t sVar11;
  ushort *__ptr;
  char *pcVar12;
  size_t sVar13;
  char *pcVar14;
  ushort **ppuVar15;
  __int32_t **pp_Var16;
  int iVar17;
  long lVar18;
  int iVar19;
  byte *pbVar20;
  uint *puVar21;
  uint *puVar22;
  byte *pbVar23;
  uint uVar24;
  int iVar25;
  undefined **ppuVar26;
  long lVar27;
  ushort *puVar28;
  ushort uVar29;
  ushort *puVar30;
  ushort *puVar31;
  char *pcVar32;
  char *pcVar33;
  ulong uVar34;
  char *__s;
  long in_FS_OFFSET;
  bool bVar35;
  bool bVar36;
  ulong *local_f0;
  int local_d0;
  int local_bc;
  char *local_88;
  uint *local_80;
  char *local_78;
  size_t local_70;
  byte *local_68 [2];
  undefined8 local_54;
  undefined2 local_4c;
  undefined8 local_4a;
  undefined2 local_42;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_5 != (int *)0x0) {
    *param_5 = 0;
  }
  if (param_3 < 10) {
    local_bc = -1;
    builtin_strncpy(param_4,"can\'t read tag header",0x16);
  }
  else {
    uVar34 = *param_2;
    local_4c = *(undefined2 *)(param_2 + 1);
    param_3 = param_3 - 10;
    local_f0 = (ulong *)((long)param_2 + 10);
    local_54 = uVar34;
    uVar5 = local_4c;
    if (((short)uVar34 == 0x4449) &&
       (local_54._2_1_ = (char)(uVar34 >> 0x10), local_54._2_1_ == '3')) {
      local_54._3_1_ = (char)(uVar34 >> 0x18);
      if (((local_54._3_1_ == '\x03') &&
          (local_54._4_1_ = (char)(uVar34 >> 0x20), local_54._4_1_ != -1)) &&
         (local_54._5_1_ = (char)(uVar34 >> 0x28), (uVar34 & 0x1f0000000000) == 0)) {
        if (local_54._5_1_ < '\0') {
          local_bc = -1;
          builtin_strncpy(param_4,"unsynchonization detected",0x1a);
          local_4c = uVar5;
        }
        else if ((uVar34 & 0x400000000000) == 0) {
          if ((uVar34 & 0x200000000000) == 0) {
            local_54._6_1_ = (byte)(uVar34 >> 0x30);
            local_54._7_1_ = (byte)(uVar34 >> 0x38);
            local_4c._1_1_ = (byte)((ushort)local_4c >> 8);
            if ((char)(local_54._6_1_ | local_54._7_1_ | (byte)local_4c | local_4c._1_1_) < '\0') {
              local_bc = -1;
              builtin_strncpy(param_4,"not valid ID3v2.3 (bad size)",0x1d);
              local_4c = uVar5;
            }
            else if ((int)param_3 <
                     (int)((uint)(byte)local_4c * 0x80 + (uint)local_4c._1_1_ +
                           (uint)local_54._7_1_ * 0x4000 + (uint)local_54._6_1_ * 0x200000)) {
              local_bc = -1;
              builtin_strncpy(param_4,"tag is truncated",0x11);
              local_4c = uVar5;
            }
            else {
              local_bc = 0;
              local_4c = uVar5;
              if (9 < param_3) {
                bVar4 = false;
                do {
                  uVar34 = *local_f0;
                  bVar2 = (byte)uVar34;
                  local_4a = uVar34;
                  local_42 = *(undefined2 *)(local_f0 + 1);
                  if ((((char)(uVar34 >> 8) == '\0' && bVar2 == 0) && (char)(uVar34 >> 0x10) == '\0'
                      ) && (char)(uVar34 >> 0x18) == '\0') break;
                  uVar8 = uVar34 & 0xffffffff;
                  pbVar20 = (byte *)&local_4a;
                  bVar1 = bVar2;
                  while( true ) {
                    if (((byte)(bVar1 - 0x3a) < 7) || (0x2a < (byte)((char)uVar8 - 0x30U))) {
                      builtin_strncpy(param_4,"bad frame identity",0x13);
                      goto LAB_001135e6;
                    }
                    pbVar20 = pbVar20 + 1;
                    if (pbVar20 == (byte *)((long)&local_4a + 4)) break;
                    bVar1 = *pbVar20;
                    uVar8 = (ulong)bVar1;
                  }
                  local_42._1_1_ = (char)((ushort)*(undefined2 *)(local_f0 + 1) >> 8);
                  if (local_42._1_1_ != '\0') {
                    builtin_strncpy(param_4,"unknown frame_header flag set",0x1e);
LAB_001135e6:
                    local_bc = -1;
                    break;
                  }
                  local_4a._7_1_ = (byte)(uVar34 >> 0x38);
                  local_4a._6_1_ = (byte)(uVar34 >> 0x30);
                  local_4a._4_1_ = (byte)(uVar34 >> 0x20);
                  local_4a._5_1_ = (byte)(uVar34 >> 0x28);
                  if (param_6 == 0) {
                    iVar17 = (uint)local_4a._7_1_ + (uint)local_4a._6_1_ * 0x100 +
                             (uint)local_4a._5_1_ * 0x10000 + (uint)local_4a._4_1_ * 0x1000000;
                  }
                  else {
                    iVar17 = (uint)local_4a._7_1_ + (uint)local_4a._6_1_ * 0x80 +
                             (uint)local_4a._5_1_ * 0x4000 + (uint)local_4a._4_1_ * 0x200000;
                  }
                  if (iVar17 == 0) {
                    builtin_strncpy(param_4,"empty frame not allowed",0x18);
                    goto LAB_001135e6;
                  }
                  if ((int)(param_3 - 10) < iVar17) {
                    builtin_strncpy(param_4,"can\'t read frame body",0x16);
                    goto LAB_001135e6;
                  }
                  uVar34 = (ulong)iVar17;
                  param_3 = (param_3 - 10) - iVar17;
                  pcVar9 = (char *)malloc((long)(iVar17 + 4));
                  memcpy(pcVar9,(void *)((long)local_f0 + 10),uVar34);
                  local_f0 = (ulong *)((long)local_f0 + 10 + uVar34);
                  if (bVar2 != 0x54) {
                    if ((int)local_4a != 0x43495041) goto LAB_001136b1;
                    if (*pcVar9 == '\0') {
                      uVar34 = (ulong)(iVar17 - 1);
                      pcVar32 = pcVar9 + 1;
                      lVar27 = uVar34 + 1;
                      pcVar33 = pcVar32;
                      do {
                        pcVar14 = pcVar33;
                        iVar17 = (int)uVar34;
                        uVar24 = iVar17 - 1;
                        uVar34 = (ulong)uVar24;
                        if (pcVar9 + lVar27 == pcVar14) goto LAB_00113a06;
                        pcVar33 = pcVar14 + 1;
                      } while (*pcVar14 != '\0');
                      if ((int)uVar24 < 0) {
LAB_00113a06:
                        builtin_strncpy(param_4,"unterminated picture mime type",0x1f);
                      }
                      else if (uVar24 == 0) {
                        builtin_strncpy(param_4,"no picture type",0x10);
                      }
                      else {
                        cVar3 = pcVar14[1];
                        pcVar33 = pcVar14 + 2;
                        iVar17 = iVar17 + -3;
                        do {
                          iVar6 = iVar17;
                          pcVar14 = pcVar33;
                          if (iVar6 == -1) goto LAB_00113a7a;
                          pcVar33 = pcVar14 + 1;
                          iVar17 = iVar6 + -1;
                        } while (*pcVar14 != '\0');
                        if (iVar6 < 0) {
LAB_00113a7a:
                          builtin_strncpy(param_4,"unterminated picture description",0x21);
                        }
                        else {
                          if (1 < iVar6) {
                            __s = ".jpg";
                            pcVar12 = strstr(pcVar32,"jpeg");
                            if ((pcVar12 == (char *)0x0) &&
                               (pcVar12 = strstr(pcVar32,"JPEG"), pcVar12 == (char *)0x0)) {
                              __s = ".png";
                              pcVar12 = strstr(pcVar32,"png");
                              if ((pcVar12 == (char *)0x0) &&
                                 (pcVar32 = strstr(pcVar32,"PNG"), pcVar32 == (char *)0x0)) {
                                if (*pcVar33 == -1) {
                                  __s = "";
                                  if (pcVar14[2] == -0x28) {
                                    __s = ".jpg";
                                  }
                                }
                                else {
                                  __s = "";
                                  if ((*pcVar33 == -0x77) && (pcVar14[2] == 'P')) {
                                    __s = ".png";
                                  }
                                }
                              }
                            }
                            if (cVar3 == '\x03') {
LAB_00113c55:
                              bVar4 = true;
                              iVar17 = 0x11;
                              pcVar32 = "Cover Art (Front)";
                            }
                            else {
                              if (cVar3 != '\x04') {
                                if (((byte)(cVar3 - 1U) < 2) || (bVar4)) goto LAB_001136b1;
                                goto LAB_00113c55;
                              }
                              iVar17 = 0x10;
                              pcVar32 = "Cover Art (Back)";
                            }
                            sVar13 = strlen(__s);
                            iVar17 = iVar17 + 1 + (int)sVar13;
                            iVar25 = iVar17 + iVar6;
                            pbVar20 = (byte *)malloc((long)iVar25);
                            pcVar14 = stpcpy((char *)pbVar20,pcVar32);
                            memcpy(pcVar14,__s,sVar13 + 1);
                            memcpy(pbVar20 + iVar17,pcVar33,(long)iVar6);
                            if ((param_1 != 0) &&
                               (iVar17 = WavpackAppendBinaryTagItem(param_1,pcVar32,pbVar20,iVar25),
                               iVar17 == 0)) goto LAB_00113ee2;
                            local_bc = local_bc + 1;
                            if (param_5 != (int *)0x0) {
                              sVar13 = strlen(pcVar32);
                              *param_5 = *param_5 + iVar25 + 1 + (int)sVar13;
                            }
                            goto LAB_0011396c;
                          }
                          builtin_strncpy(param_4,"no picture data",0x10);
                        }
                      }
                    }
                    else {
                      builtin_strncpy(param_4,"unhandled APIC character encoding",0x22);
                    }
                    goto LAB_001135e6;
                  }
                  bVar35 = (int)local_4a == 0x58585854;
                  if (*pcVar9 == '\0') {
                    pcVar32 = pcVar9 + uVar34;
                    if (pcVar9 + 1 < pcVar32) {
                      lVar27 = 1;
                      sVar13 = (size_t)(iVar17 * 3);
                      pcVar33 = pcVar9 + 1;
                      do {
                        cVar3 = *pcVar33;
                        iVar25 = (int)lVar27;
                        iVar6 = iVar25 + -1;
                        if (cVar3 == '\0') goto LAB_001139b1;
                        __dest = (uint *)malloc(sVar13);
                        lVar18 = 0;
                        local_68[lVar27 + -1] = (byte *)__dest;
                        if (pcVar33 < pcVar32) {
                          *(char *)__dest = cVar3;
                          pcVar33 = pcVar33 + 1;
                          lVar10 = 1;
                          do {
                            lVar18 = (long)(int)lVar10;
                            pcVar14 = pcVar32;
                            if (pcVar32 == pcVar33) goto LAB_00113983;
                            cVar3 = *pcVar33;
                            pcVar33 = pcVar33 + 1;
                            *(char *)((long)__dest + lVar10) = cVar3;
                            lVar10 = lVar10 + 1;
                          } while (cVar3 != '\0');
                        }
                        pcVar14 = pcVar33;
                        if (pcVar33 == pcVar32) {
LAB_00113983:
                          *(char *)((long)__dest + lVar18) = '\0';
                        }
                        pcVar33 = (char *)calloc(sVar13,1);
                        puVar22 = __dest;
                        do {
                          puVar21 = puVar22;
                          uVar7 = *puVar21 + 0xfefefeff & ~*puVar21;
                          uVar24 = uVar7 & 0x80808080;
                          puVar22 = puVar21 + 1;
                        } while (uVar24 == 0);
                        bVar36 = (uVar7 & 0x8080) == 0;
                        if (bVar36) {
                          uVar24 = uVar24 >> 0x10;
                        }
                        if (bVar36) {
                          puVar22 = (uint *)((long)puVar21 + 6);
                        }
                        local_78 = (char *)((long)puVar22 +
                                           ((-3 - (ulong)CARRY1((byte)uVar24,(byte)uVar24)) -
                                           (long)__dest));
                        local_88 = pcVar33;
                        local_80 = __dest;
                        local_70 = (long)(iVar17 * 3 + -1);
                        __cd = iconv_open("UTF-8","ISO-8859-1");
                        if (__cd != (iconv_t)0xffffffffffffffff) {
                          sVar11 = iconv(__cd,(char **)&local_80,(size_t *)&local_78,&local_88,
                                         &local_70);
                          iconv_close(__cd);
                          local_d0 = (int)sVar11;
                          if (local_d0 != -1) {
                            memcpy(__dest,pcVar33,sVar13);
                          }
                        }
                        free(pcVar33);
                        lVar27 = lVar27 + 1;
                        pcVar33 = pcVar14;
                        iVar6 = iVar25;
                      } while (iVar25 < 2 && pcVar14 < pcVar32);
LAB_001138a8:
                      pbVar20 = local_68[0];
                      if ((bVar35) && (iVar6 == 2)) {
                        bVar2 = *local_68[0];
                        uVar8 = (ulong)bVar2;
                        uVar34 = uVar8;
                        pbVar23 = local_68[0];
                        while (bVar2 != 0) {
                          if ((char)uVar34 < '\0') goto LAB_001138f4;
                          bVar2 = pbVar23[1];
                          uVar34 = (ulong)bVar2;
                          pbVar23 = pbVar23 + 1;
                        }
                        ppuVar15 = __ctype_b_loc();
                        puVar28 = *ppuVar15;
                        if ((*(byte *)((long)puVar28 + uVar8 * 2 + 1) & 1) != 0) {
                          bVar2 = pbVar20[1];
                          pbVar23 = pbVar20;
                          while (bVar2 != 0) {
                            if ((*(byte *)((long)puVar28 + (ulong)bVar2 * 2 + 1) & 1) != 0) {
                              pp_Var16 = __ctype_tolower_loc();
                              pbVar23[1] = (byte)(*pp_Var16)[bVar2];
                            }
                            bVar2 = pbVar23[2];
                            pbVar23 = pbVar23 + 1;
                          }
                        }
LAB_001138f4:
                        pbVar23 = local_68[1];
                        if (param_1 != 0) {
                          sVar13 = strlen((char *)local_68[1]);
                          iVar17 = WavpackAppendTagItem(param_1,pbVar20,pbVar23,sVar13);
                          if (iVar17 == 0) {
LAB_00113ee2:
                            pcVar9 = (char *)WavpackGetErrorMessage(param_1);
                            strcpy(param_4,pcVar9);
                            goto LAB_001135e6;
                          }
                        }
                        local_bc = local_bc + 1;
                        pbVar23 = local_68[1];
                        if (param_5 != (int *)0x0) {
                          sVar13 = strlen((char *)pbVar20);
                          pbVar23 = local_68[1];
                          sVar11 = strlen((char *)local_68[1]);
                          *param_5 = (int)sVar11 + *param_5 + 1 + (int)sVar13;
                        }
                        free(pbVar23);
                      }
                      else {
                        pcVar32 = "TALB";
                        ppuVar26 = &PTR_s_Album_0011c748;
                        while( true ) {
                          iVar17 = strncmp((char *)&local_4a,pcVar32,4);
                          pbVar20 = local_68[0];
                          if (iVar17 == 0) {
                            if (param_1 != 0) {
                              sVar13 = strlen((char *)local_68[0]);
                              iVar17 = WavpackAppendTagItem(param_1,*ppuVar26,pbVar20,sVar13);
                              if (iVar17 == 0) goto LAB_00113ee2;
                            }
                            local_bc = local_bc + 1;
                            if (param_5 != (int *)0x0) {
                              sVar13 = strlen((char *)local_68[0]);
                              sVar11 = strlen(*ppuVar26);
                              *param_5 = (int)sVar11 + *param_5 + 1 + (int)sVar13;
                            }
                          }
                          if (ppuVar26 + 2 == &PTR_DAT_0011c8e8) break;
                          pcVar32 = ppuVar26[1];
                          ppuVar26 = ppuVar26 + 2;
                        }
                        free(local_68[iVar6 + -1]);
                        pbVar20 = local_68[0];
                        if (iVar6 + -1 == 0) goto LAB_001136b1;
                      }
LAB_0011396c:
                      free(pbVar20);
                    }
                  }
                  else {
                    if (*pcVar9 != '\x01') {
                      builtin_strncpy(param_4,"unknown character encoding",0x1b);
                      goto LAB_001135e6;
                    }
                    iVar17 = iVar17 * 2;
                    lVar27 = 0;
                    puVar28 = (ushort *)(pcVar9 + 1);
                    __ptr = (ushort *)malloc(uVar34);
                    while (((puVar28 < (ushort *)
                                       ((long)(pcVar9 + (uVar34 & 0xfffffffffffffffe)) + -2) &&
                            (*(char *)puVar28 == -1)) && (*(char *)((long)puVar28 + 1) == -2))) {
                      pbVar20 = (byte *)malloc((long)iVar17);
                      local_68[lVar27] = pbVar20;
                      puVar31 = puVar28 + 1;
                      puVar30 = __ptr;
                      while (puVar28 = puVar31, puVar31 < pcVar9 + (uVar34 & 0xfffffffffffffffe)) {
                        puVar28 = puVar31 + 1;
                        uVar29 = *puVar31;
                        *puVar30 = uVar29;
                        if (uVar29 == 0) break;
                        puVar30 = puVar30 + 1;
                        puVar31 = puVar28;
                      }
                      uVar29 = *__ptr;
                      pbVar23 = pbVar20;
                      if (uVar29 != 0) {
                        lVar18 = 0;
                        puVar31 = __ptr;
                        do {
                          puVar31 = puVar31 + 1;
                          iVar6 = (int)lVar18;
                          pbVar23 = pbVar20 + iVar6;
                          if (uVar29 < 0x80) {
                            iVar25 = iVar6 + 1;
                            if (iVar17 <= iVar25) goto LAB_00113be0;
                            *pbVar23 = (byte)uVar29;
                          }
                          else {
                            if (uVar29 < 0x800) {
LAB_00113be0:
                              iVar25 = iVar6 + 2;
                              if (iVar17 <= iVar25) goto LAB_00113b92;
                              iVar19 = iVar6 + 1;
                              *pbVar23 = (byte)(uVar29 >> 6) | 0xc0;
                            }
                            else {
LAB_00113b92:
                              iVar25 = iVar6 + 3;
                              if (iVar17 <= iVar25) goto LAB_00113994;
                              *pbVar23 = (byte)(uVar29 >> 0xc) | 0xe0;
                              iVar19 = iVar6 + 2;
                              pbVar20[iVar6 + 1] = (byte)(uVar29 >> 6) & 0x3f | 0x80;
                            }
                            pbVar20[iVar19] = (byte)uVar29 & 0x3f | 0x80;
                          }
                          lVar18 = (long)iVar25;
                          uVar29 = *puVar31;
                        } while (uVar29 != 0);
                        pbVar23 = pbVar20 + lVar18;
                      }
LAB_00113994:
                      *pbVar23 = 0;
                      if (lVar27 == 1) {
                        iVar6 = 2;
                        goto LAB_001139a9;
                      }
                      lVar27 = 1;
                    }
                    iVar6 = (int)lVar27;
LAB_001139a9:
                    free(__ptr);
LAB_001139b1:
                    if (iVar6 != 0) goto LAB_001138a8;
                  }
LAB_001136b1:
                  free(pcVar9);
                } while (9 < (int)param_3);
              }
            }
          }
          else {
            local_bc = -1;
            builtin_strncpy(param_4,"experimental indicator detected",0x20);
            local_4c = uVar5;
          }
        }
        else {
          local_bc = -1;
          builtin_strncpy(param_4,"extended header detected",0x19);
          local_4c = uVar5;
        }
      }
      else {
        local_bc = -1;
        builtin_strncpy(param_4,"not valid ID3v2.3",0x12);
        local_4c = uVar5;
      }
    }
    else {
      local_bc = -1;
      builtin_strncpy(param_4,"no ID3v2 tag found",0x13);
      local_4c = uVar5;
    }
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    // WARNING: Subroutine does not return
    __stack_chk_fail();
  }
  return local_bc;
}



ulong FUN_00114170(long param_1,char *param_2,int param_3,undefined8 param_4,undefined4 *param_5)

{
  char *pcVar1;
  uint uVar2;
  ulong uVar3;
  char *pcVar4;
  undefined8 uVar5;
  
  if (param_5 != (undefined4 *)0x0) {
    *param_5 = 0;
  }
  if (param_3 < 10) {
LAB_001141e4:
    uVar2 = FUN_001133d0(0,param_2,param_3,param_4,param_5,0);
    uVar3 = (ulong)uVar2;
    if ((int)uVar2 < 1) {
      uVar2 = FUN_001133d0(0,param_2,param_3,param_4,param_5,1);
      if (0 < (int)uVar2) {
        if (param_1 != 0) {
          uVar5 = 1;
          goto LAB_00114209;
        }
        uVar3 = (ulong)uVar2;
      }
    }
    else {
      uVar5 = 0;
      if (param_1 != 0) {
LAB_00114209:
        uVar3 = FUN_001133d0(param_1,param_2,param_3,param_4,param_5,uVar5);
        return uVar3;
      }
    }
  }
  else {
    pcVar4 = param_2 + param_3;
    pcVar1 = pcVar4 + -10;
    if (param_2 < pcVar1) {
      do {
        if ((((*param_2 == 'I') && (param_2[1] == 'D')) && (param_2[2] == '3')) &&
           (param_2[3] == '\x03')) {
          param_3 = (int)pcVar4 - (int)param_2;
          goto LAB_001141df;
        }
        param_2 = param_2 + 1;
      } while (pcVar1 != param_2);
    }
    else {
LAB_001141df:
      if (pcVar1 != param_2) goto LAB_001141e4;
    }
    uVar3 = 0;
  }
  return uVar3;
}



void FUN_00114280(undefined4 param_1,undefined8 param_2,undefined8 param_3)

{
  long lVar1;
  
  _DT_INIT();
  if (true) {
    lVar1 = 0;
    do {
      (*(code *)(&__DT_INIT_ARRAY)[lVar1])(param_1,param_2,param_3);
      lVar1 = lVar1 + 1;
    } while (lVar1 != 1);
  }
  return;
}



void FUN_001142f0(void)

{
  return;
}



void FUN_00114300(char *param_1,stat *param_2)

{
  __xstat(1,param_1,param_2);
  return;
}



void FUN_00114320(int param_1,stat *param_2)

{
  __fxstat(1,param_1,param_2);
  return;
}



void _DT_FINI(void)

{
  return;
}



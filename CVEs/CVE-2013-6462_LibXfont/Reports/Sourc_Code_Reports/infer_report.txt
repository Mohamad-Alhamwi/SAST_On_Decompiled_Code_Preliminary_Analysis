#0
src/builtins/render.c:57: error: Dead Store
  The value written to &ret (type int) is never used.
  55.     FontDefaultFormat(&bit, &byte, &glyph, &scan);
  56.     /* get any changes made from above */
  57.     ret = CheckFSFormat(format, fmask, &bit, &byte, &scan, &glyph, &image);
          ^
  58. 
  59.     /* Fill in font record. Data format filled in by reader. */

#1
src/fontfile/fileio.c:68: error: Resource Leak
  resource acquired by call to `open()` at line 47, column 10 is not released after line 68, column 6.
  66. 	cooked = BufFilePushZIP (raw);
  67. 	if (!cooked) {
  68. 	    BufFileClose (raw, TRUE);
           ^
  69. 	    return 0;
  70. 	}

#2
src/builtins/fpe.c:59: error: Dead Store
  The value written to &dir (type _FontDirectory*) is never used.
  57.     FontDirectoryPtr	dir;
  58. 
  59.     dir = (FontDirectoryPtr) fpe->private;
          ^
  60.     /* builtins can't change! */
  61.     return Successful;

#3
src/bitmap/bitmapfunc.c:138: error: Dead Store
  The value written to &ret (type int) is never used.
  136.     FontDefaultFormat(&bit, &byte, &glyph, &scan);
  137.     /* get any changes made from above */
  138.     ret = CheckFSFormat(format, fmask, &bit, &byte, &scan, &glyph, &image);
           ^
  139. 
  140.     /* Fill in font record. Data format filled in by reader. */

#4
src/bitmap/bitmapfunc.c:132: error: Resource Leak
  resource acquired by call to `FontFileOpen()` at line 126, column 12 is not released after line 132, column 2.
  130. 	fprintf(stderr, "Error: Couldn't allocate pFont (%ld)\n",
  131. 		(unsigned long)sizeof(FontRec));
  132. 	FontFileClose (file);
        ^
  133. 	return AllocError;
  134.     }

#5
src/bitmap/bitmapfunc.c:143: error: Resource Leak
  resource acquired by call to `FontFileOpen()` at line 126, column 12 is not released after line 143, column 11.
  141.     pFont->refcnt = 0;
  142. 
  143.     ret = (*readers[i].ReadFont) (pFont, file, bit, byte, glyph, scan);
                 ^
  144. 
  145.     FontFileClose (file);

#6
src/fontfile/fontscale.c:144: error: Null Dereference
  pointer `res` last assigned on line 133 could be null and is dereferenced at line 144, column 13.
  142. 	{
  143. 	    if (vals->x <= 0)
  144. 		vals->x = res->x_resolution;
                   ^
  145. 	    if (vals->y <= 0)
  146. 		vals->y = res->y_resolution;

#7
src/fontfile/fontscale.c:146: error: Null Dereference
  pointer `res` last assigned on line 133 could be null and is dereferenced at line 146, column 13.
  144. 		vals->x = res->x_resolution;
  145. 	    if (vals->y <= 0)
  146. 		vals->y = res->y_resolution;
                   ^
  147. 	}
  148. 

#8
src/fontfile/catalogue.c:159: error: Uninitialized Value
  The value read from entry was never initialized.
  157. 
  158.     CatalogueUnrefFPEs (fpe);
  159.     while (entry = readdir(dir), entry != NULL)
                                        ^
  160.     {
  161. 	snprintf(link, sizeof link, "%s/%s", path, entry->d_name);

#9
src/bitmap/bdfutils.c:184: error: Dead Store
  The value written to &p (type char*) is never used.
  182. 	if (*s == '"') {
  183. 	    if (*(s + 1) != '"') {
  184. 		*p++ = 0;
          ^
  185. 		atom = bdfForceMakeAtom(pp, NULL);
  186. 		free(pp);

#10
src/bitmap/bdfutils.c:164: error: Dead Store
  The value written to &pp (type char*) is never used.
  162.     }
  163.     if (*s != '"') {
  164. 	pp = s;
        ^
  165. 	/* no white space in value */
  166. 	for (pp = s; *pp; pp++)

#11
src/bitmap/bitmapfunc.c:170: error: Resource Leak
  resource acquired by call to `FontFileOpen()` at line 167, column 12 is not released after line 170, column 11.
  168.     if (!file)
  169. 	return BadFontName;
  170.     ret = (*readers[i].ReadInfo) (pFontInfo, file);
                 ^
  171.     FontFileClose (file);
  172.     return ret;

#12
src/fontfile/bufio.c:165: error: Null Dereference
  pointer `f` last assigned on line 164 could be null and is dereferenced at line 165, column 5.
  163. #endif
  164.     f = BufFileCreate ((char *)(long) fd, 0, BufFileRawFlush, 0, BufFileFlush);
  165.     f->bufp = f->buffer;
           ^
  166.     f->left = BUFFILESIZE;
  167.     return f;

#13
src/bitmap/snfread.c:400: error: Dead Store
  The value written to &ret (type int) is never used.
  398. 
  399.     if (fi.inkMetrics) {
  400. 	ret = Successful;
        ^
  401. 	ret = snfReadxCharInfo(file, &pFont->info.ink_minbounds);
  402. 	ret = snfReadxCharInfo(file, &pFont->info.ink_maxbounds);

#14
src/bitmap/snfread.c:401: error: Dead Store
  The value written to &ret (type int) is never used.
  399.     if (fi.inkMetrics) {
  400. 	ret = Successful;
  401. 	ret = snfReadxCharInfo(file, &pFont->info.ink_minbounds);
        ^
  402. 	ret = snfReadxCharInfo(file, &pFont->info.ink_maxbounds);
  403. 	for (i = 0; ret == Successful && i < num_chars; i++)

#15
src/util/fontxlfd.c:290: error: Dead Store
  The value written to &ptr (type char*) is never used.
  288. 	   (in readreal()).  */
  289. 
  290. 	if ((ptr = readreal(++ptr, matrix + 0)) &&
                            ^
  291. 	    (ptr = readreal(ptr, matrix + 1)) &&
  292. 	    (ptr = readreal(ptr, matrix + 2)) &&

#16
src/bitmap/bdfutils.c:288: error: Null Dereference
  pointer `name` last assigned on line 286 could be null and is dereferenced by call to `strcmp()` at line 288, column 7.
  286.     name = NameForAtom(prop->name);
  287.     for (special = SpecialAtoms; *special; special++)
  288. 	if (!strcmp(name, *special))
             ^
  289. 	    break;
  290. 

#17
src/fontfile/catalogue.c:298: error: Dead Store
  The value written to &dir (type _FontDirectory*) is never used.
  296.     {
  297. 	subfpe = cat->fpeList[i];
  298. 	dir = subfpe->private;
        ^
  299. 	status = FontFileOpenFont(client, subfpe, flags,
  300. 				  name, namelen, format, fmask, id,

#18
src/fontfile/catalogue.c:332: error: Dead Store
  The value written to &dir (type _FontDirectory*) is never used.
  330.     {
  331. 	subfpe = cat->fpeList[i];
  332. 	dir = subfpe->private;
        ^
  333. 	FontFileListFonts(client, subfpe, pat, len, max, names);
  334.     }

#19
src/util/fontxlfd.c:445: error: Dead Store
  The value written to &ptr2 (type char*) is never used.
  443. 	ptr5 = tmpBuf + (ptr5 - ptr2);
  444. 	ptr3 = tmpBuf + (ptr3 - ptr2);
  445. 	ptr2 = tmpBuf;
        ^
  446. 	ptr = ptr1 + 1;
  447. 

#20
src/bitmap/pcfread.c:493: error: Uninitialized Value
  The value read from bitmapSizes[_] was never initialized.
  491.     }
  492. 
  493.     sizebitmaps = bitmapSizes[PCF_GLYPH_PAD_INDEX(format)];
           ^
  494.     /* guard against completely empty font */
  495.     bitmaps = malloc(sizebitmaps ? sizebitmaps : 1);

#21
src/bitmap/pcfread.c:525: error: Uninitialized Value
  The value read from bitmapSizes[_] was never initialized.
  523. 	xCharInfo  *metric;
  524. 
  525. 	sizepadbitmaps = bitmapSizes[PCF_SIZE_TO_INDEX(glyph)];
        ^
  526. 	padbitmaps = malloc(sizepadbitmaps);
  527. 	if (!padbitmaps) {

#22
src/fc/fsconvert.c:455: error: Uninitialized Value
  The value read from pci was never initialized.
  453. 		c = (*chars++) - firstCol;
  454. 		if (c < numCols)
  455. 		    *glyphs++ = CHECK_ENCODING(c);
                         ^
  456. 		else
  457. 		    *glyphs++ = pDefault;

#23
src/fc/fsconvert.c:462: error: Uninitialized Value
  The value read from pci was never initialized.
  460. 	    while (err == Successful && count--) {
  461. 		c = (*chars++) - firstCol;
  462. 		if (c < numCols && CHECK_ENCODING(c)->bits)
                            ^
  463. 		    *glyphs++ = pci;
  464. 		else if (pDefault)

#24
src/fc/fsconvert.c:475: error: Uninitialized Value
  The value read from pci was never initialized.
  473. 		c = (c | *chars++) - firstCol;
  474. 		if (c < numCols)
  475. 		    *glyphs++ = CHECK_ENCODING(c);
                         ^
  476. 		else
  477. 		    *glyphs++ = pDefault;

#25
src/fc/fsconvert.c:483: error: Uninitialized Value
  The value read from pci was never initialized.
  481. 		c = *chars++ << 8;
  482. 		c = (c | *chars++) - firstCol;
  483. 		if (c < numCols && CHECK_ENCODING(c)->bits)
                            ^
  484. 		    *glyphs++ = pci;
  485. 		else if (pDefault)

#26
src/fc/fsconvert.c:498: error: Uninitialized Value
  The value read from pci was never initialized.
  496. 	    c = (*chars++) - firstCol;
  497. 	    if (r < numRows && c < numCols &&
  498. 		    CHECK_ENCODING(r * numCols + c)->bits)
             ^
  499. 		*glyphs++ = pci;
  500. 	    else if (pDefault)

#27
src/FreeType/xttcap.c:621: error: Dead Store
  The value written to &len (type int) is never used.
  619.                  */
  620.                 if ( p!=term ) {
  621.                     int len = term-p-1;
                           ^
  622.                     char *value;
  623. 

#28
src/FreeType/xttcap.c:626: error: Null Dereference
  pointer `value` last assigned on line 625 could be null and is dereferenced by call to `memcpy()` at line 626, column 21.
  624.                     len = term-p-1;
  625.                     value=malloc(len+1);
  626.                     memcpy(value, p+1, len);
                           ^
  627.                     value[len]='\0';
  628.                     SPropRecValList_add_record(pThisList,

#29
src/fontfile/fontdir.c:647: error: Uninitialized Value
  The value read from vals.values_supplied was never initialized.
  645. #define UNSCALED_ATTRIB "unscaled"
  646.     scalable_xlfd = (isscale &&
  647. 		(((vals.values_supplied & PIXELSIZE_MASK) == 0) ||
           ^
  648. 		 ((vals.values_supplied & POINTSIZE_MASK) == 0)));
  649.     /*

#30
src/fontfile/fontdir.c:648: error: Uninitialized Value
  The value read from vals.values_supplied was never initialized.
  646.     scalable_xlfd = (isscale &&
  647. 		(((vals.values_supplied & PIXELSIZE_MASK) == 0) ||
  648. 		 ((vals.values_supplied & POINTSIZE_MASK) == 0)));
           ^
  649.     /*
  650.      * For scalable fonts without a scalable XFLD, check if the "unscaled"

#31
src/fontfile/fontdir.c:672: error: Uninitialized Value
  The value read from vals.values_supplied was never initialized.
  670. 	} while (ptr2);
  671.     }
  672.     if (!isscale || (vals.values_supplied & SIZE_SPECIFY_MASK))
                            ^
  673.     {
  674.       /*

#32
src/fontfile/fontdir.c:695: error: Uninitialized Value
  The value read from vals.values_supplied was never initialized.
  693.     if (isscale)
  694.     {
  695. 	if (vals.values_supplied & SIZE_SPECIFY_MASK)
            ^
  696. 	{
  697. 	    bzero((char *)&zeroVals, sizeof(zeroVals));

#33
src/fontfile/fontdir.c:707: error: Uninitialized Value
  The value read from vals.values_supplied was never initialized.
  705. 	    if (existing)
  706. 	    {
  707. 		if ((vals.values_supplied & POINTSIZE_MASK) ==
             ^
  708. 			POINTSIZE_SCALAR &&
  709. 		    (int)(vals.point_matrix[3] * 10) == GetDefaultPointSize())

#34
src/fontfile/fontdir.c:735: error: Uninitialized Value
  The value read from vals.values_supplied was never initialized.
  733. 	}
  734. 	bzero((char *)&extra->defaults, sizeof(extra->defaults));
  735. 	if ((vals.values_supplied & POINTSIZE_MASK) == POINTSIZE_SCALAR &&
            ^
  736. 	    (int)(vals.point_matrix[3] * 10) == GetDefaultPointSize())
  737. 	    extra->defaults = vals;

#35
src/fontfile/fontdir.c:786: error: Uninitialized Value
  The value read from vals.values_supplied was never initialized.
  784. 	    return FALSE;
  785. 	}
  786. 	if (vals.values_supplied & SIZE_SPECIFY_MASK)
            ^
  787. 	{
  788.             if(bitmap)

#36
src/fontfile/fontdir.c:698: error: Uninitialized Value
  The value read from vals.x was never initialized.
  696. 	{
  697. 	    bzero((char *)&zeroVals, sizeof(zeroVals));
  698. 	    zeroVals.x = vals.x;
            ^
  699. 	    zeroVals.y = vals.y;
  700. 	    zeroVals.values_supplied = PIXELSIZE_SCALAR | POINTSIZE_SCALAR;

#37
src/fontfile/fontdir.c:752: error: Uninitialized Value
  The value read from vals.x was never initialized.
  750. 		POINTSIZE_SCALAR | PIXELSIZE_UNDEFINED;
  751. 	    extra->defaults.width = -1;
  752. 	    if (vals.x <= 0 || vals.y <= 0)
                ^
  753. 	    {
  754. 	        resolution = GetClientResolutions (&num);

#38
src/fontfile/fontdir.c:768: error: Uninitialized Value
  The value read from vals.x was never initialized.
  766. 	     else
  767. 	     {
  768. 		extra->defaults.x = vals.x;
         ^
  769. 		extra->defaults.y = vals.y;
  770. 	     }

#39
src/fontfile/fontdir.c:699: error: Uninitialized Value
  The value read from vals.y was never initialized.
  697. 	    bzero((char *)&zeroVals, sizeof(zeroVals));
  698. 	    zeroVals.x = vals.x;
  699. 	    zeroVals.y = vals.y;
            ^
  700. 	    zeroVals.values_supplied = PIXELSIZE_SCALAR | POINTSIZE_SCALAR;
  701. 	    FontParseXLFDName (entry.name.name, &zeroVals,

#40
src/fontfile/fontdir.c:752: error: Uninitialized Value
  The value read from vals.y was never initialized.
  750. 		POINTSIZE_SCALAR | PIXELSIZE_UNDEFINED;
  751. 	    extra->defaults.width = -1;
  752. 	    if (vals.x <= 0 || vals.y <= 0)
                               ^
  753. 	    {
  754. 	        resolution = GetClientResolutions (&num);

#41
src/fontfile/fontdir.c:769: error: Uninitialized Value
  The value read from vals.y was never initialized.
  767. 	     {
  768. 		extra->defaults.x = vals.x;
  769. 		extra->defaults.y = vals.y;
         ^
  770. 	     }
  771. 	     FontFileCompleteXLFD (&extra->defaults, &extra->defaults);

#42
src/fontfile/fontfile.c:702: error: Dead Store
  The value written to &result (type int) is never used.
  700.     fsRange		*ranges;
  701.     int			nranges;
  702.     int			result = BadFontName;
           ^
  703. 
  704.     if (len >= MAXFONTNAMELEN)

#43
src/fc/fsconvert.c:716: error: Null Dereference
  pointer `glyphs` last assigned on line 715 could be null and is dereferenced at line 716, column 5.
  714. 
  715.     glyphs = malloc (sizeof (FSGlyphRec) + size);
  716.     glyphs->next = fsfont->glyphs;
           ^
  717.     fsfont->glyphs = glyphs;
  718.     return (pointer) (glyphs + 1);

#44
src/bitmap/bitscale.c:1029: error: Dead Store
  The value written to &pci (type _CharInfo*) is never used.
  1027.      */
  1028. 
  1029.     pci = bitmapFont->metrics;
            ^
  1030.     for (i = 0; i < nchars; i++)
  1031.     {

#45
src/fc/fserve.c:861: error: Dead Store
  The value written to &buf (type char*) is never used.
  859. 
  860.     pd = (pointer) buf;
  861.     buf += pi->data_len;
           ^
  862. 
  863.     /* convert the properties and step over the reply */

#46
src/fc/fserve.c:973: error: Dead Store
  The value written to &ci (type _CharInfo*) is never used.
  971. 	haveInk = TRUE;
  972.     }
  973.     ci = pCI = malloc(sizeof(CharInfoRec) * numInfos);
           ^
  974. 
  975.     if (!pCI)

#47
src/fc/fserve.c:1316: error: Dead Store
  The value written to &err (type int) is never used.
  1314. 		break;
  1315. 	}
  1316. 	err = Successful;
         ^
  1317. 	if (!blockrec)
  1318. 	{

#48
src/FreeType/ftfuncs.c:1681: error: Dead Store
  The value written to &ep (type char*) is never used.
  1679.                 i++;
  1680.             }
  1681.             sp = ++ep;
                         ^
  1682.         }
  1683.     }

#49
src/FreeType/ftfuncs.c:1927: error: Dead Store
  The value written to &flags (type int) is never used.
  1925.     if( ft_get_index(code,font,&idx) || idx == 0 || idx == font->zero_idx ) {
  1926. 	*g = NULL;
  1927. 	flags &= ~FT_FORCE_CONSTANT_SPACING;
         ^
  1928. 	/* if( font->instance->spacing != FT_CHARCELL ) */
  1929. 	return Successful;

#50
src/FreeType/ftfuncs.c:1959: error: Dead Store
  The value written to &flags (type int) is never used.
  1957.     if ( ft_get_index(code,font,&idx) || idx == 0 || idx == font->zero_idx ) {
  1958. 	*metrics = NULL;
  1959. 	flags &= ~FT_FORCE_CONSTANT_SPACING;
         ^
  1960. 	/* if( font->instance->spacing != FT_CHARCELL ) */
  1961. 	return Successful;

#51
src/fc/fserve.c:2403: error: Dead Store
  The value written to &buf (type char*) is never used.
  2401.     {
  2402. 	memcpy (binfo->name, buf, rep->nameLength);
  2403. 	buf += _fs_pad_length (rep->nameLength);
         ^
  2404.     }
  2405. 

#52
src/fc/fserve.c:2425: error: Null Dereference
  pointer `rep` last assigned on line 2360 could be null and is dereferenced at line 2425, column 26.
  2423.     FD_CLR(conn->fs_fd, &_fs_fd_mask);
  2424. done:
  2425.     _fs_done_read (conn, rep->length << 2);
                                 ^
  2426.     return err;
  2427. }

#53
src/fc/fserve.c:2742: error: Dead Store
  The value written to &setup (type fsConnSetup*) is never used.
  2740. 	    return 0;
  2741. 	}
  2742. 	setup = (fsConnSetup *) data;
         ^
  2743. 	accept = (fsConnSetupAccept *) (data + headlen);
  2744. 	len = headlen + (accept->length << 2);

#54
src/fc/fserve.c:3106: error: Uninitialized Value
  The value read from ret was never initialized.
  3104. 	    break;
  3105.     }
  3106.     return ret;
            ^
  3107. }
  3108. 

#55
src/FreeType/ftfuncs.c:3127: error: Dead Store
  The value written to &xrc (type int) is never used.
  3125.     FTInstancePtr instance;
  3126.     FT_Size_Metrics *smetrics;
  3127.     int xrc=Successful;
            ^
  3128.     int charcell;
  3129.     long rawWidth = 0, rawAverageWidth = 0;

Found 56 issues
                Issue Type(ISSUED_TYPE_ID): #
                    Dead Store(DEAD_STORE): 23
  Uninitialized Value(UNINITIALIZED_VALUE): 22
        Null Dereference(NULL_DEREFERENCE): 7
              Resource Leak(RESOURCE_LEAK): 4
